webpackJsonp([1],{"+/hC":function(t,e){},"+k0q":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("QtNi"),o=a.n(r);for(var l in r)"default"!==l&&function(t){a.d(e,t,function(){return r[t]})}(l);var i=a("Ib3W");var n=function(t){a("LxUi")},s=a("C7Lr")(o.a,i.a,!1,n,"data-v-3f257e5e",null);e.default=s.exports},"/6E7":function(t,e){},"/TE4":function(t,e){},0:function(t,e,a){a("briU"),t.exports=a("NHnr")},"0FQM":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.submit=e.getDetail=e.getWorkList=e.getDevList=void 0;var r,o=a("Dod7"),l=(r=o)&&r.__esModule?r:{default:r};e.getDevList=function(t){return l.default.post("carfwork/optionDevType",{},t)},e.getWorkList=function(t){return l.default.post("carfwork/crafworkQuarter",{},t)},e.getDetail=function(t,e){return l.default.post("carfwork/paramList",t,e)},e.submit=function(t,e){return console.log(t),l.default.postJson("carfwork/editParams",t,e)}},"0Wgo":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("9wMQ"),o=a.n(r);for(var l in r)"default"!==l&&function(t){a.d(e,t,function(){return r[t]})}(l);var i=a("eO/J");var n=function(t){a("nmP2")},s=a("C7Lr")(o.a,i.a,!1,n,null,null);e.default=s.exports},"0wQf":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("z9Jm"),o=a.n(r);for(var l in r)"default"!==l&&function(t){a.d(e,t,function(){return r[t]})}(l);var i=a("rbjw");var n=function(t){a("vPEu")},s=a("C7Lr")(o.a,i.a,!1,n,null,null);e.default=s.exports},"0zTm":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("UCBQ"),o=a.n(r);for(var l in r)"default"!==l&&function(t){a.d(e,t,function(){return r[t]})}(l);var i=a("4lZY");var n=function(t){a("1il2")},s=a("C7Lr")(o.a,i.a,!1,n,"data-v-16ba44ee",null);e.default=s.exports},"17pD":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.changeStatus=e.getWuliaoEditAry=e.getWuliaoList=e.getStatus=e.getTypeList=void 0;var r,o=a("Dod7"),l=(r=o)&&r.__esModule?r:{default:r};e.getTypeList=function(t){return l.default.post("matters/option",{},t)},e.getStatus=function(t){return l.default.post("matters/statusOption",{},t)},e.getWuliaoList=function(t){return l.default.post("matters/typeOption",{},t)},e.getWuliaoEditAry=function(t){return l.default.post("matters/typeOption2",{},t)},e.changeStatus=function(t,e){return l.default.post("matters/updateStatus",t,e)}},"1H3V":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=a("IvJb"),l=(r=o)&&r.__esModule?r:{default:r},i=a("sG+p");e.default={setMaterielList:function(t,e,a){return function t(e,a,r,o){if(!(e.length>0))return[];a.data.prodNo==a.data.midProdNo||""!=e[o].inProdNo&&void 0!=e[o].inProdNo&&null!=e[o].inProdNo?(0,i.getMatter)({prodNo:a.data.prodNo,midProdNo:a.data.midProdNo,crafworkId:r.id,matterNo:e[o].inProdNo}).then(function(i){if(l.default.set(e[o],"matterDropDownList",i),!(o<e.length-1))return!1;t(e,a,r,o+1)}):l.default.set(e[o],"matterDropDownList",[])}(t,e,a,0),t}}},"1il2":function(t,e){},"1pH/":function(t,e){},"1tkQ":function(t,e){},"2D+q":function(t,e){},"34zY":function(t,e,a){"use strict";var r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("Template",{ref:"template",attrs:{list:this.list,listUrl:this.listUrl,addUrl:this.addUrl,detailUrl:this.detailUrl,delUrl:this.delUrl,editUrl:this.editUrl,config:{isOperate:!0,isSelection:!0,isOrder:!1,isPage:!0,type:"big",dataFromSever:!1},needSearch:!0,searchData:{intype:"123123"}}})],1)},staticRenderFns:[]};e.a=r},"3kLz":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["tableConfig","tableData"],data:function(){return{pickerOptions:{disabledDate:function(t){return t.getTime()<Date.now()}}}},methods:{callBack:function(t,e,a){this.$emit(t,e,a)},formatter:function(t,e){if(this.tableConfig.isFormatter){var a=null;return this.$emit("formatter",t,e,function(t){a=t}),a}return e},toolbarBack:function(t){this.$emit(t.method,t.index)},handleSizeChange:function(t){this.tableConfig.isLoading&&(this.tableConfig.loadShow=!0),this.tableConfig.pageSize=t,this.$emit("pageChange")},handleCurrentChange:function(t){this.tableConfig.isLoading&&(this.tableConfig.loadShow=!0),this.tableConfig.pageNo=t,this.$emit("pageChange")},select:function(t){this.tableConfig.currentSelectArr=t},rowDblclick:function(t){this.$emit("rowDblclick",t)}},watch:{tableData:function(){this.tableConfig.currentSelectArr=[]}}}},"3zVo":function(t,e,a){"use strict";var r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Template",{ref:"template",attrs:{list:t.list,listUrl:t.listUrl,addUrl:t.addUrl,delUrl:t.delUrl,editUrl:t.editUrl,config:{filterable:!0,isOperate:!0,isSelection:!0,isOrder:!1,isPage:!0,dataFromSever:!1},needSearch:!0,defaultBtn:[!1,!1,!0]},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:"已通过"!=e.row.voucherStatus,expression:"scope.row.voucherStatus!='已通过'"}]},[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.check(e.row)}}},[t._v("审批")])],1)])]}}])}),t._v(" "),a("plmToast",{attrs:{config:t.toastConfig,width:"800px"},on:{cancel:t.cancel,submit:t.submit}},[a("my-toast",{ref:"ruleForm"})],1),t._v(" "),a("plmToast",{attrs:{config:t.detailConfig,width:"900px"},on:{checkCancel:t.checkCancel,checkSubmit:t.checkSubmit}},[a("div",{staticClass:"myToast1"},[a("el-form",{ref:"ruleForm",attrs:{size:"small",model:t.form},on:{submit:t.submit,cancel:t.cancel}},[a("el-row",[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:8}},[a("el-form-item",{attrs:{label:"BOM编号"}},[t._v("\n                       "+t._s(t.form.bomNo)+"\n                   ")])],1),t._v(" "),a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:8}},[a("el-form-item",{attrs:{label:"产品信息"}},[t._v("\n                       "+t._s(t.form.prodMess)+"\n                   ")])],1)],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%","text-align":"center"},attrs:{"header-cell-style":t.rowClass,data:t.tableData,"show-header:true":""}},[a("el-table-column",{attrs:{prop:"address",label:"半成品信息"}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"物料信息"}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"修改类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"新值"}}),t._v(" "),a("el-table-column",{attrs:{prop:"date",label:"旧值"}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){a.preventDefault(),t.deleteRow(e.$index,t.tableData)}}},[t._v("删除")])]}}])})],1)],1)])],1)},staticRenderFns:[]};e.a=r},"4HDG":function(t,e){},"4lZY":function(t,e,a){"use strict";var r={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"drag-content"},[r("div",{staticClass:"project-content"},[t._l(t.tags,function(e,a){return r("div",{staticClass:"item-box"},[r("div",{staticClass:"select-item",attrs:{draggable:"true",index:a},on:{click:function(a){a.stopPropagation(),t.hadnlerClick(e)},dragstart:function(e){t.drag(e)},drop:function(e){t.drop(e)},dragover:function(e){t.allowDrop(e)}}},[t._v(t._s(e.crafworkName))]),t._v(" "),r("i",{directives:[{name:"show",rawName:"v-show",value:a<t.tags.length-1,expression:"index<tags.length-1"}],staticClass:"iconfont icon-xiangyou",staticStyle:{"margin-right":"15px",color:"#999"}})])}),t._v(" "),t.toastConfig.dialogVisible?r("toast",{staticClass:"dialog-box",attrs:{config:t.toastConfig,width:"1200px",isForm:!1},on:{handleClose:t.handleClose}},[r("el-form",{ref:"craftworkForm",attrs:{model:t.formData,size:"small","label-position":"right","label-width":"140px"}},[r("el-row",[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"工艺名称："}},[t._v("\n                            "+t._s(t.currentCarfWork.crafworkName)+"\n                        ")])],1),t._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"计量单位："}},[t._v("\n                            "+t._s(t.currentCarfWork.unit)+"\n                        ")])],1),t._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"设备单号标准工时："}},[t._v("\n                            "+t._s(t.currentCarfWork.macMinutes)+"\n                        ")])],1)],1),t._v(" "),r("el-row",[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"每班标准产量："}},[t._v("\n                             "+t._s(t.currentCarfWork.dayAmount)+"\n                        ")])],1),t._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"人员单耗标准工时："}},[t._v("\n                            "+t._s(t.currentCarfWork.empMinutes)+"\n                        ")])],1),t._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"是否需要品检："}},[t._v("\n                            "+t._s(1==t.currentCarfWork.isCheck?"是":"否")+"\n                        ")])],1)],1)],1),t._v(" "),r("div",{staticClass:"orderImg"},[r("img",{attrs:{src:a("5Dcc"),alt:""}}),t._v(" "),r("p",{staticClass:"order-1 desc"},[t._v("半成品/物料信息")]),t._v(" "),r("p",{staticClass:"order-2 desc"},[t._v("设备信息")]),t._v(" "),r("p",{staticClass:"order-3 desc"},[t._v("半成品信息")])]),t._v(" "),r("table-group",{ref:"tableGroup",attrs:{currentCarfWork:t.currentCarfWork,currentNode:t.currentNode},on:{handleClose:t.handleClose}})],1):t._e()],2)])},staticRenderFns:[]};e.a=r},"5+zg":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getParentNo=e.getTree=e.getSource=e.getFactory=e.getMidList=e.getProdList=void 0;var r,o=a("Dod7"),l=(r=o)&&r.__esModule?r:{default:r};e.getProdList=function(t){return l.default.post("prodMid/prodList",{})},e.getMidList=function(t){return l.default.post("prodMid/midList",{})},e.getFactory=function(t){return l.default.post("prodMid/factoryList",{})},e.getSource=function(t){return l.default.post("prodMid/SourceList",{})},e.getTree=function(t,e){return l.default.post("prodMid/midTree",e)},e.getParentNo=function(t){return l.default.post("prodMid/getParentNo",t)}},"53xe":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("ijpj"),o=a.n(r);for(var l in r)"default"!==l&&function(t){a.d(e,t,function(){return r[t]})}(l);var i=a("eTLF");var n=function(t){a("W2pD")},s=a("C7Lr")(o.a,i.a,!1,n,null,null);e.default=s.exports},"594h":function(t,e,a){"use strict";var r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"app-view"},[e("router-view")],1)},staticRenderFns:[]};e.a=r},"5Dcc":function(t,e,a){t.exports=a.p+"static/img/orders.13c7336.png"},"5PXt":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("9QLi"),o=a.n(r);for(var l in r)"default"!==l&&function(t){a.d(e,t,function(){return r[t]})}(l);var i=a("jpMZ");var n=function(t){a("BrYC")},s=a("C7Lr")(o.a,i.a,!1,n,null,null);e.default=s.exports},"5gZZ":function(t,e){},"63vc":function(t,e){},"72BU":function(t,e){},"7AfA":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("8oPO"),o=a.n(r);for(var l in r)"default"!==l&&function(t){a.d(e,t,function(){return r[t]})}(l);var i=a("fT0W");var n=function(t){a("D/ZD")},s=a("C7Lr")(o.a,i.a,!1,n,null,null);e.default=s.exports},"7JRQ":function(t,e,a){"use strict";var r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("Template",{ref:"template",attrs:{list:this.list,listUrl:this.listUrl,addUrl:this.addUrl,delUrl:this.delUrl,editUrl:this.editUrl,rules:this.rules,config:{isOperate:!1,isSelection:!0,isOrder:!1,isPage:!0,dataFromSever:!1},needContinueBtn:!1,needSearch:!0,defaultBtn:[!0,!0,!0]}})],1)},staticRenderFns:[]};e.a=r},"7biW":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("iPGf"),o=a.n(r);for(var l in r)"default"!==l&&function(t){a.d(e,t,function(){return r[t]})}(l);var i=a("aIp+");var n=function(t){a("qL1G")},s=a("C7Lr")(o.a,i.a,!1,n,"data-v-d96e02b8",null);e.default=s.exports},"7lz8":function(t,e,a){"use strict";var r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"myTable"},[t.tableConfig.toolbarConfig?a("toolbar",{attrs:{toolbarConfig:t.tableConfig.toolbarConfig},on:{toolbarBack:t.toolbarBack}},[t._t("default")],2):t._e(),t._v(" "),a("el-table",{attrs:{data:t.tableData,"max-height":t.tableConfig.height?t.tableConfig.height:560,"highlight-current-row":t.tableConfig.isHigh},on:{select:t.select,"select-all":t.select,"row-dblclick":t.rowDblclick}},[t.tableConfig.isSelection?a("el-table-column",{attrs:{type:"selection",width:"50",align:t.tableConfig.align,disabled:t.tableData.length<0}}):t._e(),t._v(" "),t.tableConfig.isOrder?a("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}):t._e(),t._v(" "),t._l(t.tableConfig.colConfig,function(e,r,o){return a("el-table-column",{attrs:{fixed:e.fixed,prop:e.field,width:e.width,sortable:e.isSort,resizable:e.isResize,"show-overflow-tooltip":!e.noTooltip,label:e.label,align:t.tableConfig.align},scopedSlots:t._u([{key:"default",fn:function(r){return["text"===e.type?a("span",[t._v(t._s(t.formatter(e.field,r.row[e.field])))]):"btnsText"===e.type?a("div",t._l(e.btnData,function(e){return a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){t.callBack(e.method,r.row,r.$index)}}},[t._v("\n                            "+t._s(e.name)+"\n                        ")])})):t._e()]}}])})})],2),t._v(" "),a("div",{staticClass:"my-pagination"},[t.tableConfig.isPage?a("el-pagination",{attrs:{"current-page":t.tableConfig.pageNo,"page-sizes":[20,40,60,80],"page-size":t.tableConfig.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.tableConfig.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}):t._e()],1)],1)},staticRenderFns:[]};e.a=r},"8/c5":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("n1Vn"),o=a.n(r);for(var l in r)"default"!==l&&function(t){a.d(e,t,function(){return r[t]})}(l);var i=a("z5Z5"),n=a("C7Lr")(o.a,i.a,!1,null,null,null);e.default=n.exports},"870y":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=l(a("E8c5")),o=l(a("0Wgo"));function l(t){return t&&t.__esModule?t:{default:t}}e.default={data:function(){return{sidebarData:{},setTitle:"",h1:"",subtitle:"",isSidebar:!0}},components:{sidebar:r.default,pocHeader:o.default},props:["pageData"],mounted:function(){var t=this;this.sidebarData=this.pageData.sidebarData[0],this.pageData.sidebarData.length>0&&this.$nextTick(function(){t.$router.push({path:t.pageData.sidebarData[0].path})}),this.setInfoShow()},watch:{$route:function(t,e){var a=this;if(t.name){var r=function(e){a.pageData.sidebarData[e].data.forEach(function(r,o){if(t.name===r.name){a.$refs.headMenu.isActive=a.pageData.sidebarData[e].title;var l=t.path.replace("/","./");a.pageData.sidebarData[e].path=l,a.$set(a,"sidebarData",a.pageData.sidebarData[e]),a.headerBack(e,a.$refs.headMenu.isActive)}})};for(var o in this.pageData.sidebarData)r(o)}}},methods:{slideBack:function(t,e){var a=this;this.$nextTick(function(e){a.setTitle=a.h1+t})},headerBack:function(t,e){var a=this;this.sidebarData=this.pageData.sidebarData[t],this.setInfoShow();var r=this.sidebarData.path;this.$router.push({path:r}),this.isSidebar=!1,setTimeout(function(){a.isSidebar=!0},0)},setSubtitle:function(t){this.subtitle=t?t[0].name:this.sidebarData.data[0].name},setInfoShow:function(){this.h1=this.sidebarData.title;var t=this.sidebarData.data[0].chlid;this.setSubtitle(t),this.setTitle=this.h1+" / "+this.sidebarData.data[0].name+(t?" / "+t[0].name:"")}}}},"8NCi":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("XUaq"),o=a.n(r);for(var l in r)"default"!==l&&function(t){a.d(e,t,function(){return r[t]})}(l);var i=a("by8a");var n=function(t){a("pZd+")},s=a("C7Lr")(o.a,i.a,!1,n,null,null);e.default=s.exports},"8R9x":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=a("PT/l"),l=(r=o)&&r.__esModule?r:{default:r};e.default={name:"tree-grid",props:{colShow:{default:function(){return function(){return!0}}},expandIndex:{type:Number,default:0},treeStructure:{type:Boolean,default:function(){return!1}},columns:{type:Array,default:function(){return[]}},dataSource:{type:Array,default:function(){return[]}},requestUrl:{type:String,default:function(){return""}},treeType:{type:String,default:function(){return"normal"}},defaultExpandAll:{type:Boolean,default:function(){return!1}}},data:function(){return{currentPage4:1,currentRow:{},editRow:{}}},computed:{data:function(){var t=this;if(t.treeStructure){var e=[];if(t.defaultExpandAll){var a=l.default.MSDataTransfer.getTreeArray(t.dataSource,null,null,t.defaultExpandAll,t);e=l.default.MSDataTransfer.treeToArray(a,null,null,t.defaultExpandAll,t)}else console.log(1),e=l.default.MSDataTransfer.treeToArray(t.dataSource,null,null,t.defaultExpandAll,t);return e}return t.dataSource}},methods:{isShow:function(t,e){return this.colShow(t,e)},showTr:function(t,e){var a=t.row,r=!a._parent||a._parent._expanded&&a._parent._show;return a._show=r,r?"":"display:none;"},toggle:function(t){var e=this,a=e.data[t];a._loaded?a._expanded=!a._expanded:(a._loading=!0,this.$emit("loadNode",a,function(t){e.$set(a,"children",t),a._expanded=!a._expanded,a._loading=!1,a._loaded=!0,0==t.length&&(a.leaf=!0)}))},expand:function(t,e){var a=this;t._loaded||(t._loading=!0,this.$emit("loadNode",t,function(r){a.$set(t,"children",r),t._expanded=!0,t._loading=!1,t._loaded=!0,0==r.length&&(t.leaf=!0),e()}))},updateNodeChild:function(t){console.log(t),t._expanded=!1,t._loaded=!1;var e=this.data.findIndex(function(e){return e.id==t.id});console.log(e),this.toggle(e)},spaceIconShow:function(t){return!(!this.treeStructure||t!==this.expandIndex)},updateNode:function(t,e){for(var a in e)this.$set(t,a,e[a])},removeChild:function(t){var e=t._parent.children.findIndex(function(e){return e==t});t._parent.children.splice(e,1),0==t._parent.children.length&&(t._parent.leaf=!0)},insertChild:function(t,e){t._loaded?t.children&&t.children.length>0?t.children.unshift(e):(t.leaf=!1,this.$set(t,"children",[e])):(t._loaded=!1,t.leaf=!1)}}}},"8oPO":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=a("PT/l"),l=(r=o)&&r.__esModule?r:{default:r};e.default={name:"tree-grid",props:{colShow:{default:function(){return function(){return!0}}},expandIndex:{type:Number,default:0},treeStructure:{type:Boolean,default:function(){return!1}},columns:{type:Array,default:function(){return[]}},dataSource:{type:Array,default:function(){return[]}},requestUrl:{type:String,default:function(){return""}},treeType:{type:Boolean,default:function(){return!0}},defaultExpandAll:{type:Boolean,default:function(){return!1}}},data:function(){return{currentPage4:1,currentRow:{},editRow:{}}},computed:{data:function(){if(this.treeStructure){var t=l.default.MSDataTransfer.treeToArray(this.dataSource,null,null,this.defaultExpandAll);return t}return this.dataSource}},methods:{handler:function(t,e,a){t&&this.$emit(t,e,a)},isShow:function(t,e){return this.colShow(t,e)},handleSizeChange:function(t){console.log("每页 "+t+" 条")},handleCurrentChange:function(t){console.log("当前页: "+t)},showTr:function(t,e){var a=t.row,r=!a._parent||a._parent._expanded&&a._parent._show;return a._show=r,r?"":"display:none;"},toggle:function(t){var e=this,a=e.data[t];console.log(a),a._loaded?a._expanded=!a._expanded:(a._loading=!0,this.$emit("loadNode",a,function(t){e.$set(a,"children",t),a._expanded=!a._expanded,a._loading=!1,a._loaded=!0}))},updateNodeChild:function(t){t._expanded=!1,t._loaded=!1;var e=this.data.findIndex(function(e){return e.id==t.id});this.toggle(e)},spaceIconShow:function(t){return!(!this.treeStructure||t!==this.expandIndex)},updateNode:function(t,e){for(var a in e)this.$set(t,a,e[a])},removeChild:function(t){console.log(t._parent),t._parent?(t._parent.children.splice(t._parent.children.findIndex(function(e){return e.id==t.id}),1),0==t._parent.children.length&&(t._parent.leaf=!0)):this.dataSource.splice(this.dataSource.findIndex(function(e){return e.id==t.id}),1)},insertChild:function(t,e){t._loaded?(console.log(e),t.children&&t.children.length>0?t.children.unshift(e):(t.leaf=!1,this.$set(t,"children",[e]))):(t._loaded=!1,t.leaf=!1)}}}},"9QLi":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("sG+p");e.default={data:function(){return{value3:!0}},props:{currentNode:{default:function(){return{level:-1}},type:Object},router:{type:Object}},methods:{rowClass:function(t){t.row;var e=t.rowIndex;return console.log(e),"background:#E5E5E5"},handlerChange:function(t){(0,r.enDis)({enDis:t,pathNo:this.router.pathNo}).then(function(t){})}}}},"9hRU":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("P9GV"),o=a.n(r);for(var l in r)"default"!==l&&function(t){a.d(e,t,function(){return r[t]})}(l);var i=a("PVSh");var n=function(t){a("BRbp")},s=a("C7Lr")(o.a,i.a,!1,n,null,null);e.default=s.exports},"9wMQ":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=a("4YfN"),l=(r=o)&&r.__esModule?r:{default:r},i=a("9rMa");e.default={data:function(){return{isActive:""}},props:{pocHeaderData:Array},computed:(0,l.default)({},(0,i.mapGetters)(["getUserName","getUserImg","getCompanyName","getCompanyEnglish","getCompanyLogo"])),mounted:function(){this.pocHeaderData.length>0&&(this.isActive=this.pocHeaderData[0].title)},methods:{headerBack:function(t,e){this.isActive=t.title,this.$emit("headerBack",e,t.title)}}}},AHSy:function(t,e,a){"use strict";var r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modelTree"},[t.needSearch?a("div",{staticClass:"search"},[a("el-input",{attrs:{size:"mini",placeholder:"输入关键字进行过滤"},on:{blur:t.filterTree},model:{value:t.filterText,callback:function(e){t.filterText=e},expression:"filterText"}})],1):t._e(),t._v(" "),a("el-tree",{ref:"modelTree",attrs:{"empty-text":"暂无相关数据,请先新增",data:t.treeData,"highlight-current":"",props:t.props,load:t.loadNode,"expand-on-click-node":!1,"default-expand-all":t.isOpen,lazy:""},on:{"current-change":t.nodeChange},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.node,o=e.data;return a("span",{staticClass:"custom-tree-node"},[a("span",{staticClass:"text"},[t._v(t._s(r.label))]),t._v(" "),0==t.readOnly?a("span",{staticClass:"btns"},t._l(t.buttons,function(e){return!e.isShowFun||e.isShowFun(r)?a("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-"+e.icon},on:{click:function(a){return a.stopPropagation(),t.handlerClick(r,o,e.method)}}}):t._e()})):t._e()])}}])})],1)},staticRenderFns:[]};e.a=r},AzUM:function(t,e,a){"use strict";var r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"myToast"},[a("el-form",{ref:"ruleForm1",attrs:{size:"small","label-width":"120px"}},[a("el-form-item",{attrs:{label:"状态维护"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.publicData.prodStatus,callback:function(e){t.$set(t.publicData,"prodStatus",e)},expression:"publicData.prodStatus"}},t._l(t.publicData.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)],1)],1)},staticRenderFns:[]};e.a=r},BRbp:function(t,e){},BYVF:function(t,e){},Bad9:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("fqlY"),o=a.n(r);for(var l in r)"default"!==l&&function(t){a.d(e,t,function(){return r[t]})}(l);var i=a("7JRQ"),n=a("C7Lr")(o.a,i.a,!1,null,null,null);e.default=n.exports},Be8m:function(t,e,a){"use strict";var r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"poc-toast",attrs:{"append-to-body":!0,title:t.config.title,visible:t.config.dialogVisible,"close-on-click-modal":!1,width:t.width},on:{"update:visible":function(e){t.$set(t.config,"dialogVisible",e)},close:function(e){t.callBack("handleClose")},open:function(e){t.callBack("open")}}},[a("div",{style:{padding:t.isForm?"20px 40px 0 0":"0"}},[t._t("default")],2),t._v(" "),a("div",{staticClass:"btn-group"},t._l(t.config.btnData,function(e,r){return a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.config.btnStatus[r],expression:"config.btnStatus[index]"}],key:r,attrs:{disabled:e.disabled,type:e.type},on:{click:function(a){t.callBack(e.method)}}},[t._v(t._s(e.name))])}))])},staticRenderFns:[]};e.a=r},Bfue:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.examine=e.audit=e.updSeq=e.del=e.edit=e.add=e.pathCraf=e.prodDown=e.findCraf=e.findMainMess=e.getPathMsg=e.getProdMsg=void 0;var r,o=a("Dod7"),l=(r=o)&&r.__esModule?r:{default:r};e.getProdMsg=function(t){return l.default.postFormData("/crafMain/getProdMsg",t)},e.getPathMsg=function(t){return l.default.postFormData("/crafMain/getPathMsg",t)},e.findMainMess=function(t){return l.default.postFormData("/crafMain/findMainMess",t)},e.findCraf=function(t){return l.default.postFormData("crafMain/findCraf",t)},e.prodDown=function(t){return l.default.postFormData("crafMain/prodDown",t)},e.pathCraf=function(t){return l.default.postFormData("crafMain/pathCraf",t)},e.add=function(t){return l.default.postFormData("crafMain/add",t)},e.edit=function(t){return l.default.postFormData("crafMain/upd",t)},e.del=function(t){return l.default.postFormData("crafMain/del",t)},e.updSeq=function(t){return l.default.postJson("crafMain/updSeq",t)},e.audit=function(t){return console.log(t,"data"),l.default.postJson("/voucher/audit",t)},e.examine=function(t){return l.default.postFormData("/voucher/examine",t)}},BhMa:function(t,e,a){"use strict";var r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"myToast"},[a("el-form",{ref:"ruleForm5",attrs:{size:"small","label-width":"120px;"},on:{submit:t.submit,cancel:t.cancel}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"工艺路线号"}},[a("el-select",{attrs:{placeholder:"请选择",prop:"pathNo"},on:{change:t.selectMsg},model:{value:t.publicData.pathNo,callback:function(e){t.$set(t.publicData,"pathNo",e)},expression:"publicData.pathNo"}},t._l(t.publicData.options,function(t,e){return a("el-option",{key:e,attrs:{label:t.pathNo,value:t.pathNo}})}))],1)],1)],1),t._v(" "),a("el-row",[a("el-col",[a("el-form-item",{attrs:{label:"产品信息"}},[t._v("\n         "+t._s(t.publicData.prodMsg)+"\n          ")])],1)],1),t._v(" "),a("el-row",[a("el-col",[a("el-form-item",[a("el-button",{class:t.isdisabled?t.btndisabled:"",attrs:{size:"mini",icon:"el-icon-plus",type:"primary",disabled:t.isdisabledFn},on:{click:t.add1}},[t._v("新增")])],1)],1)],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%","text-align":"center"},attrs:{"header-cell-style":t.rowClass,data:t.tableData,"show-header:true":""}},[a("el-table-column",{attrs:{prop:"midProdMsg",label:"半成品信息"}}),t._v(" "),a("el-table-column",{attrs:{prop:"crafworkName",label:"工艺名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"changeFlag",label:"修改类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"newValue",label:"新值"}}),t._v(" "),a("el-table-column",{attrs:{prop:"oldValue",label:"旧值"}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticStyle:{color:"#F6463B"},attrs:{type:"text",size:"small"},nativeOn:{click:function(a){a.preventDefault(),t.deleteRow(e.$index,t.tableData)}}},[t._v("\n           删除\n          ")])]}}])})],1),t._v(" "),a("plmToast",{attrs:{config:t.toastConfig,width:"900px"},on:{cancel:t.cancel,submit:t.submit}},[a("my-toast",{ref:"ruleForm8",attrs:{getMessList:t.getMessList}})],1)],1)},staticRenderFns:[]};e.a=r},BjtM:function(t,e){},Blki:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("mDfN");e.default={props:["getMessList"],data:function(){return{crafworkList:[],QuarterList:[],midProdNo:"",opsz:[],value:"",tableData1:[],radio:"1",labelPosition:"right",formLabelAlign:{name:"",region:"",type:""},activeName:"first",changeConfig:{title:"修改",dialogVisible:!1,width:"1000px",btnData:[{name:"保存",type:"primary",method:"submit"},{name:"取消",method:"cancel",bgColor:"dialog-deep-blue"}],btnStatus:[!0,!0,!0]}}},methods:{crafworkQuarter:function(){var t=this;(0,r.crafworkQuarter)({}).then(function(e){t.QuarterList=e})},findCraf:function(t){var e=this;console.log(t,"000000000");(0,r.findCraf)({}).then(function(t){e.crafworkList=t})},moveUp:function(t,e){if(console.log("上移",t,e),console.log(this.tableData1[t]),t>0){var a=this.tableData1[t-1];this.tableData1.splice(t-1,1),this.tableData1.splice(t,0,a)}else alert("已经是第一条，不可上移")},moveDown:function(t,e){if(console.log("下移",t,e),t+1===this.tableData1.length)alert("已经是最后一条，不可下移");else{console.log(t);var a=this.tableData1[t+1];this.tableData1.splice(t+1,1),this.tableData1.splice(t,0,a)}},formatter:function(t,e){return t.address},cancel:function(){this.changeConfig.dialogVisible=!1},submit:function(){this.changeConfig.dialogVisible=!1,this.$refs.ruleForm5.submit(row)},handleClick:function(t,e){console.log(t,e)},deleteRow:function(t,e){e.splice(t,1)},rowClass:function(t){t.row;var e=t.rowIndex;return console.log(e),"background:#E5E5E5"},xiugai:function(){this.changeConfig.dialogVisible=!0}},mounted:function(){this.findCraf(),this.crafworkQuarter()}}},BrYC:function(t,e){},CIL2:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("Xyvi"),o=a.n(r);for(var l in r)"default"!==l&&function(t){a.d(e,t,function(){return r[t]})}(l);var i=a("IRot");var n=function(t){a("gqb3")},s=a("C7Lr")(o.a,i.a,!1,n,null,null);e.default=s.exports},Cs0b:function(t,e,a){"use strict";var r,o=a("XsPg"),l=(r=o)&&r.__esModule?r:{default:r};t.exports={Template:l.default}},"D/ZD":function(t,e){},D7x1:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("3kLz"),o=a.n(r);for(var l in r)"default"!==l&&function(t){a.d(e,t,function(){return r[t]})}(l);var i=a("7lz8");var n=function(t){a("oWPS")},s=a("C7Lr")(o.a,i.a,!1,n,null,null);e.default=s.exports},DWYO:function(t,e,a){"use strict";var r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search"},[t.isShow?a("div",{staticClass:"content"},[t._l(t.config,function(e){return a("el-form",{ref:"form",refInFor:!0,staticStyle:{overflow:"hidden",flex:"1"},attrs:{model:t.data,"label-width":"110px"}},t._l(e,function(e,r){return a("el-col",{attrs:{span:6}},[a("el-form-item",{staticStyle:{height:"46px"},attrs:{label:e.label,size:"mini"}},["radioButton"==e.type?a("el-radio-group",{staticStyle:{width:"100%"},on:{change:function(a){t.handler(e.method,t.data[e.field])}},model:{value:t.data[e.field],callback:function(a){t.$set(t.data,e.field,a)},expression:"data[item.field]"}},t._l(e.childrens,function(e){return a("el-radio-button",{key:e.value,attrs:{label:e.value}},[t._v(t._s(e.label))])})):t._e(),t._v(" "),"input"==e.type?a("el-input",{staticStyle:{width:"100%"},attrs:{disabled:e.disabled},model:{value:t.data[e.field],callback:function(a){t.$set(t.data,e.field,a)},expression:"data[item.field]"}}):t._e(),t._v(" "),"searchInput"==e.type?a("el-autocomplete",{staticStyle:{width:"100%"},attrs:{disabled:e.disabled,"fetch-suggestions":e.searchMethod},on:{select:t.handleSelect},model:{value:t.data[e.field],callback:function(a){t.$set(t.data,e.field,a)},expression:"data[item.field]"}}):t._e(),t._v(" "),"year"==e.type?a("el-date-picker",{staticStyle:{width:"100%"},attrs:{disabled:e.disabled,type:e.type,"value-format":"yyyy"},model:{value:t.data[e.field],callback:function(a){t.$set(t.data,e.field,a)},expression:"data[item.field]"}}):t._e(),t._v(" "),"month"==e.type?a("el-date-picker",{staticStyle:{width:"100%"},attrs:{disabled:e.disabled,type:e.type,"value-format":"yyyy-MM"},model:{value:t.data[e.field],callback:function(a){t.$set(t.data,e.field,a)},expression:"data[item.field]"}}):t._e(),t._v(" "),"daterange"==e.type||"date"==e.type?a("el-date-picker",{staticStyle:{width:"100%"},attrs:{disabled:e.disabled,type:e.type,"value-format":"yyyy-MM-dd"},model:{value:t.data[e.field],callback:function(a){t.$set(t.data,e.field,a)},expression:"data[item.field]"}}):t._e(),t._v(" "),"datetimerange"==e.type||"datetime"==e.type?a("el-date-picker",{staticStyle:{width:"100%"},attrs:{disabled:e.disabled,type:e.type,"value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:t.data[e.field],callback:function(a){t.$set(t.data,e.field,a)},expression:"data[item.field]"}}):t._e(),t._v(" "),"radio"==e.type?a("el-radio-group",{staticStyle:{width:"100%"},attrs:{disabled:e.disabled},model:{value:t.data[e.field],callback:function(a){t.$set(t.data,e.field,a)},expression:"data[item.field]"}},t._l(e.childrens,function(e){return a("el-radio",{style:{color:e.color},attrs:{border:"",label:e.value}},[t._v(t._s(e.label))])})):t._e(),t._v(" "),"checkbox"==e.type?a("el-checkbox-group",{staticStyle:{width:"100%"},attrs:{max:e.max,disabled:e.disabled},model:{value:t.data[e.field],callback:function(a){t.$set(t.data,e.field,a)},expression:"data[item.field]"}},t._l(e.childrens,function(e){return a("el-checkbox",{key:e.value,style:{color:e.color},attrs:{border:"",label:e.value}},[t._v(t._s(e.label))])})):t._e(),t._v(" "),"number"==e.type?a("el-input-number",{staticStyle:{width:"100%"},attrs:{disabled:e.disabled,min:e.min,max:e.max,controls:e.isControls,"controls-position":e.controlPos},model:{value:t.data[e.field],callback:function(a){t.$set(t.data,e.field,a)},expression:"data[item.field]"}}):t._e(),t._v(" "),"select"==e.type?a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:e.disabled,clearable:void 0==e.clearable||1==e.clearable,filterable:e.filterable},on:{change:function(a){t.handler(e.method,t.data[e.field])}},model:{value:t.data[e.field],callback:function(a){t.$set(t.data,e.field,a)},expression:"data[item.field]"}},t._l(e.childrens,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})):t._e(),t._v(" "),"cascader"==e.type?a("el-cascader",{staticStyle:{width:"100%"},attrs:{disabled:e.disabled,clearable:"","change-on-select":"",options:e.childrens,props:{label:"label"}},model:{value:t.data[e.field],callback:function(a){t.$set(t.data,e.field,a)},expression:"data[item.field]"}}):t._e(),t._v(" "),"numRange"==e.type?a("numRange",{staticStyle:{width:"100%"},model:{value:t.data[e.field],callback:function(a){t.$set(t.data,e.field,a)},expression:"data[item.field]"}}):t._e()],1)],1)}))}),t._v(" "),a("div",{staticClass:"search-btns",staticStyle:{"font-size":"14px","line-height":"34px"}},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:t.search}},[t._v("查询")])],1)],2):t._e()])},staticRenderFns:[]};e.a=r},Dj6a:function(t,e,a){"use strict";var r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Template",{ref:"template",attrs:{list:t.list,listUrl:t.listUrl,addUrl:t.addUrl,delUrl:t.delUrl,editUrl:t.editUrl,rules:t.rules,config:{isOperate:!0,isSelection:!0,isOrder:!1,isPage:!0,dataFromSever:!1,type:"big"},needSearch:!0,defaultBtn:[!1,!1,!0]},on:{select:t.handlerselect},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.maintenance(e.row)}}},[t._v("状态维护")]),t._v(" "),a("el-button",{staticStyle:{"margin-left":"30px"},attrs:{type:"text"},on:{click:function(a){t.$refs.template.detail(e.row)}}},[t._v("详情")])]}}])},[a("el-button",{attrs:{slot:"l_rSlot",size:"mini",icon:"el-icon-plus",type:"primary"},on:{click:t.add},slot:"l_rSlot"},[t._v("新增")]),t._v(" "),a("el-button",{attrs:{slot:"l_rSlot",size:"mini",icon:"el-icon-edit",disabled:1!=t.selectData.length},on:{click:t.edit},slot:"l_rSlot"},[t._v("编辑")])],1),t._v(" "),a("toast",{attrs:{config:t.toastConfig,width:"400px"},on:{submit:t.submit,cancel:function(e){t.toastConfig.dialogVisible=!1,t.$refs.ruleForm.clearValidate()}}},[a("el-form",{ref:"ruleForm",attrs:{model:t.formData}},[a("el-form-item",{attrs:{label:"物料状态","label-width":"120px"}},[a("el-select",{attrs:{placeholder:""},model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},t._l(t.statusList,function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})}))],1)],1)],1)],1)},staticRenderFns:[]};e.a=r},Dod7:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(a("rVsN")),o=i(a("aozt")),l=i(a("6iV/"));function i(t){return t&&t.__esModule?t:{default:t}}var n=new(i(a("IvJb")).default),s=window.sessionStorage.ports;function d(t){return!t||200!==t.status&&304!==t.status?t&&400===t.status?{status:400,message:"参数不匹配",result:!1}:{status:-404,message:"网络异常",result:!1}:t.data}o.default.interceptors.request.use(function(t){return t},function(t){return r.default.reject(t)}),o.default.interceptors.response.use(function(t){return t},function(t){return r.default.resolve(t.response)}),e.default={post:function(t,e){return(0,o.default)({method:"post",baseURL:s,url:t,data:l.default.stringify(e),timeout:1e4}).then(function(t){return d(t)}).then(function(t){return t.result?r.default.resolve(t.model):(n.$alert(t.message,"错误提示"),r.default.reject(t))})},postNoToast:function(t,e){return(0,o.default)({method:"post",baseURL:s,url:t,data:l.default.stringify(e),timeout:1e4}).then(function(t){return d(t)}).then(function(t){return t.result?r.default.resolve(t.model):r.default.reject(t)})},postJson:function(t,e){return(0,o.default)({method:"post",baseURL:s,url:t,data:e,headers:{"Content-Type":"application/json; charset=utf-8"},timeout:1e4}).then(function(t){return d(t)}).then(function(t){return t.result?r.default.resolve(t.model):(n.$alert(t.message,"错误提示"),r.default.reject(t))})},postFormData:function(t,e){return(0,o.default)({method:"post",baseURL:s,url:t,data:l.default.stringify(e),timeout:1e4,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){return d(t)}).then(function(t){return t.result?r.default.resolve(t.model):(n.$alert(t.message,"错误提示"),r.default.reject(t))})},get:function(t,e){return(0,o.default)({method:"get",baseURL:s,url:t,params:e,timeout:1e4}).then(function(t){return d(t)}).then(function(t){return t.result?r.default.resolve(t.model):(n.$alert(t.message,"错误提示"),r.default.reject(t))})}}},E8c5:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("z7HP"),o=a.n(r);for(var l in r)"default"!==l&&function(t){a.d(e,t,function(){return r[t]})}(l);var i=a("sB+8");var n=function(t){a("qiKs")},s=a("C7Lr")(o.a,i.a,!1,n,null,null);e.default=s.exports},EQvb:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.doEdit=e.doDelete=e.getDetail=e.submit=e.getList=void 0;var r,o=a("Dod7"),l=(r=o)&&r.__esModule?r:{default:r};e.getList=function(t,e,a){return l.default.post(a,t,e)},e.submit=function(t,e,a){return l.default.post(a,t,e)},e.getDetail=function(t,e,a){return l.default.post(a,t,e)},e.doDelete=function(t,e,a){return l.default.post(a,t,e)},e.doEdit=function(t,e,a){return l.default.post(a,t,e)}},EgT8:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("LAZg"),o=a.n(r);for(var l in r)"default"!==l&&function(t){a.d(e,t,function(){return r[t]})}(l);var i=a("mMD0");var n=function(t){a("2D+q")},s=a("C7Lr")(o.a,i.a,!1,n,null,null);e.default=s.exports},ElPP:function(t,e){},EtjO:function(t,e,a){"use strict";var r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"myToast"},[a("el-form",{ref:"ruleForm",attrs:{size:"small","label-position":t.labelPosition,"label-width":"150px",model:t.formLabelAlign},on:{submit:t.submit,cancel:t.cancel}},[a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"BOM编号"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"",prop:"bonNo"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)],1),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"半成品构成数量",prop:"number"}},[a("el-input",{attrs:{placeholder:"请输入内容"}})],1)],1)],1)],1),t._v(" "),a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{staticStyle:{"font-size":"36px"},attrs:{label:"用户管理",name:"first"}},[a("el-form",{ref:"ruleForm1",staticStyle:{"margin-top":"45px"},attrs:{size:"small","label-position":t.labelPosition,"label-width":"150px",model:t.formLabelAlign}},[a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"BOM编号"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"",prop:"bonNo"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)],1),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"半成品构成数量",prop:"number"}},[a("el-input",{attrs:{placeholder:"请输入内容"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"规格"}},[t._v("\n             "+t._s(t.abc)+"\n            ")])],1),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"参数"}},[t._v("\n             "+t._s(t.abc)+"\n           ")])],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"型号"}},[t._v("\n             "+t._s(t.abc)+"\n             ")])],1),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"物料版本号"}},[t._v("\n              1.0\n             ")])],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"单位"}},[t._v("\n             "+t._s(t.abc)+"\n             ")])],1),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"备用物料"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"",prop:"bonNo"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"物料要求",prop:"number"}},[a("el-input",{attrs:{placeholder:"至少五个字"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"描述",prop:"number"}},[a("el-input",{attrs:{placeholder:"至少五个字",type:"textarea"}})],1)],1)],1)],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"配置管理",name:"second"}},[a("el-table",{staticStyle:{width:"100%","text-align":"center"},attrs:{"header-cell-style":t.rowClass,data:t.tableData1,"show-header:true":""}},[a("el-table-column",{attrs:{prop:"address",label:"物料信息"}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"规格/参数/型号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"物料版本号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"数量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"date",label:"单位"}}),t._v(" "),a("el-table-column",{attrs:{prop:"date",label:"备用物料"}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:t.xiugai}},[t._v(" 编辑\n               ")])]}}])})],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"角色管理",name:"third"}},[a("el-table",{staticStyle:{width:"100%","text-align":"center"},attrs:{"header-cell-style":t.rowClass,data:t.tableData1,"show-header:true":""}},[a("el-table-column",{attrs:{prop:"address",label:"物料信息"}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"规格/参数/型号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"物料版本号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"数量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"date",label:"单位"}}),t._v(" "),a("el-table-column",{attrs:{prop:"date",label:"备用物料"}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticStyle:{color:"#F6463B"},attrs:{type:"text",size:"small"},nativeOn:{click:function(a){a.preventDefault(),t.deleteRow(e.$index,t.tableData1)}}},[t._v("\n         删除\n       ")])]}}])})],1)],1)],1),t._v(" "),a("plmToast",{attrs:{config:t.changeConfig,width:"900px"},on:{cancel:t.cancel,submit:t.submit}},[a("my-toast",{ref:"ruleForm2"},[a("div",{staticClass:"myToast"},[a("el-form",{ref:"ruleForm2",attrs:{size:"small","label-width":"120px;"}},[a("el-col",[a("el-form-item",{attrs:{label:"修改项目"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"",prop:"bonNo"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%","text-align":"center"},attrs:{"header-cell-style":t.rowClass,data:t.tableData1,"show-header:true":""}},[a("el-table-column",{attrs:{prop:"address",label:"物料信息"}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"规格/参数/型号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"物料版本号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"数量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"date",label:"单位"}}),t._v(" "),a("el-table-column",{attrs:{prop:"date",label:"备用物料"}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticStyle:{color:"#F6463B"},attrs:{type:"text",size:"small"},nativeOn:{click:function(a){a.preventDefault(),t.deleteRow(e.$index,t.tableData1)}}},[t._v("\n         删除\n       ")])]}}])})],1)],1)])],1)],1)},staticRenderFns:[]};e.a=r},Fghc:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("GCjt"),o=a.n(r);for(var l in r)"default"!==l&&function(t){a.d(e,t,function(){return r[t]})}(l);var i=a("fuuz");var n=function(t){a("+/hC")},s=a("C7Lr")(o.a,i.a,!1,n,null,null);e.default=s.exports},Fx3k:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{config:{type:Object},width:{default:"400px"},isForm:{default:!0}},methods:{callBack:function(t){this.$emit(t)}}}},G8ZN:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=l(a("kfHR")),o=l(a("IvJb"));function l(t){return t&&t.__esModule?t:{default:t}}function i(t){if(!(this instanceof i))return new i(t,null,null)}i.treeToArray=function(t,e,a,l){var n=[];return(0,r.default)(t).forEach(function(t){void 0===t._expanded&&o.default.set(t,"_expanded",l),void 0===t._loaded&&o.default.set(t,"_loaded",!1),void 0===t._loading&&o.default.set(t,"_loading",!1),e&&o.default.set(t,"_parent",e);var r=0;if(void 0!==a&&null!==a&&(r=a+1),o.default.set(t,"_level",r),n.push(t),t.children&&t.children.length>0){var s=i.treeToArray(t.children,t,r,l);n=n.concat(s)}}),console.log(n),n},i.getTreeArray=function(t,e,a,l,n){var s=t;return(0,r.default)(t).forEach(function(t){void 0===t._expanded&&o.default.set(t,"_expanded",l),void 0===t._loaded&&o.default.set(t,"_loaded",!1),void 0===t._loading&&o.default.set(t,"_loading",!1);var e=0;void 0!==a&&null!==a&&(e=a+1),o.default.set(t,"_level",e),t.leaf||n.expand(t,function(){if(t.children&&t.children.length>0)i.getTreeArray(t.children,t,e,l,n)})}),s},e.default=i},GCjt:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(a("IHPB")),o=a("Cs0b"),l=a("0FQM"),i=n(a("GSr8"));function n(t){return t&&t.__esModule?t:{default:t}}e.default={data:function(){return{formData:{list:[{crafworkId:"",param:""}]},devList:[],list:[{field:"crafworkName",label:"工艺名称",status:[1,2,3]},{field:"macType",label:"主生产设备",status:[1,2,3],type:"select",childrens:[],prop:{label:"modelName",value:"modelName"}},{field:"quartersEmp",label:"工艺岗位",status:[2],type:"select",childrens:[]},{field:"quarterName",label:"工艺岗位",status:[1]},{field:"gradeEmp",label:"技能等级要求",status:[1,2],type:"textarea"},{field:"checkof",label:"是否需要品检",status:[1]},{field:"isCheck",label:"是否需要品检",status:[2],type:"radio",childrens:[{label:"是",value:1},{label:"否",value:0}]},{field:"unit",label:"单位",status:[2]}],listUrl:"carfwork/pageCarfwork",addUrl:"carfwork/addCrafwork",delUrl:"carfwork/deCrafwork",editUrl:"carfwork/editCrafwork",rules:{crafworkName:i.default.require("string","工艺名称不能为空"),macType:i.default.require("string","请选择主生产设备"),gradeEmp:i.default.require("string","技能等级要求不能为空"),quartersEmp:i.default.require("string","请选择工艺岗位"),source:i.default.require("number","请选择来源"),isCheck:i.default.require("number","请确认是否需要品检"),unit:[{required:!0,message:"单位不能为空",trigger:"blur"}].concat((0,r.default)(i.default.length1(10,"不能超过10位字符")))},toastConfig:{title:"参数设置",dialogVisible:!1,btnData:[{type:"primary",method:"submit",name:"保存"},{type:"",method:"cancel",name:"取消"}],btnStatus:[!0,!0,!0]}}},methods:{submit:function(){var t=this;if(this.formData.list.findIndex(function(t){return""==t.param})>=0)return this.$message.error("参数不可为空");(0,l.submit)(this.formData.list,this).then(function(e){t.$message.success("参数设置成功"),t.$refs.template.getList(),t.toastConfig.dialogVisible=!1})},set:function(t){var e=this;this.currentId=t,this.formData.list=[],(0,l.getDetail)({crafworkId:t},this).then(function(t){t.length>0?t.forEach(function(t){e.formData.list.push({crafworkId:t.crafworkId,param:t.param})}):e.formData.list.push({crafworkId:e.currentId,param:""}),e.toastConfig.dialogVisible=!0})},add:function(t){this.formData.list.splice(t+1,0,{crafworkId:this.currentId,param:""})}},components:{Template:o.Template},mounted:function(){var t=this;(0,l.getDevList)(this).then(function(e){t.list[1].childrens=e}),(0,l.getWorkList)(this).then(function(e){t.list[2].childrens=e})}}},GSr8:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={isRepeat:function(t,e,a){if(function(t){var e={};for(var a in t){if(e[t[a]])return!0;e[t[a]]=!0}return!1}(e))return a(new Error("输入重复"));a()},noChinese:function(t,e,a){if(!/^[0-9a-zA-Z]{1,}$/.test(e))return a(new Error("请勿输入中文与其他特殊符号"));a()},hexadecimal:function(t,e,a){if(!/^[0-9a-fA-F]{1,}$/.test(e))return a(new Error("必须为十六进制字符"));a()},length1:function(t,e){var a="长度过长";return e&&(a=e),[{validator:function(e,a,r){if((a=a||"").length>t)return r(new Error("长度过长"));r()},message:a,trigger:"blur"}]},require:function(t,e){var a="此项不能为空";return e&&(a=e),"string"!=t?[{required:!0,type:t,message:a,trigger:"change"}]:[{required:!0,message:a,trigger:"change"},{validator:function(t,e,a){/^\s*$/.test(e)?a(new Error("不可为全空格")):a()},trigger:"change"}]},phone:function(t,e,a){if(!/^1[34578]\d{9}$/.test(e))return a(new Error("请输入正确的手机号码"));a()},IDcard:function(t,e,a){if(!/^(^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$)|(^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])((\d{4})|\d{3}[Xx])$)$/.test(e))return a(new Error("请输入正确的身份证号码"));a()},email:function(t,e,a){if(!/^[A-Za-z\d]+([-_.][A-Za-z\d]+)*@([A-Za-z\d]+[-.])+[A-Za-z\d]{2,4}$/.test(e))return a(new Error("请输入正确的邮箱"));a()},chineseName:function(t,e,a){if(!/^[\u4e00-\u9fa5]{2,4}$/.test(e))return a(new Error("请输入正确的中文名"));a()},EnglishName:function(t,e,a){if(e&&!/^[a-zA-Z\/ ]{2,20}$/.test(e))return a(new Error("请输入正确的英文名"));a()},isEmpty:function(t,e,a){if(/^\s{0,}$/.test(e))return a(new Error("输入不能为空"));a()},isUserName:function(t,e,a){if(!/^[\u4e00-\u9fa5\w_-]{4,20}$/.test(e))return a(new Error("用户名输入格式有误"));a()},isPassword:function(t,e,a){if(!/^.{6,20}$/.test(e))return a(new Error("密码输入格式有误"));a()},credit:function(t,e,a){if(!/[^_IOZSVa-z\W]{2}\d{6}[^_IOZSVa-z\W]{10}/g.test(e))return a(new Error("统一社会信用代码输入格式有误"));a()}};e.default=r},GgIh:function(t,e){},Hc0G:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["config","type"],methods:{callBack:function(t){console.log(1111),this.$emit(t)}},computed:{width:function(){return 8==this.type?"1200px":12==this.type?"900px":"600px"}}}},Hqqj:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},IRot:function(t,e,a){"use strict";var r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"myTable"},[a("el-table",{attrs:{data:t.tableData,"max-height":t.tableConfig.height?t.tableConfig.height:560,"highlight-current-row":t.tableConfig.isHigh},on:{"selection-change":t.select,"select-all":t.select,"row-dblclick":t.rowDblclick}},[t.tableConfig.isSelection?a("el-table-column",{attrs:{type:"selection",width:"50",selectable:t.selectable,align:t.tableConfig.align,disabled:t.tableData.length<0}}):t._e(),t._v(" "),t.tableConfig.isOrder?a("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}):t._e(),t._v(" "),t._l(t.col,function(t,e){return a("el-table-column",{key:t.field,attrs:{prop:t.field,resizable:"","show-overflow-tooltip":"",label:t.label,width:t.width,align:"center"}})}),t._v(" "),t.tableConfig.isOperate?a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._t("default",null,{row:e.row})]}}])}):t._e()],2),t._v(" "),a("div",{staticClass:"my-pagination"},[Object.keys(t.pageConfig).length>1?a("el-pagination",{attrs:{"current-page":t.pageConfig.pageNo,"page-sizes":[20,40,60,80],"page-size":t.pageConfig.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.pageConfig.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}):t._e()],1),t._v(" "),a("loading",{directives:[{name:"show",rawName:"v-show",value:t.pageConfig.loadShow,expression:"pageConfig.loadShow"}]})],1)},staticRenderFns:[]};e.a=r},Ib3W:function(t,e,a){"use strict";var r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search"},[a("div",{staticClass:"otherContent"},[a("div",{staticClass:"search-laber",staticStyle:{"font-size":"14px"}},[t._v("筛选条件：")]),t._v(" "),a("div",{staticClass:"search-con"},t._l(t.config,function(e,r){return a("div",{key:r,staticClass:"search-value-con clear"},[a("div",{staticClass:"search-value"},[a("span",[""==t.data[e.field]||null==t.data[e.field]?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"全部",placement:"top-start"}},[a("small",[t._v(t._s(e.label)+":全部")])]):"select"==e.type||"radio"==e.type?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.getSelectDate(t.data[e.field],e.childrens),placement:"top-start"}},[a("small",[t._v(t._s(e.label)+":"+t._s(t.getSelectDate(t.data[e.field],e.childrens)))])]):t.data[e.field].constructor==Array&&"numRange"!=e.type&&"cascader"!=e.type?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.getDate(t.data[e.field]),placement:"top-start"}},[a("small",[t._v(t._s(e.label)+":"+t._s(t.getDate(t.data[e.field])))])]):t.data[e.field].constructor==Array&&"numRange"==e.type?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.getRange(t.data[e.field]),placement:"top-start"}},[a("small",[t._v(t._s(e.label)+":"+t._s(t.getRange(t.data[e.field])))])]):t.data[e.field].constructor==Array&&"cascader"==e.type?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.getCascader(t.data[e.field],e.childrens),placement:"top-start"}},[a("small",[t._v(t._s(e.label)+":"+t._s(t.getCascader(t.data[e.field],e.childrens)))])]):(t.data[e.field].constructor,Date,a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.data[e.field],placement:"top-start"}},[a("small",[t._v(t._s(e.label)+":"+t._s(t.data[e.field]))])]))],1)])])})),t._v(" "),a("div",{staticClass:"search-btns",staticStyle:{"font-size":"14px","line-height":"34px"}},[t.isShow?t._e():a("el-button",{attrs:{type:"info",size:"mini",icon:"el-icon-arrow-down"},on:{click:function(e){t.isShow=!t.isShow}}},[t._v("显示筛选")]),t._v(" "),t.isShow?a("el-button",{attrs:{type:"info",size:"mini",icon:"el-icon-arrow-up"},on:{click:function(e){t.isShow=!t.isShow}}},[t._v("隐藏筛选")]):t._e(),t._v(" "),a("el-button",{attrs:{type:"info",size:"mini",icon:"el-icon-close"},on:{click:t.init}},[t._v("清空筛选")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:t.search}},[t._v("查询")])],1)]),t._v(" "),a("transition",{attrs:{name:"el-zoom-in-top"}},[t.isShow?a("div",{staticClass:"content"},[a("el-form",{ref:"form",staticStyle:{overflow:"hidden"},attrs:{model:t.data,"label-width":"110px"}},t._l(t.config,function(e,r){return a("el-col",{key:r,attrs:{span:6}},[a("el-form-item",{staticStyle:{height:"46px"},attrs:{label:e.label,size:"mini"}},["radioButton"==e.type?a("el-radio-group",{staticStyle:{width:"100%"},on:{change:function(a){t.handler(e.field,t.data[e.field])}},model:{value:t.data[e.field],callback:function(a){t.$set(t.data,e.field,a)},expression:"data[item.field]"}},t._l(e.childrens,function(e,r){return a("el-radio-button",{key:e.value,attrs:{label:e.value}},[t._v(t._s(e.name))])})):t._e(),t._v(" "),"input"!=e.type&&e.type?t._e():a("el-input",{staticStyle:{width:"100%"},model:{value:t.data[e.field],callback:function(a){t.$set(t.data,e.field,a)},expression:"data[item.field]"}}),t._v(" "),"searchInput"==e.type?a("el-autocomplete",{staticStyle:{width:"100%"},attrs:{"fetch-suggestions":e.searchMethod},on:{select:t.handleSelect},model:{value:t.data[e.field],callback:function(a){t.$set(t.data,e.field,a)},expression:"data[item.field]"}}):t._e(),t._v(" "),"year"==e.type?a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:e.type,"value-format":"yyyy"},model:{value:t.data[e.field],callback:function(a){t.$set(t.data,e.field,a)},expression:"data[item.field]"}}):t._e(),t._v(" "),"month"==e.type?a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:e.type,"value-format":"yyyy-MM"},model:{value:t.data[e.field],callback:function(a){t.$set(t.data,e.field,a)},expression:"data[item.field]"}}):t._e(),t._v(" "),"daterange"==e.type||"date"==e.type?a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:e.type,"value-format":"yyyy-MM-dd"},model:{value:t.data[e.field],callback:function(a){t.$set(t.data,e.field,a)},expression:"data[item.field]"}}):t._e(),t._v(" "),"datetimerange"==e.type||"datetime"==e.type?a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:e.type,"value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:t.data[e.field],callback:function(a){t.$set(t.data,e.field,a)},expression:"data[item.field]"}}):t._e(),t._v(" "),"radio"==e.type?a("el-radio-group",{staticStyle:{width:"100%"},model:{value:t.data[e.field],callback:function(a){t.$set(t.data,e.field,a)},expression:"data[item.field]"}},t._l(e.childrens,function(r,o){return a("el-radio",{key:o,style:{color:r.color},attrs:{border:"",label:e.prop?r[e.prop.value]:r.value}},[t._v(t._s(e.prop?r[e.prop.label]:r.label))])})):t._e(),t._v(" "),"checkbox"==e.type?a("el-checkbox-group",{staticStyle:{width:"100%"},attrs:{max:e.max},model:{value:t.data[e.field],callback:function(a){t.$set(t.data,e.field,a)},expression:"data[item.field]"}},t._l(e.childrens,function(r,o){return a("el-checkbox",{key:e.prop?r[e.prop.value]:r.value,style:{color:r.color},attrs:{border:"",label:e.prop?r[e.prop.value]:r.value}},[t._v(t._s(e.prop?r[e.prop.label]:r.label))])})):t._e(),t._v(" "),"number"==e.type?a("el-input-number",{staticStyle:{width:"100%"},attrs:{min:e.min,max:e.max,controls:e.isControls,"controls-position":e.controlPos},model:{value:t.data[e.field],callback:function(a){t.$set(t.data,e.field,a)},expression:"data[item.field]"}}):t._e(),t._v(" "),"select"==e.type?a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",filterable:e.filterable},model:{value:t.data[e.field],callback:function(a){t.$set(t.data,e.field,a)},expression:"data[item.field]"}},t._l(e.childrens,function(t,r){return a("el-option",{key:r,attrs:{label:e.prop?t[e.prop.label]:t.label,value:e.prop?t[e.prop.value]:t.value}})})):t._e(),t._v(" "),"cascader"==e.type?a("el-cascader",{staticStyle:{width:"100%"},attrs:{clearable:"","change-on-select":"",options:e.childrens,props:e.prop},model:{value:t.data[e.field],callback:function(a){t.$set(t.data,e.field,a)},expression:"data[item.field]"}}):t._e()],1)],1)}))],1):t._e()])],1)},staticRenderFns:[]};e.a=r},IcnI:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(a("IvJb")),o=s(a("9rMa")),l=s(a("TBfp")),i=s(a("ukYY")),n=s(a("Hqqj"));function s(t){return t&&t.__esModule?t:{default:t}}r.default.use(o.default),e.default=new o.default.Store({state:{isLoading:!1,userName:"",userImg:"",companyName:"",companyEnglish:"",companyLogo:"",uploadUrl:""},actions:n.default,mutations:i.default,getters:l.default})},Iy4H:function(t,e,a){"use strict";var r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Template",{ref:"template",attrs:{list:t.list,listUrl:t.listUrl,addUrl:t.addUrl,delUrl:t.delUrl,editUrl:t.editUrl,rules:t.rules,config:{isOperate:!0,isSelection:!1,isOrder:!1,isPage:!0,dataFromSever:!1},needSearch:!0,defaultBtn:[!1,!1,!1]},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.handlerEdit(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{staticStyle:{color:"#F6463B","margin-left":"30px"},attrs:{type:"text"},on:{click:function(a){t.handlerDel(e.row)}}},[t._v("删除")])]}}])},[a("el-button",{attrs:{slot:"l_rSlot",size:"mini",icon:"el-icon-plus",type:"primary"},on:{click:t.add},slot:"l_rSlot"},[t._v("新增")])],1)],1)},staticRenderFns:[]};e.a=r},JCMk:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("P0pO"),o=a.n(r);for(var l in r)"default"!==l&&function(t){a.d(e,t,function(){return r[t]})}(l);var i=a("EtjO");var n=function(t){a("vh7S")},s=a("C7Lr")(o.a,i.a,!1,n,null,null);e.default=s.exports},KayE:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("870y"),o=a.n(r);for(var l in r)"default"!==l&&function(t){a.d(e,t,function(){return r[t]})}(l);var i=a("rpGh");var n=function(t){a("hjh6")},s=a("C7Lr")(o.a,i.a,!1,n,null,null);e.default=s.exports},L14K:function(t,e){},LAZg:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=c(a("HzJ8")),o=c(a("aA9S")),l=c(a("Q9X1")),i=c(a("5PXt")),n=c(a("lHdJ")),s=c(a("GSr8")),d=a("sG+p");function c(t){return t&&t.__esModule?t:{default:t}}e.default={data:function(){return{activeName:"first",currentNode:{level:1,data:{pathNo:""}},rootNode:null,listConfig:{},tags:[],router:{prodCrafworkPathPlmDtos:[]},request:{crafworkChangeRecordPlmDtos:[]}}},methods:{init:function(t){this.currentNode=(0,o.default)({},t),this.rootNode=t},filterTree:function(t){var e=this;this.rootNode.childNodes=[],(0,d.getRootNode)({prodName:t}).then(function(t){var a=!0,o=!1,l=void 0;try{for(var i,n=(0,r.default)(t);!(a=(i=n.next()).done);a=!0){var s=i.value;e.$refs.myTree.$refs.modelTree.append(s,e.rootNode)}}catch(t){o=!0,l=t}finally{try{!a&&n.return&&n.return()}finally{if(o)throw l}}})},nodeChange:function(t){var e=this;this.currentNode=t,this.$refs.routerSet&&(this.$refs.routerSet.currentPool={id:-1},this.$refs.routerSet.params=[]),this.tags=[],this.router={prodCrafworkPathPlmDtos:[]},this.request={crafworkChangeRecordPlmDtos:[]},t.data.pathNo?((0,d.getPoolList)({midProdNo:t.data.midProdNo,pathNo:t.data.pathNo}).then(function(t){console.log(t),e.tags=t}),"已通过"==t.data.status&&((0,d.getMsg)({midProdNo:t.data.midProdNo,prodNo:t.data.prodNo,pathNo:t.data.pathNo}).then(function(t){e.router=t}),(0,d.getRecord)({midProdNo:t.data.midProdNo,prodNo:t.data.prodNo,pathNo:t.data.pathNo}).then(function(t){e.request=t}))):this.$prompt("请输入工艺路线号","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/\s/g,inputErrorMessage:"工艺路线号不能为空"}).then(function(a){var r=a.value;(0,d.setRouter)({prodNo:t.data.prodNo,pathNo:r}).then(function(a){e.$message.success("添加工艺路线号成功"),e.$set(t.data,"pathNo",r),e.currentNode=t,(0,d.getPoolList)({midProdNo:t.data.midProdNo,pathNo:t.data.pathNo},e).then(function(t){e.tags=t})})}).catch(function(){e.$message({type:"info",message:"取消输入"})})},loadNode:function(t,e){var a=this;0==t.level?(0,d.getRootNode)({prodName:""}).then(function(t){e(t)}):t.data.pathNo?(0,d.getNode)({prodNo:t.data.prodNo,midProdNo:t.data.midProdNo}).then(function(t){e(t)}):this.$prompt("请输入工艺路线号","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/\s/g,inputErrorMessage:"工艺路线号不能为空"}).then(function(r){var o=r.value;null==o?a.node.data.pathNo=s.default.require("string","工艺路线号不能为空"):(0,d.setRouter)({prodNo:t.data.prodNo,pathNo:o}).then(function(r){console.log(o,"value"),a.$message.success("添加工艺路线号成功"),t.data.pathNo=o,(0,d.getNode)({prodNo:t.data.prodNo,midProdNo:t.data.midProdNo}).then(function(t){e(t)})})}).catch(function(){console.log(t),t.loading=!1,t.loaded=!1,a.$message({type:"info",message:"取消输入"})})}},components:{routerSet:l.default,changeRecord:n.default,routerList:i.default}}},LxUi:function(t,e){},M93x:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("sEFh"),o=a.n(r);for(var l in r)"default"!==l&&function(t){a.d(e,t,function(){return r[t]})}(l);var i=a("594h");var n=function(t){a("ej75")},s=a("C7Lr")(o.a,i.a,!1,n,null,null);e.default=s.exports},NHnr:function(t,e,a){"use strict";var r=p(a("IvJb")),o=p(a("M93x"));a("OIlf");var l=p(a("srH3")),i=(p(a("Dod7")),p(a("YaEn"))),n=p(a("IcnI"));a("BjtM");var s=p(a("KayE")),d=p(a("hNqL")),c=p(a("zAgK")),u=p(a("7biW")),f=p(a("D7x1")),m=p(a("Zew3"));function p(t){return t&&t.__esModule?t:{default:t}}a("briU"),r.default.config.productionTip=!1,r.default.use(l.default),r.default.component("Page",s.default),r.default.component("toast",d.default),r.default.component("tree",c.default),r.default.component("plmToast",d.default),r.default.component("search",u.default),r.default.component("plmTable",f.default),r.default.component("showSearch",m.default),new r.default({el:"#app",router:i.default,store:n.default,components:{app:o.default}})},NgTn:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("Cs0b");e.default={data:function(){return{list:[{field:"status",label:"单据状态",status:[1,3]},{field:"code",label:"采购单编号",status:[1,3]},{field:"orgName",label:"采购部门",status:[2],type:"textarea"},{field:"purchaseDate",label:"采购日期",status:[2,3],type:"date"},{field:"batchNumber",label:"采购批次",status:[2]},{field:"operater",label:"采购人",status:[1,2,3]},{field:"remark",label:"备注",status:[1,2,3]}],listUrl:"/getlist",addUrl:"/add",detailUrl:"/detail",delUrl:"/delete",editUrl:"/edit"}},components:{Template:r.Template}}},NxGh:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("QxPb"),o=a.n(r);for(var l in r)"default"!==l&&function(t){a.d(e,t,function(){return r[t]})}(l);var i=a("pk0m");var n=function(t){a("mOHT")},s=a("C7Lr")(o.a,i.a,!1,n,null,null);e.default=s.exports},O9Rm:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("tYqp"),o=a.n(r);for(var l in r)"default"!==l&&function(t){a.d(e,t,function(){return r[t]})}(l);var i=a("hbd2");var n=function(t){a("1pH/")},s=a("C7Lr")(o.a,i.a,!1,n,null,null);e.default=s.exports},OIlf:function(t,e){},ObQf:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(a("HzJ8")),o=i(a("3cXf")),l=i(a("r2Hw"));function i(t){return t&&t.__esModule?t:{default:t}}e.default={data:function(){return{isShow:!0,initData:{}}},props:{data:{type:Object,default:{},required:!0},config:{type:Array,default:[],required:!0},defaultLabel:{type:String,default:"全部"}},created:function(){var t=!0,e=!1,a=void 0;try{for(var l,i=(0,r.default)(this.config);!(t=(l=i.next()).done);t=!0){var n=l.value,s=!0,d=!1,c=void 0;try{for(var u,f=(0,r.default)(n);!(s=(u=f.next()).done);s=!0){var m=u.value;"checkbox"!=m.type&&"cascader"!=m.type&&"numRange"!=m.type?this.data[m.field]||this.$set(this.data,m.field,null):"numRange"==m.type?this.data[m.field]||this.$set(this.data,m.field,[null,null]):this.data[m.field]||this.$set(this.data,m.field,[])}}catch(t){d=!0,c=t}finally{try{!s&&f.return&&f.return()}finally{if(d)throw c}}}}catch(t){e=!0,a=t}finally{try{!t&&i.return&&i.return()}finally{if(e)throw a}}this.initData=JSON.parse((0,o.default)(this.data))},components:{numRange:l.default},methods:{handler:function(t,e){t&&this.$emit(t,e)},search:function(){this.$emit("search",this.data)},init:function(){for(var t in console.log(this.initData),this.data)this.data[t]=JSON.parse((0,o.default)(this.initData))[t]},handleSelect:function(t){this.$emit("handleSelect",t)},getDate:function(t){var e=[],a=!0,o=!1,l=void 0;try{for(var i,n=(0,r.default)(t);!(a=(i=n.next()).done);a=!0){var s=i.value;s.constructor,Date,e.push(s)}}catch(t){o=!0,l=t}finally{try{!a&&n.return&&n.return()}finally{if(o)throw l}}return e.join("至")},getRange:function(t){return null==t[0]&&null==t[1]?this.defaultLabel:null==t[0]&&null!=t[1]?"小于"+t[1]:null!=t[0]&&null==t[1]?"大于"+t[0]:"大于"+t[0]+"且小于"+t[1]},getCascader:function(t,e){var a=[],r=e;if(t.length>0){for(var o=0;o<t.length;o++){var l=r.findIndex(function(e){return e.value==t[o]});l>=0&&(a.push(r[l].label),void 0!=r[l].children&&(r=r[l].children))}return a.join("/")}return this.defaultLabel},getSelectDate:function(t,e){console.log(t,e,"1111111111111");var a=e.findIndex(function(e){return e.value==t});return a>=0?e[a].label:this.defaultLabel}}}},P0pO:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{tableData1:[{date:"2016",name:"王小虎",address:"上海市"}],labelPosition:"right",activeName:"first",changeConfig:{title:"修改",dialogVisible:!1,width:"1000px",btnData:[{name:"保存",type:"primary",method:"submit"},{name:"取消",method:"cancel",bgColor:"dialog-deep-blue"}],btnStatus:[!0,!0,!0]}}},methods:{cancel:function(){this.changeConfig.dialogVisible=!1},submit:function(){this.changeConfig.dialogVisible=!1,this.$refs.ruleForm.submit(row)},handleClick:function(t,e){console.log(t,e)},deleteRow:function(t,e){e.splice(t,1)},rowClass:function(t){t.row;var e=t.rowIndex;return console.log(e),"background:#E5E5E5"},xiugai:function(){this.changeConfig.dialogVisible=!0}}}},P9GV:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(a("Vwt/")),o=i(a("VQRr")),l=i(a("puPY"));function i(t){return t&&t.__esModule?t:{default:t}}e.default={data:function(){return{activeName:"first"}},methods:{},components:{productBom:r.default,publicBom:o.default,formulaBom:l.default}}},"PT/l":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=a("G8ZN"),l=(r=o)&&r.__esModule?r:{default:r};e.default={MSDataTransfer:l.default}},PVSh:function(t,e,a){"use strict";var r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"constitute"},[a("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"产品BOM",name:"first"}},[a("product-bom")],1),t._v(" "),a("el-tab-pane",{attrs:{label:"公用组件BOM",name:"second"}},["second"==t.activeName?a("public-bom"):t._e()],1),t._v(" "),a("el-tab-pane",{attrs:{label:"配方BOM",name:"third"}},["third"==t.activeName?a("formula-bom"):t._e()],1)],1)],1)},staticRenderFns:[]};e.a=r},Q9X1:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("R4Pq"),o=a.n(r);for(var l in r)"default"!==l&&function(t){a.d(e,t,function(){return r[t]})}(l);var i=a("w0NT");var n=function(t){a("cJu5")},s=a("C7Lr")(o.a,i.a,!1,n,null,null);e.default=s.exports},QtNi:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=l(a("HzJ8")),o=l(a("3cXf"));function l(t){return t&&t.__esModule?t:{default:t}}e.default={data:function(){return{isShow:!1,initData:{}}},props:{data:{type:Object,default:function(){return{}},required:!0},config:{type:Array,default:function(){return[]},required:!0}},created:function(){var t=!0,e=!1,a=void 0;try{for(var l,i=(0,r.default)(this.config);!(t=(l=i.next()).done);t=!0){var n=l.value;"checkbox"!=n.type&&"cascader"!=n.type&&"numRange"!=n.type?this.data[n.field]||this.$set(this.data,n.field,null):"numRange"==n.type?this.data[n.field]||this.$set(this.data,n.field,[null,null]):this.data[n.field]||this.$set(this.data,n.field,[])}}catch(t){e=!0,a=t}finally{try{!t&&i.return&&i.return()}finally{if(e)throw a}}this.initData=JSON.parse((0,o.default)(this.data))},methods:{handler:function(t,e){this.$emit(t,e)},search:function(){this.$emit("search",this.data)},init:function(){for(var t in console.log(this.initData),this.data)this.data[t]=JSON.parse((0,o.default)(this.initData))[t]},handleSelect:function(t){this.$emit("handleSelect",t)},getDate:function(t){var e=[],a=!0,o=!1,l=void 0;try{for(var i,n=(0,r.default)(t);!(a=(i=n.next()).done);a=!0){var s=i.value;s.constructor,Date,e.push(s)}}catch(t){o=!0,l=t}finally{try{!a&&n.return&&n.return()}finally{if(o)throw l}}return e.join("至")},getRange:function(t){return null==t[0]&&null==t[1]?"全部":null==t[0]&&null!=t[1]?"小于"+t[1]:null!=t[0]&&null==t[1]?"大于"+t[0]:"大于"+t[0]+"且小于"+t[1]},getCascader:function(t,e){var a=[],r=e;if(t.length>0){for(var o=0;o<t.length;o++){var l=r.findIndex(function(e){return e.value==t[o]});l>=0&&(a.push(r[l].name),void 0!=r[l].children&&(r=r[l].children))}return a.join("/")}return"全部"},getSelectDate:function(t,e){var a=e.findIndex(function(e){return e.value==t});return a>=0?e[a].label:"全部"}}}},QxPb:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["isFixed"]}},R4Pq:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=d(a("4YfN")),o=d(a("HzJ8")),l=d(a("3cXf")),i=d(a("0zTm")),n=a("sG+p"),s=d(a("GSr8"));function d(t){return t&&t.__esModule?t:{default:t}}e.default={data:function(){return{currentPool:{},craftworkRules:{crafworkName:s.default.require("string","工艺名称不能为空"),macType:s.default.require("string","请选择主生产设备"),isCheck:s.default.require("number","请确定是否需要品检"),quartersEmp:s.default.require("string","请选择主工艺岗位"),unit:s.default.require("string","请输入单位")},currentCraftworkFormRule:{crafworkDesc:s.default.require("string","工艺要求不能为空"),macMinutes:s.default.require("number","此项不能为空"),empMinutes:s.default.require("number","此项不能为空"),dayAmount:s.default.require("number","此项不能为空")},paramRule:{values1:s.default.require("string","参数名不能为空"),values3:s.default.require("string","值集不能为空")},formData:{list:[]},newCraftwork:{crafworkName:"",macType:"",isCheck:"",quartersEmp:"",unit:""},devs:[],jobs:[],currentCraftwork:{id:-1},currentParam:{id:-1},params:[],addPoolConfig:{title:"新增工艺池",width:"600px",dialogVisible:!1,btnData:[{type:"primary",method:"submit",name:"保存"},{type:"",method:"cancel",name:"取消"}],btnStatus:[!0,!0]},addParamsConfig:{title:"添加工艺参数名",width:"600px",dialogVisible:!1,btnData:[{type:"primary",method:"submit",name:"保存"},{type:"",method:"cancel",name:"取消"}],btnStatus:[!0,!0]},addCraftworkConfig:{title:"新增工艺资料",width:"600px",dialogVisible:!1,btnData:[{type:"primary",method:"sure",name:"保存"},{type:"",method:"cancel",name:"取消"}],btnStatus:[!0,!0]},paramSet:{title:"参数设置",dialogVisible:!1,btnData:[{type:"primary",method:"submit",name:"保存"},{type:"",method:"cancel",name:"取消"}],btnStatus:[!0,!0,!0]},craftworks:[],paramList:[],checkedcraftworks:[],checkedParams:[]}},props:{currentNode:{default:function(){return{level:-1}},type:Object},tags:{type:Array}},computed:{selfTags:{get:function(){return JSON.parse((0,l.default)(this.tags))},set:function(t){this.$emit("update:tags",t)}}},methods:{submitReview:function(){var t=this;(0,n.review)({prodNo:this.currentNode.data.prodNo,pathNo:this.currentNode.data.pathNo}).then(function(e){t.$message.success("保存成功"),t.currentNode.data.status="审批中"})},setCurrentParam:function(t){this.currentParam=t},selectChange:function(t){t.id==this.currentCraftwork.id&&(this.currentCraftwork={id:-1})},getJob:function(t){return this.jobs.findIndex(function(e){return e.value==t})>=0?this.jobs[this.jobs.findIndex(function(e){return e.value==t})].label:""},detailParam:function(t){var e=this;this.currentPool=t,(0,n.getParam)({midProdNo:this.currentNode.data.midProdNo,crafworkId:t.crafworkId},this).then(function(t){e.params=t})},addCraftwork:function(){this.newCraftwork={crafworkName:"",macType:"",isCheck:"",quartersEmp:"",unit:""},this.addCraftworkConfig.dialogVisible=!0,this.addPoolConfig.dialogVisible=!1},closeTag:function(t,e){t.id==this.currentCraftwork.id&&(this.currentCraftwork={id:-1}),this.checkedcraftworks.splice(e,1)},handleClose:function(t){var e=this;this.$confirm("此操作将永久删除此工艺, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){(0,n.delStruct)({status:e.currentNode.data.status,ids:t.id}).then(function(a){e.$message({type:"success",message:"删除成功!"}),e.selfTags.splice(e.selfTags.indexOf(t),1),e.$emit("update:tags",e.selfTags),e.currentPool.id==t.id&&(e.currentPool={},e.params=[])})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},paramClose:function(t){var e=this;this.$confirm("此操作将永久删除此参数, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){(0,n.delParam)({status:e.currentNode.data.status,ids:t.id},e).then(function(a){e.params.splice(e.params.indexOf(t),1)})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},beforeCarftworkAdd:function(){var t=this;(0,n.addCraGet)({status:this.currentNode.data.status,midProdNo:this.currentNode.data.midProdNo},this).then(function(e){t.craftworks=e,t.addPoolConfig.dialogVisible=!0})},beforeParamAdd:function(){var t=this;this.currentPool.id>0?(0,n.addParamGet)({status:this.currentNode.data.status,midProdNo:this.currentNode.data.midProdNo,crafworkId:this.currentPool.crafworkId},this).then(function(e){t.paramList=e,t.addParamsConfig.dialogVisible=!0}):this.$message.error("请先选择工艺")},submit:function(){this.check(-1)},check:function(t){var e=this;this.currentCraftwork=this.checkedcraftworks[t+1],this.$nextTick(function(){e.$refs.currentCraftworkForm.validate(function(a){if(!a)return t+1;if(t<e.checkedcraftworks.length-2)return e.check(t+1);var r=[];e.checkedcraftworks.forEach(function(t){r.push({pathNo:e.currentNode.data.pathNo,midProdNo:e.currentNode.data.midProdNo,crafworkId:t.id,quartersEmp:t.quartersEmp,unit:t.unit,macMinutes:t.macMinutes,empMinutes:t.empMinutes,dayAmount:t.dayAmount,crafworkDesc:t.crafworkDesc})}),(0,n.addStruct)({status:e.currentNode.data.status,prodCrafworkPathPlms:r},e).then(function(t){e.addPoolConfig.dialogVisible=!1,e.currentCraftwork={id:-1};t.forEach(function(t){var a=!0,r=!1,l=void 0;try{for(var i,n=(0,o.default)(e.checkedcraftworks);!(a=(i=n.next()).done);a=!0){var s=i.value;t.crafworkId==s.id&&(t.crafworkName=s.crafworkName)}}catch(t){r=!0,l=t}finally{try{!a&&n.return&&n.return()}finally{if(r)throw l}}}),e.selfTags=e.selfTags.concat(t),e.checkedcraftworks=[],e.$refs.currentCraftworkForm.clearValidate()})})})},paramSubmit:function(){this.check1(-1)},check1:function(t){var e=this;this.currentParam=this.checkedParams[t+1],this.$nextTick(function(){e.$refs.paramForm.validate(function(a){if(!a)return t+1;if(t<e.checkedParams.length-2)return e.check1(t+1);var r=[];e.checkedParams.forEach(function(t){r.push({values1:t.values1,values3:t.value3,paramName:t.param,prodNo:e.currentNode.data.prodNo,midProdNo:e.currentNode.data.midProdNo,crafworkId:e.currentPool.crafworkId})}),(0,n.editParams)(r,e).then(function(t){e.addParamsConfig.dialogVisible=!1,e.currentParam={id:-1},e.params=e.params.concat(t),e.checkedParams=[],e.$refs.paramForm.clearValidate()})})})},sure:function(){var t=this;this.$refs.craftworkForm.validate(function(e){if(!e)return!1;(0,n.addCrafwor)((0,r.default)({},t.newCraftwork),t).then(function(e){t.$refs.craftworkForm.clearValidate(),t.addCraftworkConfig.dialogVisible=!1,t.craftworks.unshift(e),t.addPoolConfig.dialogVisible=!0})})},sureParam:function(){var t=this;if(this.formData.list.findIndex(function(t){return""==t.param})>=0)return this.$message.error("参数名不能为空");(0,n.addParam)(this.formData.list,this).then(function(e){t.paramList=t.paramList.concat(e),t.paramSet.dialogVisible=!1,t.addParamsConfig.dialogVisible=!0})},addParam:function(){this.formData.list=[{crafworkId:this.currentPool.crafworkId,param:""}],this.paramSet.dialogVisible=!0,this.addParamsConfig.dialogVisible=!1},newAdd:function(t){this.formData.list.splice(t+1,0,{crafworkId:this.currentPool.crafworkId,param:""})}},components:{dragBox:i.default},mounted:function(){var t=this;(0,n.optionDevType)(this).then(function(e){t.devs=e}),(0,n.crafworkQuarter)(this).then(function(e){t.jobs=e})}}},RbPh:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{treeData:[],filterText:"",initData:{}}},props:{needSearch:{type:Boolean,default:!0},readOnly:{type:Boolean,default:!0},props:{type:Object,default:function(){return{label:"label"}}},buttons:{type:Array,default:function(){return[]}},rootData:{type:Array,default:function(){return[]}},isOpen:{type:Boolean,default:!1},needRoot:{type:Boolean,default:!0}},methods:{filterTree:function(t){this.$emit("filterTree",this.filterText)},handlerClick:function(t,e,a){this.$emit(a,t,e)},nodeChange:function(t,e){this.$emit("nodeChange",e,t)},loadNode:function(t,e){0==t.level?this.needRoot?this.rootData.length>0?e(this.rootData):e([this.initData]):this.$emit("loadNode",t,e,0):this.$emit("loadNode",t,e,t.data.id)}},created:function(){this.initData={id:0,isLeaf:!1},this.$set(this.initData,this.props.label,"root")},mounted:function(){this.$emit("init",this.$refs.modelTree.root)},watch:{}}},SuJ5:function(t,e){},TBfp:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={getIsLoading:function(t){return t.isLoading},getUserName:function(t){return t.userName},getUserImg:function(t){return t.userImg},getCompanyName:function(t){return t.companyName},getCompanyEnglish:function(t){return t.companyEnglish},getCompanyLogo:function(t){return t.companyLogo},getPorts:function(t){return t.ports}}},UCBQ:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(a("HzJ8")),o=n(a("3cXf")),l=n(a("53xe")),i=a("sG+p");function n(t){return t&&t.__esModule?t:{default:t}}e.default={components:{tableGroup:l.default},data:function(){return{oldIndex:-1,newIndex:-1,toastConfig:{title:"新增工艺资料",dialogVisible:!1},formData:{},currentCarfWork:{}}},props:{tags:{default:[]},currentNode:{type:Object}},methods:{handleClose:function(){var t=this,e=this.$refs.tableGroup;e.firstSave&&e.secondSave&&e.thirdSave&&e.fourthSave?this.toastConfig.dialogVisible=!1:this.$confirm("有操作未保存, 是否继续退出?","提示",{confirmButtonText:"保存并关闭",cancelButtonText:"关闭",type:"warning"}).then(function(){t.toastConfig.dialogVisible=!1,e.firstSave||e.submitMatters(),e.secondSave||e.submitCarftWork(),e.thirdSave||e.submitSemi()}).catch(function(){return t.toastConfig.dialogVisible=!1,!1})},hadnlerClick:function(t){if("已通过"==this.currentNode.data.status||"审批中"==this.currentNode.data.status)return!1;this.currentCarfWork=t,this.toastConfig.dialogVisible=!0},drag:function(t){this.oldIndex=t.target.getAttribute("index")},drop:function(t){var e=this;if("已通过"==this.currentNode.data.status||"审批中"==this.currentNode.data.status)return!1;this.newIndex=t.target.getAttribute("index");var a=JSON.parse((0,o.default)(this.tags[this.oldIndex]));this.tags.splice(this.oldIndex,1),this.tags.splice(this.newIndex,0,a);var l=[],n=!0,s=!1,d=void 0;try{for(var c,u=(0,r.default)(this.tags);!(n=(c=u.next()).done);n=!0){var f=c.value;l.push(f.id)}}catch(t){s=!0,d=t}finally{try{!n&&u.return&&u.return()}finally{if(s)throw d}}this.oldIndex!=this.newIndex&&(0,i.upStruct)({status:this.currentNode.data.status,ids:l}).then(function(t){e.$message.success("工艺顺序调整成功")})},allowDrop:function(t){t.preventDefault()}}}},VQRr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("t5Fe"),o=a.n(r);for(var l in r)"default"!==l&&function(t){a.d(e,t,function(){return r[t]})}(l);var i=a("n1qX");var n=function(t){a("L14K")},s=a("C7Lr")(o.a,i.a,!1,n,null,null);e.default=s.exports},Vrqx:function(t,e,a){"use strict";var r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"productBom"},[a("show-search",{attrs:{config:t.searchConfig,data:t.searchData,defaultLabel:"暂无"},on:{search:t.handlerSearch}}),t._v(" "),a("div",{staticClass:"trerBox no-scroll"},[a("tree",{ref:"myTree",attrs:{"need-search":!1,"need-root":!1,props:{label:"midProdName",isLeaf:"leaf"}},on:{loadNode:t.loadNode,nodeChange:t.nodeChange,init:t.init}})],1),t._v(" "),t.currentNode.level>0?a("div",{staticClass:"Bom-content"},[a("div",[a("h3",{staticClass:"title"},[t._v("产品名称")]),t._v(" "),a("div",{staticClass:"clearfix",staticStyle:{height:"80px",position:"relative"}},[a("div",{staticClass:"form"},[a("el-form",{attrs:{size:"mini","label-position":"left",model:t.message}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"BOM编号:","label-width":"90px"}},[t._v("\n                                    "+t._s(t.message.bomNo)+"\n                                ")])],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"产品信息:","label-width":"80px"}},[t._v("\n                                    "+t._s(t.message.productName)+"\n                                ")])],1),t._v(" "),a("el-col",{attrs:{span:6}},[t.message.version?a("el-form-item",{attrs:{label:"版本号:","label-width":"80px"}},[t._v("\n                                    "+t._s(t.message.version)+"\n                                ")]):t._e()],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"BOM状态:","label-width":"80px"}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":"启用中","inactive-value":"停用"},on:{change:t.statusChange},model:{value:t.message.bomStatus,callback:function(e){t.$set(t.message,"bomStatus",e)},expression:"message.bomStatus"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"制定日期:","label-width":"80px"}},[t._v("\n                                    "+t._s(t.message.makeDate)+"\n                                ")])],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"制定人:","label-width":"60px"}},[t._v("\n                                    "+t._s(t.message.makeEmp)+"\n                                ")])],1),t._v(" "),a("el-col",{attrs:{span:6}},[t.message.voucherStatus?a("el-form-item",{attrs:{label:"审核状态:","label-width":"80px"}},[t._v("\n                                    "+t._s(t.message.voucherStatus)+"\n                                ")]):t._e()],1)],1)],1)],1),t._v(" "),t.solution?a("el-button",{staticClass:"submit-btn",attrs:{type:"primary",size:"small"},on:{click:t.approve}},[t._v("提交审核")]):a("el-button",{staticClass:"submit-btn",attrs:{type:"primary",size:"small"},on:{click:t.changeBom}},[t._v("修改产品BOM")])],1),t._v(" "),t.solution?a("div",{staticClass:"solutionOne"},[a("product-tree-grid",{ref:"treeGrid",attrs:{columns:t.columns,tyle:"padding-right:20px","tree-structure":!0,"data-source":t.dataSource,expandIndex:0,colShow:t.colShow},on:{loadNode:t.gridLoad,change:t.numberChange},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.row.mattersInfo,expression:"!scope.row.mattersInfo"}]},[a("el-button",{attrs:{size:"small",type:"text"},on:{click:function(a){t.addMater(e.row,"table1")}}},[t._v("添加物料")])],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.row.mattersInfo,expression:"scope.row.mattersInfo"}]},[a("el-button",{attrs:{size:"small",type:"text"},on:{click:function(a){t.editMater(e.row,"table1")}}},[t._v("编辑物料")]),t._v(" "),a("el-button",{staticStyle:{color:"#F6463B"},attrs:{type:"text",size:"small"},on:{click:function(a){t.delMater(e.row)}}},[t._v("删除物料")])],1)]}}])})],1):a("div",{staticClass:"solutionTwo"},[a("product-tree-grid",{ref:"treeGrid",attrs:{columns:t.columns,tyle:"padding-right:20px","tree-structure":!0,"data-source":t.dataSource,expandIndex:0,colShow:t.colShow,treeType:t.solution},on:{loadNode:t.gridLoad,change:t.numberChange}})],1)])]):t._e(),t._v(" "),a("plm-toast",{attrs:{config:t.changeToastConfig,width:"1200px"},on:{changeSubmit:t.changeSubmit,changeCancel:t.changeCancel}},[a("div",{staticClass:"bomToast"},[a("h3",{staticClass:"title"},[t._v("产品名称")]),t._v(" "),a("div",{staticClass:"clearfix",staticStyle:{height:"80px",position:"relative"}},[a("div",{staticClass:"form"},[a("el-form",{attrs:{size:"mini","label-position":"left",model:t.message1}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"BOM编号:","label-width":"90px"}},[t._v("\n                                    "+t._s(t.message1.bomNo)+"\n                                ")])],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"产品信息:","label-width":"80px"}},[t._v("\n                                    "+t._s(t.message1.productName)+"\n                                ")])],1),t._v(" "),a("el-col",{attrs:{span:6}},[t.message1.version?a("el-form-item",{attrs:{label:"版本号:","label-width":"80px"}},[t._v("\n                                    "+t._s(t.message1.version)+"\n                                ")]):t._e()],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"BOM状态:","label-width":"80px"}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":"启用中","inactive-value":"停用"},on:{change:t.statusChange},model:{value:t.message1.bomStatus,callback:function(e){t.$set(t.message1,"bomStatus",e)},expression:"message1.bomStatus"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"制定日期:","label-width":"80px"}},[t._v("\n                                    "+t._s(t.message1.makeDate)+"\n                                ")])],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"制定人:","label-width":"60px"}},[t._v("\n                                    "+t._s(t.message1.makeEmp)+"\n                                ")])],1),t._v(" "),a("el-col",{attrs:{span:6}},[t.message1.voucherStatus?a("el-form-item",{attrs:{label:"审核状态:","label-width":"80px"}},[t._v("\n                                    "+t._s(t.message1.voucherStatus)+"\n                                ")]):t._e()],1)],1)],1)],1),t._v(" "),t.solution?a("el-button",{staticClass:"submit-btn",attrs:{type:"primary",size:"small"},on:{click:t.approve}},[t._v("提交审核")]):t._e()],1),t._v(" "),a("div",{staticClass:"solutionOne"},[a("product-tree-grid",{ref:"treeGrid2",attrs:{columns:t.columns2,tyle:"padding-right:20px","tree-structure":!0,"data-source":t.dataSource2,expandIndex:0,colShow:t.colShow},on:{loadNode:t.gridLoad,change:t.numberChange},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.row.mattersInfo,expression:"!scope.row.mattersInfo"}]},[a("el-button",{attrs:{size:"small",type:"text"},on:{click:function(a){t.addMater(e.row,"table2")}}},[t._v("添加物料")])],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.row.mattersInfo,expression:"scope.row.mattersInfo"}]},[a("el-button",{attrs:{size:"small",type:"text"},on:{click:function(a){t.editMater(e.row,"table2")}}},[t._v("编辑物料")]),t._v(" "),a("el-button",{staticStyle:{color:"#F6463B"},attrs:{type:"text",size:"small"},on:{click:function(a){t.delMater2(e.row)}}},[t._v("删除物料")])],1)]}}])})],1)])]),t._v(" "),a("toast",{staticClass:"dialog-box",attrs:{config:t.addToastConfig,width:"1200px",isForm:!1},on:{sure:t.addSure,cancel:t.addCancel}},[a("span",{staticStyle:{"margin-left":"25px"}},[t._v("物料编码/物料名称：")]),t._v(" "),a("el-select",{attrs:{size:"medium",filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入关键词查询","remote-method":t.remoteMethod,loading:t.loading},on:{change:t.materielChange},model:{value:t.materielMsg.code,callback:function(e){t.$set(t.materielMsg,"code",e)},expression:"materielMsg.code"}},t._l(t.list,function(t){return a("el-option",{key:t.id,attrs:{label:t.mattersInfo,value:JSON.stringify(t)}})})),t._v(" "),a("div",{staticClass:"myTable",staticStyle:{padding:"10px 20px 0"}},[a("el-button",{attrs:{size:"medium",disabled:0==t.selectData.length},on:{click:t.handleDelete}},[t._v("删除")]),t._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"10px"},attrs:{data:t.tableData},on:{select:t.select}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"mattersInfo",label:"物料信息",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"allInfo",label:"规格/参数/型号",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{width:"200",label:"单份半成品所需用量"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input-number",{staticStyle:{width:"100%"},attrs:{placeholder:"",size:"mini",controls:!1},model:{value:e.row.amount,callback:function(a){t.$set(e.row,"amount",a)},expression:"scope.row.amount"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"unit",label:"单位"}}),t._v(" "),a("el-table-column",{attrs:{prop:"weight",label:"理论重量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"typeName",label:"物料类型"}}),t._v(" "),a("el-table-column",{attrs:{label:"物料要求"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{staticStyle:{width:"100%"},attrs:{size:"mini"},model:{value:e.row.plmDesc,callback:function(a){t.$set(e.row,"plmDesc",a)},expression:"scope.row.plmDesc"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"备用物料"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"",size:"mini"},model:{value:e.row.backupMatter,callback:function(a){t.$set(e.row,"backupMatter",a)},expression:"scope.row.backupMatter"}},t._l(t.backupMatterList,function(t){return a("el-option",{key:t.mattersNo,attrs:{label:t.mattersName,value:t.mattersNo}})}))]}}])})],1)],1)],1),t._v(" "),a("toast",{staticClass:"dialog-box",attrs:{config:t.editToastConfig,width:"480px"},on:{sure:t.editSure,cancel:t.editCancel}},[a("el-form",{ref:"materielForm",attrs:{model:t.formData,size:"small","label-position":"right","label-width":"140px"}},[a("el-form-item",{attrs:{label:"物料信息"}},[t._v(t._s(t.formData.mattersInfo))]),t._v(" "),a("el-form-item",{attrs:{label:"规格/参数/型号"}},[t._v(t._s(t.formData.allInfo))]),t._v(" "),a("el-form-item",{attrs:{label:"单位"}},[t._v(t._s(t.formData.unit))]),t._v(" "),a("el-form-item",{attrs:{label:"物料要求"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.formData.plmDesc,callback:function(e){t.$set(t.formData,"plmDesc",e)},expression:"formData.plmDesc"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"备用物料",prop:"backupMatter",rules:[{required:!0,message:"请选择物料要求"}]}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"",size:"mini"},on:{change:t.backupMatterChange},model:{value:t.formData.backupMatter,callback:function(e){t.$set(t.formData,"backupMatter",e)},expression:"formData.backupMatter"}},t._l(t.backupMatterList,function(t){return a("el-option",{key:t.mattersNo,attrs:{label:t.mattersName,value:t.mattersNo}})}))],1)],1)],1)],1)},staticRenderFns:[]};e.a=r},"Vwt/":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("hSXF"),o=a.n(r);for(var l in r)"default"!==l&&function(t){a.d(e,t,function(){return r[t]})}(l);var i=a("Vrqx");var n=function(t){a("/TE4")},s=a("C7Lr")(o.a,i.a,!1,n,null,null);e.default=s.exports},W2pD:function(t,e){},WFxh:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=f(a("3cXf")),o=f(a("Yyxk")),l=f(a("4YfN")),i=f(a("HzJ8")),n=f(a("+k0q")),s=f(a("CIL2")),d=f(a("bvY0")),c=f(a("s44Q")),u=a("EQvb");function f(t){return t&&t.__esModule?t:{default:t}}e.default={data:function(){return{pageConfig:{loadShow:!1},currentOperate:"add",formData:{},initData:{},selectData:[],loading:!1,tableData:[],toastConfig:{title:"新增",width:"600px",dialogVisible:!1,btnData:[{type:"primary",method:"submit",name:"保存"},{type:"primary",method:"saveAagin",name:"保存并继续"},{type:"",method:"cancel",name:"取消"}],btnStatus:[!0,!0,!0]},searchForm:{}}},computed:{type:function(){return"big"==this.config.type?8:"small"==this.config.type?12:24},tableList:function(){var t=[],e=!0,a=!1,r=void 0;try{for(var o,l=(0,i.default)(this.list);!(e=(o=l.next()).done);e=!0){var n=o.value;n.status.findIndex(function(t){return 1==t})>=0&&t.push(n)}}catch(t){a=!0,r=t}finally{try{!e&&l.return&&l.return()}finally{if(a)throw r}}return t},searchList:function(){var t=[],e=!0,a=!1,r=void 0;try{for(var o,l=(0,i.default)(this.list);!(e=(o=l.next()).done);e=!0){var n=o.value;n.status.findIndex(function(t){return 3==t})>=0&&t.push(n)}}catch(t){a=!0,r=t}finally{try{!e&&l.return&&l.return()}finally{if(a)throw r}}return t},dialogList:function(){var t=[],e=!0,a=!1,r=void 0;try{for(var o,l=(0,i.default)(this.list);!(e=(o=l.next()).done);e=!0){var n=o.value;n.status.findIndex(function(t){return 2==t})>=0&&t.push(n)}}catch(t){a=!0,r=t}finally{try{!e&&l.return&&l.return()}finally{if(a)throw r}}return t}},methods:{close:function(){var t=this;this.toastConfig.dialogVisible=!1,this.$nextTick(function(){t.$refs.ruleForm.clearValidate()})},cancel:function(){this.toastConfig.dialogVisible=!1},getSelectDate:function(t,e){var a=e.childrens.findIndex(function(a){return a[e.prop?e.prop.value:"value"]==t});return console.log(a,e,t,"---"),a>=0?e.childrens[a][e.prop?e.prop.label:"label"]:t},getDate:function(t){var e=[],a=!0,r=!1,o=void 0;try{for(var l,n=(0,i.default)(t);!(a=(l=n.next()).done);a=!0){var s=l.value;s.constructor,Date,e.push(s)}}catch(t){r=!0,o=t}finally{try{!a&&n.return&&n.return()}finally{if(r)throw o}}return e.join("至")},getCascader:function(t,e){var a=[],r=e;if(t.length>0){for(var o=0;o<t.length;o++){var l=r.findIndex(function(e){return e[item.prop?item.prop.value:"value"]==t[o]});l>=0&&(a.push(r[l].label),void 0!=r[l].children&&(r=r[l].children))}return a.join("/")}return""},search:function(){this.pageConfig.pageNo=1,this.pageConfig.pageSize=20,this.getList()},handlerChange:function(t,e){e&&e(this.formData[t],this.formData),this.$emit("change",t)},add:function(){this.needContinueBtn?this.toastConfig.btnStatus=[!0,!0,!0]:this.toastConfig.btnStatus=[!0,!1,!0],this.formData=(0,l.default)({},this.initData),this.toastConfig.dialogVisible=!0,this.currentOperate="add",this.toastConfig.title="新增"},edit:function(t){var e=this;if(this.currentOperate="edit",this.toastConfig.title="编辑",this.toastConfig.btnStatus=[!0,!1,!0],this.config.dataFromSever){var a={};a[keyWord]=t[keyWord],(0,u.getDetail)(a,this,this.detailUrl).then(function(t){e.toastConfig.dialogVisible=!0,e.formData=t})}else this.formData=(0,l.default)({},t),this.toastConfig.dialogVisible=!0},detail:function(t){var e=this;if(this.currentOperate="detail",this.toastConfig.title="详情",this.toastConfig.btnStatus=[!1,!1,!0],this.config.dataFromSever){var a={};a[keyWord]=t[keyWord],(0,u.getDetail)(a,this,this.detailUrl).then(function(t){e.toastConfig.dialogVisible=!0,e.formData=t})}else this.formData=(0,l.default)({},t),this.toastConfig.dialogVisible=!0},handlerDel:function(){var t=[],e=!0,a=!1,r=void 0;try{for(var o,l=(0,i.default)(this.selectData);!(e=(o=l.next()).done);e=!0){var n=o.value;t.push(n[this.keyWord])}}catch(t){a=!0,r=t}finally{try{!e&&l.return&&l.return()}finally{if(a)throw r}}this.del(t.join(","))},del:function(t){var e=this;this.$confirm("删除后数据将无法复原, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a={};a[e.keyWord+"s"]=t,(0,u.doDelete)(a,e,e.delUrl).then(function(t){e.$message({type:"success",message:"删除成功!"}),e.getList()})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},submit:function(){var t=this;this.$refs.ruleForm.validate(function(e){if(!e)return console.log("error submit!!"),!1;if("add"==t.currentOperate)(0,u.submit)((0,l.default)({},t.formData),t,t.addUrl).then(function(e){t.toastConfig.dialogVisible=!1,t.$refs.ruleForm.clearValidate(),t.$message.success("新增成功"),t.getList()});else{var a=(0,l.default)({},t.formData);a.createTime&&delete a.createTime,a.modifyTime&&delete a.modifyTime,a.modifyBy&&delete a.modifyBy,(0,u.doEdit)((0,l.default)({},a),t,t.editUrl).then(function(e){t.toastConfig.dialogVisible=!1,t.$refs.ruleForm.clearValidate(),t.$message.success("编辑成功"),t.getList()})}})},saveAagin:function(){var t=this;this.$refs.ruleForm.validate(function(e){if(!e)return console.log("error submit!!"),!1;var a=(0,l.default)({},t.formData);a.createTime&&delete a.createTime,a.modifyTime&&delete a.modifyTime,a.modifyBy&&delete a.modifyBy,(0,u.submit)((0,l.default)({},a),t,t.addUrl).then(function(e){t.$refs.ruleForm.clearValidate(),t.$nextTick(function(){t.formData=(0,l.default)({},t.initData)}),t.getList()})})},select:function(t){this.selectData=t,console.log(t,"---"),this.$emit("select",t)},getList:function(){var t=this;this.selectData=[],this.pageConfig.loadShow=!0,this.$nextTick(function(){(0,u.getList)((0,l.default)({},t.searchForm,{pageNo:t.pageConfig.pageNo?t.pageConfig.pageNo:1,pageSize:t.pageConfig.pageSize?t.pageConfig.pageSize:1e4}),t,t.listUrl).then(function(e){console.log(e),t.$emit("getListSuccess",t.searchForm,e.items),t.tableData=e.items,t.config.isPage&&(t.pageConfig.total=e.numRows),t.pageConfig.loadShow=!1})})}},components:{search:n.default,myTable:s.default,toast:d.default,showSearch:c.default},props:{needContinueBtn:{type:Boolean,default:!0},tableClass:{type:String,default:""},searchData:{default:function(){return{}},type:Object},defaultBtn:{default:function(){return[!0,!0,!0]},type:Array},rules:{default:function(){return{}},type:Object},keyWord:{default:"id",type:String},list:{type:Array,required:!0},listUrl:{type:String,required:!0},addUrl:{type:String,required:!0},detailUrl:String,delUrl:{type:String,required:!0},editUrl:{type:String,required:!0},fieldKey:o.default,fieldValue:String,config:{default:function(){return{isOperate:!1,isSelection:!0,isOrder:!1,isPage:!0,type:"big",dataFromSever:!1,selectable:!0,searchType:1}}},autoGetList:{default:!0,type:Boolean},needSearch:{default:!0,type:Boolean}},watch:{searchData:function(t){this.searchForm=(0,l.default)({},this.searchData)}},mounted:function(){this.autoGetList&&this.getList();var t=!0,e=!1,a=void 0;try{for(var o,l=(0,i.default)(this.dialogList);!(t=(o=l.next()).done);t=!0){var n=o.value;"checkbox"!=n.type&&"cascader"!=n.type&&"numRange"!=n.type?this.formData[n.field]||this.$set(this.formData,n.field,null):"numRange"==n.type?this.formData[n.field]||this.$set(this.formData,n.field,[null,null]):this.formData[n.field]||this.$set(this.formData,n.field,[])}}catch(t){e=!0,a=t}finally{try{!t&&l.return&&l.return()}finally{if(e)throw a}}this.initData=JSON.parse((0,r.default)(this.formData))},beforeMount:function(){this.config.isPage?this.pageConfig={pageNo:1,pageSize:20,total:0,loadShow:!1}:this.pageConfig={loadShow:!1}}}},WwKk:function(t,e){},XUaq:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=a("Cs0b"),l=a("GSr8"),i=(r=l)&&r.__esModule?r:{default:r},n=a("5+zg");e.default={data:function(){var t=this;return{selectData:[],searchData:{},list:[{field:"prodNo",label:"产品信息",status:[2,3],disabled:!0,type:"select",childrens:[],filterable:!0,changeEvent:function(e,a){a.parentNo="",(0,n.getParentNo)({prodNo:e}).then(function(e){t.list[2].childrens=e})}},{field:"prodMsg",label:"产品信息",status:[1]},{field:"parentNo",label:"上级编码",status:[1,2],type:"select",childrens:[],filterable:!0,prop:{label:"cosName",value:"midProdNo"}},{field:"midProdNo",label:"半成品信息",status:[3],type:"select",childrens:[],filterable:!0},{field:"midMsg",label:"半成品信息",status:[1]},{field:"midProdNo",label:"半成品编码",status:[2]},{field:"midProdName",label:"半成品名称",status:[2]},{field:"syntheticField",label:"参数/规格/型号",status:[1]},{field:"param",label:"参数",status:[2]},{field:"norms",label:"规格",status:[2]},{field:"unit",label:"计量单位",status:[1,2]},{field:"modelDesc",label:"型号",status:[2]},{field:"amount",label:"构成数量",status:[1,2],type:"number",max:"1000000000.00"},{field:"factoryName",label:"生产场地",status:[1]},{field:"factoryId",label:"生产场地",status:[2,3],type:"select",childrens:[],filterable:!0},{field:"sourceName",label:"来源",status:[1]},{field:"source",label:"来源",status:[2],type:"select",childrens:[],filterable:!0},{field:"remark",label:"备注",status:[1,2]}],listUrl:"prodMid/pageMid",addUrl:"prodMid/addMid",delUrl:"prodMid/removeMid",editUrl:"prodMid/editMid",data:[],defaultProps:{children:"prodMidDtos",label:"cosName"},rules:{prodNo:i.default.require("string","请选择产品信息"),midProdNo:[{required:!0,message:"请输入半成品编码",trigger:"blur"},{validator:i.default.noChinese,trigger:"blur"}],amount:i.default.length1(11,"不能超过11位字符"),unit:i.default.length1(8,"不能超过8位字符"),midProdName:i.default.require("string","半成品名称不能为空"),factoryId:i.default.require("string","请选择生产场地"),source:i.default.require("string","请选择来源"),norms:i.default.require("string","规格不能为空"),param:i.default.require("string","参数不能为空"),modelDesc:i.default.require("string","型号不能为空")},currentName:"",currentProdNo:""}},methods:{select:function(t){this.selectData=t},add:function(){this.list[0].disabled=!1,this.list[2].disabled=!1,this.list[5].disabled=!1,this.list[6].disabled=!1,this.$refs.template.add()},handlerDel:function(t){this.$refs.template.del(t.id)},handlerEdit:function(){this.list[0].disabled=!0,this.list[2].disabled=!0,this.list[5].disabled=!0,this.list[6].disabled=!0,console.log(this.selectData[0]),this.$refs.template.edit(this.selectData[0])},handleNodeClick:function(t){},getTreeData:function(t){var e=this;(0,n.getTree)(this,t).then(function(t){console.log(t),e.data=t})},getListSuccess:function(t,e){this.getTreeData(t)}},components:{Template:o.Template},mounted:function(){var t=this;(0,n.getProdList)(this).then(function(e){e.length>0&&(t.list[0].childrens=e,t.currentName=e[0].label,t.currentProdNo=e[0].value,t.$set(t.searchData,"prodNo",e[0].value),t.$refs.template.getList())}),(0,n.getMidList)(this).then(function(e){t.list[3].childrens=e}),(0,n.getFactory)(this).then(function(e){e.forEach(function(t){t.value=parseInt(t.value)}),t.list[14].childrens=e}),(0,n.getSource)(this).then(function(e){t.list[16].childrens=e})}}},XsPg:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("WFxh"),o=a.n(r);for(var l in r)"default"!==l&&function(t){a.d(e,t,function(){return r[t]})}(l);var i=a("r4QK");var n=function(t){a("qTUf")},s=a("C7Lr")(o.a,i.a,!1,n,"data-v-6dec59dd",null);e.default=s.exports},Xyvi:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=a("NxGh"),l=(r=o)&&r.__esModule?r:{default:r};e.default={props:["tableConfig","tableData","col","pageConfig","fieldKey","fieldValue"],data:function(){return{pickerOptions:{disabledDate:function(t){return t.getTime()<Date.now()}}}},components:{loading:l.default},methods:{callBack:function(t,e,a){this.$emit(t,e,a)},formatter:function(t,e){if(this.tableConfig.isFormatter){var a=null;return this.$emit("formatter",t,e,function(t){a=t}),a}return e},selectable:function(t,e){return!this.tableConfig.selectable||t[this.fieldKey]!=this.fieldValue},handleSizeChange:function(t){this.tableConfig.isLoading&&(this.tableConfig.loadShow=!0),this.pageConfig.pageSize=t,this.$emit("pageChange")},handleCurrentChange:function(t){this.tableConfig.isLoading&&(this.tableConfig.loadShow=!0),this.pageConfig.pageNo=t,this.$emit("pageChange")},select:function(t){this.$emit("select",t)},rowDblclick:function(t){this.$emit("rowDblclick",t)}},watch:{tableData:function(){this.tableConfig.currentSelectArr=[]}}}},YBva:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("aTNT"),o=a.n(r);for(var l in r)"default"!==l&&function(t){a.d(e,t,function(){return r[t]})}(l);var i=a("Iy4H"),n=a("C7Lr")(o.a,i.a,!1,null,null,null);e.default=n.exports},YSNF:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(a("HzJ8")),o=s(a("a3Yh")),l=a("Cs0b"),i=s(a("rQ5q")),n=a("mDfN");function s(t){return t&&t.__esModule?t:{default:t}}e.default={props:["publicData"],data:function(){var t;return t={tableData:[],prodNo:"",isdisabled:"",btndisabled:"",isDisabl:!1,getMessList:{midMsg:"",ops:[]}},(0,o.default)(t,"tableData",[{date:"2016",name:"王小虎",address:"上海市"}]),(0,o.default)(t,"value",""),(0,o.default)(t,"toastConfig",{title:"新增",dialogVisible:!1,width:"800px",btnData:[{name:"保存",type:"primary",method:"submit"},{name:"取消",method:"cancel",bgColor:"dialog-deep-blue"}],btnStatus:[!0,!1,!0]}),t},methods:{getMidMess:function(){this.selectMsg(value,index)},selectMsg:function(t,e){var a=this,o=(e=this.publicData.options.findIndex(function(e){return e.pathNo==t}),this.publicData.options[e].prodMsg);this.publicData.prodMsg=o,(0,n.getMidMess)({prodNo:this.publicData.options[e].prodNo}).then(function(t){a.getMessList.ops=t}),(0,n.getRecordDetail)({prodNo:this.publicData.options[e].prodNo}).then(function(t){var e=!0,o=!1,l=void 0;try{for(var i,n=(0,r.default)(t);!(e=(i=n.next()).done);e=!0){var s=i.value;console.log(s,"hhhhhhhhhhhh")}}catch(t){o=!0,l=t}finally{try{!e&&n.return&&n.return()}finally{if(o)throw l}}a.tableData=t})},rowClass:function(t){t.row;var e=t.rowIndex;return console.log(e),"background:#E5E5E5"},add1:function(){this.getMessList.midMsg="",this.toastConfig.dialogVisible=!0},cancel:function(){this.toastConfig.dialogVisible=!1},submit:function(){this.toastConfig.dialogVisible=!1,this.$refs.ruleForm.submit(row)},deleteRow:function(t,e){e.splice(t,1)}},computed:{isdisabledFn:function(){return""!=this.publicData.pathNo?this.isdisabled=!1:this.isdisabled=!0}},mounted:function(){},components:{Template:l.Template,myToast:i.default}}},YTf7:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("8R9x"),o=a.n(r);for(var l in r)"default"!==l&&function(t){a.d(e,t,function(){return r[t]})}(l);var i=a("lQZO");var n=function(t){a("p7fw")},s=a("C7Lr")(o.a,i.a,!1,n,null,null);e.default=s.exports},YaEn:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=g(a("IvJb")),o=g(a("zO6J")),l=g(a("8/c5")),i=g(a("ln3n")),n=g(a("Fghc")),s=g(a("Bad9")),d=g(a("O9Rm")),c=g(a("8NCi")),u=g(a("EgT8")),f=g(a("bI0l")),m=g(a("0wQf")),p=g(a("YBva")),h=g(a("lzRY")),v=g(a("9hRU")),b=g(a("a8vh"));function g(t){return t&&t.__esModule?t:{default:t}}r.default.use(o.default),e.default=new o.default({routes:[{path:"/index",name:"index",component:l.default,children:[{path:"/equipmentModelLibrary",name:"equipmentModelLibrary",component:i.default},{path:"/processNode",name:"processNode",component:n.default},,{path:"/productClassification",name:"productClassification",component:s.default},,{path:"/product",name:"product",component:d.default},{path:"/semi-manufactures",name:"semi-manufactures",component:c.default},,{path:"/processRoute",name:"processRoute",component:u.default},,{path:"/routeReview",name:"routeReview",component:f.default},{path:"/requestChange",name:"requestChange",component:m.default},{path:"/materialClass",name:"materialClass",component:p.default},{path:"/material",name:"material",component:h.default},{path:"/constitute",name:"constitute",component:v.default},{path:"/requestChange2",name:"requestChange2",component:b.default},{path:"/routerReview",name:"routerReview",component:f.default}]}]})},Z45v:function(t,e){},ZIPS:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("YSNF"),o=a.n(r);for(var l in r)"default"!==l&&function(t){a.d(e,t,function(){return r[t]})}(l);var i=a("BhMa");var n=function(t){a("63vc")},s=a("C7Lr")(o.a,i.a,!1,n,null,null);e.default=s.exports},Zew3:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("ObQf"),o=a.n(r);for(var l in r)"default"!==l&&function(t){a.d(e,t,function(){return r[t]})}(l);var i=a("DWYO");var n=function(t){a("WwKk")},s=a("C7Lr")(o.a,i.a,!1,n,"data-v-39211794",null);e.default=s.exports},"a1/Z":function(t,e){},a8vh:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("oeNB"),o=a.n(r);for(var l in r)"default"!==l&&function(t){a.d(e,t,function(){return r[t]})}(l);var i=a("3zVo");var n=function(t){a("sLGZ")},s=a("C7Lr")(o.a,i.a,!1,n,null,null);e.default=s.exports},aGFE:function(t,e){},aHpZ:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=a("GSr8"),l=(r=o)&&r.__esModule?r:{default:r};a("Bfue");e.default={props:["publicData","selectRow","type"],data:function(){return{rules:{carfSeq:l.default.require("number","请输入工艺顺序"),crafworkId:l.default.require("number","请选择工艺名称"),macMinutes:l.default.require("number","设备单耗标准工时不能为空"),empMinutes:l.default.require("number","人员单耗标准工时不能为空"),dayAmount:l.default.require("number","每班标准产量不能为空")}}},methods:{isChecked:function(t){return console.log(t),!!this.selectRow._loaded&&(console.log(this.selectRow.children.findIndex(function(e){return e.crafworkId==t.id})),this.selectRow.children.findIndex(function(e){return e.crafworkId==t.id})>=0)},selectUnit:function(t){console.log(this.publicData);var e=this.publicData.options.findIndex(function(e){return e.id==t}),a=this.publicData.options[e].unit,r=this.publicData.options[e].crafworkName;this.publicData.form.unit=a,this.publicData.form.crafworkName=r}}}},"aIp+":function(t,e,a){"use strict";var r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search"},[a("div",{staticClass:"otherContent"},[a("div",{staticClass:"search-laber",staticStyle:{"font-size":"14px"}},[t._v("筛选条件：")]),t._v(" "),a("div",{staticClass:"search-con"},t._l(t.config,function(e,r){return a("div",{staticClass:"search-value-con clear"},t._l(e,function(e,r){return a("div",{key:r,staticClass:"search-value"},[a("span",[""==t.data[e.field]||null==t.data[e.field]?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.defaultLabel,placement:"top-start"}},[a("small",[t._v(t._s(e.label)+":"+t._s(t.defaultLabel))])]):"select"==e.type||"radio"==e.type?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.getSelectDate(t.data[e.field],e.childrens),placement:"top-start"}},[a("small",[t._v(t._s(e.label)+":"+t._s(t.getSelectDate(t.data[e.field],e.childrens)))])]):t.data[e.field].constructor==Array&&"numRange"!=e.type&&"cascader"!=e.type?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.getDate(t.data[e.field]),placement:"top-start"}},[a("small",[t._v(t._s(e.label)+":"+t._s(t.getDate(t.data[e.field])))])]):t.data[e.field].constructor==Array&&"numRange"==e.type?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.getRange(t.data[e.field]),placement:"top-start"}},[a("small",[t._v(t._s(e.label)+":"+t._s(t.getRange(t.data[e.field])))])]):t.data[e.field].constructor==Array&&"cascader"==e.type?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.getCascader(t.data[e.field],e.childrens),placement:"top-start"}},[a("small",[t._v(t._s(e.label)+":"+t._s(t.getCascader(t.data[e.field],e.childrens)))])]):(t.data[e.field].constructor,Date,a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.data[e.field],placement:"top-start"}},[a("small",[t._v(t._s(e.label)+":"+t._s(t.data[e.field]))])]))],1)])}))})),t._v(" "),a("div",{staticClass:"search-btns",staticStyle:{"font-size":"14px","line-height":"34px"}},[t.isShow?t._e():a("el-button",{attrs:{type:"info",size:"mini",icon:"el-icon-arrow-down"},on:{click:function(e){t.isShow=!t.isShow}}},[t._v("显示筛选")]),t._v(" "),t.isShow?a("el-button",{attrs:{type:"info",size:"mini",icon:"el-icon-arrow-up"},on:{click:function(e){t.isShow=!t.isShow}}},[t._v("隐藏筛选")]):t._e(),t._v(" "),a("el-button",{attrs:{type:"info",size:"mini",icon:"el-icon-close"},on:{click:t.init}},[t._v("清空筛选")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:t.search}},[t._v("查询")])],1)]),t._v(" "),a("transition",{attrs:{name:"el-zoom-in-top"}},[t.isShow?a("div",{staticClass:"content"},t._l(t.config,function(e){return a("el-form",{ref:"form",refInFor:!0,staticStyle:{overflow:"hidden"},attrs:{model:t.data,"label-width":"110px"}},t._l(e,function(e,r){return a("el-col",{attrs:{span:6}},[a("el-form-item",{staticStyle:{height:"46px"},attrs:{label:e.label,size:"mini"}},["radioButton"==e.type?a("el-radio-group",{staticStyle:{width:"100%"},on:{change:function(a){t.handler(e.method,t.data[e.field])}},model:{value:t.data[e.field],callback:function(a){t.$set(t.data,e.field,a)},expression:"data[item.field]"}},t._l(e.childrens,function(e){return a("el-radio-button",{key:e.value,attrs:{label:e.value}},[t._v(t._s(e.label))])})):t._e(),t._v(" "),"input"==e.type?a("el-input",{staticStyle:{width:"100%"},attrs:{disabled:e.disabled},model:{value:t.data[e.field],callback:function(a){t.$set(t.data,e.field,a)},expression:"data[item.field]"}}):t._e(),t._v(" "),"searchInput"==e.type?a("el-autocomplete",{staticStyle:{width:"100%"},attrs:{disabled:e.disabled,"fetch-suggestions":e.searchMethod},on:{select:t.handleSelect},model:{value:t.data[e.field],callback:function(a){t.$set(t.data,e.field,a)},expression:"data[item.field]"}}):t._e(),t._v(" "),"year"==e.type?a("el-date-picker",{staticStyle:{width:"100%"},attrs:{disabled:e.disabled,type:e.type,"value-format":"yyyy"},model:{value:t.data[e.field],callback:function(a){t.$set(t.data,e.field,a)},expression:"data[item.field]"}}):t._e(),t._v(" "),"month"==e.type?a("el-date-picker",{staticStyle:{width:"100%"},attrs:{disabled:e.disabled,type:e.type,"value-format":"yyyy-MM"},model:{value:t.data[e.field],callback:function(a){t.$set(t.data,e.field,a)},expression:"data[item.field]"}}):t._e(),t._v(" "),"daterange"==e.type||"date"==e.type?a("el-date-picker",{staticStyle:{width:"100%"},attrs:{disabled:e.disabled,type:e.type,"value-format":"yyyy-MM-dd"},model:{value:t.data[e.field],callback:function(a){t.$set(t.data,e.field,a)},expression:"data[item.field]"}}):t._e(),t._v(" "),"datetimerange"==e.type||"datetime"==e.type?a("el-date-picker",{staticStyle:{width:"100%"},attrs:{disabled:e.disabled,type:e.type,"value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:t.data[e.field],callback:function(a){t.$set(t.data,e.field,a)},expression:"data[item.field]"}}):t._e(),t._v(" "),"radio"==e.type?a("el-radio-group",{staticStyle:{width:"100%"},attrs:{disabled:e.disabled},model:{value:t.data[e.field],callback:function(a){t.$set(t.data,e.field,a)},expression:"data[item.field]"}},t._l(e.childrens,function(e){return a("el-radio",{style:{color:e.color},attrs:{border:"",label:e.value}},[t._v(t._s(e.label))])})):t._e(),t._v(" "),"checkbox"==e.type?a("el-checkbox-group",{staticStyle:{width:"100%"},attrs:{max:e.max,disabled:e.disabled},model:{value:t.data[e.field],callback:function(a){t.$set(t.data,e.field,a)},expression:"data[item.field]"}},t._l(e.childrens,function(e){return a("el-checkbox",{key:e.value,style:{color:e.color},attrs:{border:"",label:e.value}},[t._v(t._s(e.label))])})):t._e(),t._v(" "),"number"==e.type?a("el-input-number",{staticStyle:{width:"100%"},attrs:{disabled:e.disabled,min:e.min,max:e.max,controls:e.isControls,"controls-position":e.controlPos},model:{value:t.data[e.field],callback:function(a){t.$set(t.data,e.field,a)},expression:"data[item.field]"}}):t._e(),t._v(" "),"select"==e.type?a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:e.disabled,clearable:void 0==e.clearable||1==e.clearable,filterable:e.filterable},on:{change:function(a){t.handler(e.method,t.data[e.field])}},model:{value:t.data[e.field],callback:function(a){t.$set(t.data,e.field,a)},expression:"data[item.field]"}},t._l(e.childrens,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})):t._e(),t._v(" "),"cascader"==e.type?a("el-cascader",{staticStyle:{width:"100%"},attrs:{disabled:e.disabled,clearable:"","change-on-select":"",options:e.childrens,props:{label:"label"}},model:{value:t.data[e.field],callback:function(a){t.$set(t.data,e.field,a)},expression:"data[item.field]"}}):t._e(),t._v(" "),"numRange"==e.type?a("numRange",{staticStyle:{width:"100%"},model:{value:t.data[e.field],callback:function(a){t.$set(t.data,e.field,a)},expression:"data[item.field]"}}):t._e()],1)],1)}))})):t._e()])],1)},staticRenderFns:[]};e.a=r},aTNT:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=a("Cs0b"),l=a("GSr8"),i=(r=l)&&r.__esModule?r:{default:r};e.default={data:function(){return{list:[{field:"typeNo",label:"分类编码",status:[1,2]},{field:"typeName",label:"分类名称",status:[1,2,3]},{field:"remark",label:"备注",status:[1,2]}],listUrl:"matters/select",addUrl:"matters/insert",delUrl:"matters/deleted",editUrl:"matters/update",rules:{typeNo:i.default.require("string","分类编码不能为空"),typeName:i.default.require("string","分类名称不能为空")}}},methods:{add:function(){this.list[0].disabled=!1,this.rules.typeNo=i.default.require("string","分类编码不能为空"),this.$refs.template.add()},handlerDel:function(t){this.$refs.template.del(t.id)},handlerEdit:function(t){this.list[0].disabled=!0,delete this.rules.typeNo,this.$refs.template.edit(t)}},components:{Template:o.Template}}},bI0l:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("lLys"),o=a.n(r);for(var l in r)"default"!==l&&function(t){a.d(e,t,function(){return r[t]})}(l);var i=a("kVss");var n=function(t){a("4HDG")},s=a("C7Lr")(o.a,i.a,!1,n,"data-v-1d817465",null);e.default=s.exports},bvY0:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("Hc0G"),o=a.n(r);for(var l in r)"default"!==l&&function(t){a.d(e,t,function(){return r[t]})}(l);var i=a("vM/X");var n=function(t){a("BYVF")},s=a("C7Lr")(o.a,i.a,!1,n,null,null);e.default=s.exports},by8a:function(t,e,a){"use strict";var r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"semi-manu"},[a("Template",{ref:"template",attrs:{tableClass:"right-table",rules:t.rules,list:t.list,listUrl:t.listUrl,addUrl:t.addUrl,delUrl:t.delUrl,editUrl:t.editUrl,searchData:t.searchData,autoGetList:!1,config:{isOperate:!0,isSelection:!0,isOrder:!1,isPage:!0,dataFromSever:!1,type:"big",searchType:2},defaultBtn:[!1,!1,!0],needSearch:!0},on:{getListSuccess:t.getListSuccess,select:t.select}},[a("el-button",{attrs:{slot:"l_rSlot",type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:t.add},slot:"l_rSlot"},[t._v("新增")]),t._v(" "),a("el-button",{attrs:{slot:"l_rSlot",size:"mini",icon:"el-icon-edit",disabled:1!=t.selectData.length},on:{click:t.handlerEdit},slot:"l_rSlot"},[t._v("编辑")]),t._v(" "),a("div",{staticClass:"tree-box no-scroll",attrs:{slot:"other"},slot:"other"},[a("el-tree",{attrs:{"default-expand-all":!0,data:t.data,props:t.defaultProps},on:{"node-click":t.handleNodeClick}})],1)],1)],1)},staticRenderFns:[]};e.a=r},cJu5:function(t,e){},deDj:function(t,e,a){"use strict";var r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"myToast"},[a("el-form",{ref:"ruleForm1",staticStyle:{"margin-top":"10px"},attrs:{size:"small","label-position":"right","label-width":"150px",model:t.publicData.form,rules:t.rules}},["编辑"==t.type?a("el-form-item",{attrs:{label:"工艺名称:",prop:"crafworkName"}},[a("span",[t._v(t._s(t.publicData.form.crafworkName))])]):a("el-form-item",{attrs:{label:"工艺名称:",prop:"crafworkId"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},on:{change:t.selectUnit},model:{value:t.publicData.form.crafworkId,callback:function(e){t.$set(t.publicData.form,"crafworkId",e)},expression:"publicData.form.crafworkId"}},t._l(t.publicData.options,function(e,r){return a("el-option",{key:r,attrs:{label:e.crafworkName,value:e.id,disabled:t.isChecked(e)}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"工艺顺序:",prop:"carfSeq"}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{min:0,placeholder:"请输入内容",controls:!1},model:{value:t.publicData.form.carfSeq,callback:function(e){t.$set(t.publicData.form,"carfSeq",e)},expression:"publicData.form.carfSeq"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"设备单耗标准工时:",prop:"macMinutes"}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{min:0,placeholder:"请输入内容",controls:!1},model:{value:t.publicData.form.macMinutes,callback:function(e){t.$set(t.publicData.form,"macMinutes",e)},expression:"publicData.form.macMinutes"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"人员单耗标准工时:",prop:"empMinutes"}},[a("el-input-number",{attrs:{min:0,placeholder:"请输入内容",controls:!1},model:{value:t.publicData.form.empMinutes,callback:function(e){t.$set(t.publicData.form,"empMinutes",e)},expression:"publicData.form.empMinutes"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"每班标准产量:",prop:"dayAmount"}},[a("el-input-number",{attrs:{min:0,precision:2,step:.1,placeholder:"请输入内容",controls:!1},model:{value:t.publicData.form.dayAmount,callback:function(e){t.$set(t.publicData.form,"dayAmount",e)},expression:"publicData.form.dayAmount"}})],1)],1)],1)},staticRenderFns:[]};e.a=r},"eO/J":function(t,e,a){"use strict";var r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"poc-home"},[a("div",{staticClass:"poc-header clearfix"},[a("div",{staticClass:"poc-home-logo left"},[a("img",{staticClass:"left  bg-logo",staticStyle:{height:"40px",width:"40px"},attrs:{src:t.getCompanyLogo}}),t._v(" "),a("div",{staticClass:"poc-home-logo-r left"},[a("h1",{staticClass:"poc-home-title",attrs:{title:t.getCompanyName}},[t._v(t._s(t.getCompanyName))]),t._v(" "),a("p",{staticClass:"poc-home-mtitle",attrs:{title:t.getCompanyEnglish}},[t._v(t._s(t.getCompanyEnglish))])])]),t._v(" "),t._l(t.pocHeaderData,function(e,r){return a("div",{staticClass:"poc-home-navL left",class:{active:t.isActive===e.title},on:{click:function(a){t.headerBack(e,r)}}},[t._v("\n              "+t._s(e.title)+"\n        ")])}),t._v(" "),a("div",{staticClass:"poc-home-navR right"},[a("img",{attrs:{src:t.getUserImg,height:"30"}}),t._v(" "),a("span",[t._v(t._s(t.getUserName))])])],2)])},staticRenderFns:[]};e.a=r},eTLF:function(t,e,a){"use strict";var r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tableGroup"},[a("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:t.firstSave?"工艺输入物料/半成品":"* 工艺输入物料/半成品",name:"first"}},[a("div",{staticClass:"toolbar"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"small"},on:{click:t.addMateriel}},[t._v("新增")]),t._v(" "),a("el-button",{attrs:{icon:"el-icon-delete",size:"small",disabled:0==t.selectMatters.length},on:{click:t.deleteMateriel}},[t._v("删除")])],1),t._v(" "),a("div",{staticClass:"myTable",staticStyle:{"padding-top":"20px"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.data1},on:{select:t.selectMatter}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"半成品信息",width:"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{attrs:{placeholder:"请选择半成品编码",size:"small",clearable:""},on:{change:function(a){t.handlerModeProdNoChange(e.row)}},model:{value:e.row.inProdNo,callback:function(a){t.$set(e.row,"inProdNo",a)},expression:"scope.row.inProdNo"}},t._l(t.prodDropDownList,function(t){return a("el-option",{key:t.midProdNo,attrs:{label:t.midMsg,value:t.midProdNo}})}))]}}])}),t._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",width:"150px",label:"物料信息"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{attrs:{placeholder:"请选择物料信息",size:"small"},on:{change:function(a){t.handlerMattersNoChange(e.row)}},model:{value:e.row.materNo,callback:function(a){t.$set(e.row,"materNo",a)},expression:"scope.row.materNo"}},t._l(e.row.matterDropDownList,function(t){return a("el-option",{key:t.mattersNo,attrs:{label:t.matterMsg,value:t.mattersNo}})}))]}}])}),t._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"物料分类",prop:"typeName"}}),t._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"规格/参数/型号",width:"120px",prop:"syntheticField"}}),t._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"单位",prop:"unit"}}),t._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"输入数量",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input-number",{staticStyle:{width:"100%"},attrs:{controls:!1,size:"smal"},on:{change:function(e){t.saveChange("firstSave")}},model:{value:e.row.inputAmt,callback:function(a){t.$set(e.row,"inputAmt",a)},expression:"scope.row.inputAmt"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"version",label:"版本号"}}),t._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"status",label:"状态"}})],1)],1),t._v(" "),a("div",{staticClass:"footer"},[a("el-button",{attrs:{type:"primary",disabled:t.firstSave},on:{click:t.submitMatters}},[t._v("保存")]),t._v(" "),a("el-button",{on:{click:t.cancel}},[t._v("关闭")])],1)]),t._v(" "),a("el-tab-pane",{attrs:{label:t.secondSave?"工艺设备":"* 工艺设备",name:"second"}},[a("div",{staticClass:"toolbar"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"small"},on:{click:t.addCarftWork}},[t._v("新增")]),t._v(" "),a("el-button",{attrs:{icon:"el-icon-delete",size:"small",disabled:0==t.selectCarftWorks.length},on:{click:t.deleteCarftWork}},[t._v("删除")])],1),t._v(" "),a("div",{staticClass:"myTable",staticStyle:{"padding-top":"20px"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{model:t.macForm,data:t.carftWorkList},on:{select:t.selectCarftWork}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"设备信息"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{attrs:{placeholder:"",size:"small"},on:{change:function(a){t.saveChange1(e.row.macNo,e.row)}},model:{value:e.row.macNo,callback:function(a){t.$set(e.row,"macNo",a)},expression:"scope.row.macNo"}},t._l(t.macList,function(t){return a("el-option",{key:t.macNo,attrs:{label:t.macMsg,value:t.macNo}})}))]}}])}),t._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"macType",label:"设备分类"}}),t._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"所属部门",prop:"orgName"}}),t._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"规格/参数/型号",width:"120px",prop:"spec"}}),t._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"状态",prop:"macStatus"}}),t._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"单位加工时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input-number",{staticStyle:{width:"100%"},attrs:{size:"small",controls:!1},on:{change:function(e){t.saveChange("secondSave")}},model:{value:e.row.periodTime,callback:function(a){t.$set(e.row,"periodTime",a)},expression:"scope.row.periodTime"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"前置时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input-number",{staticStyle:{width:"100%"},attrs:{size:"small",controls:!1},on:{change:function(e){t.saveChange("secondSave")}},model:{value:e.row.beforeTime,callback:function(a){t.$set(e.row,"beforeTime",a)},expression:"scope.row.beforeTime"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"后置时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input-number",{staticStyle:{width:"100%"},attrs:{size:"small",controls:!1},on:{change:function(e){t.saveChange("secondSave")}},model:{value:e.row.behindTime,callback:function(a){t.$set(e.row,"behindTime",a)},expression:"scope.row.behindTime"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"设备班制"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{attrs:{placeholder:"",size:"small"},model:{value:e.row.totalName,callback:function(a){t.$set(e.row,"totalName",a)},expression:"scope.row.totalName"}},t._l(t.RunTotalList,function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})}))]}}])})],1)],1),t._v(" "),a("div",{staticClass:"footer"},[a("el-button",{attrs:{type:"primary",disabled:t.secondSave},on:{click:t.submitCarftWork}},[t._v("保存")]),t._v(" "),a("el-button",{on:{click:t.cancel}},[t._v("关闭")])],1)]),t._v(" "),a("el-tab-pane",{attrs:{label:t.thirdSave?"工艺输出半成品":"* 工艺输出半成品",name:"third"}},[a("div",{staticClass:"myTable",staticStyle:{"padding-top":"20px","text-align":"center"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.semiList}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"产品信息",prop:"prodMsg",width:"200px"}}),t._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"半成品信息",prop:"midProdMsg",width:"200px"}}),t._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"规格/参数/型号",width:"200px",prop:"syntheticField"}}),t._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"计量单位",prop:"unit"}}),t._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"输出数量"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input-number",{staticStyle:{width:"100%"},attrs:{size:"small",controls:!1},on:{change:function(e){t.saveChange("thirdSave")}},model:{value:e.row.outputAmt,callback:function(a){t.$set(e.row,"outputAmt",a)},expression:"scope.row.outputAmt"}})]}}])})],1)],1),t._v(" "),a("div",{staticClass:"footer"},[a("el-button",{attrs:{type:"primary",disabled:t.thirdSave},on:{click:t.submitSemi}},[t._v("保存")]),t._v(" "),a("el-button",{on:{click:t.cancel}},[t._v("关闭")])],1)]),t._v(" "),a("el-tab-pane",{attrs:{label:t.fourthSave?"工艺资料（文件、图纸）":"* 工艺资料（文件、图纸）",name:"fourth"}},[a("div",{staticClass:"toolbar"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-upload",size:"small"},on:{click:t.upload}},[t._v("上传")]),t._v(" "),a("el-button",{attrs:{icon:"el-icon-edit",size:"small",disabled:1!=t.fileSelcts.length},on:{click:t.editUpload}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{icon:"el-icon-delete",size:"small",disabled:t.fileSelcts.length<1},on:{click:t.delUpload}},[t._v("删除")])],1),t._v(" "),a("div",{staticClass:"myTable",staticStyle:{"padding-top":"20px"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.fileList},on:{select:t.fileSelct}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"资源名称",prop:"resName",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"工程文件",prop:"fileName",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"资源路径"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.downLoad(e.row.resPath)}}},[t._v(t._s(e.row.resPath))])]}}])}),t._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"设计图稿",align:"center",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.see(e.row.images)}}},[t._v("预览")])]}}])})],1)],1),t._v(" "),a("div",{staticClass:"footer"},[a("el-button",{on:{click:t.cancel}},[t._v("关闭")])],1)])],1),t._v(" "),t.toastConfig.dialogVisible?a("toast",{staticClass:"upload-box",attrs:{config:t.toastConfig,width:"570px"},on:{handleClose:function(e){t.toastConfig.dialogVisible=!1,t.$refs.ruleForm.clearValidate()},sure:t.sure,sureAndContinue:t.sureAndContinue,cancel:function(e){t.toastConfig.dialogVisible=!1}}},[a("el-form",{ref:"ruleForm",attrs:{model:t.formData,size:"small","label-position":"right","label-width":"140px",rules:t.rules}},[a("el-form-item",{attrs:{label:"资源名称",prop:"resName"}},[a("el-input",{model:{value:t.formData.resName,callback:function(e){t.$set(t.formData,"resName",e)},expression:"formData.resName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"工程文件",prop:"resPath"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:t.uploadUrl,limit:1,"file-list":t.file1,"on-success":t.fileUploadSuuccess,"on-remove":t.fileRomove}},[a("el-button",{attrs:{size:"small",icon:"el-icon-upload2"}},[t._v("点击上传")]),t._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("支持扩展名：.rar  .zip  .doc  .docx  .pdf  ...")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"设计图稿",prop:"images"}},[a("el-upload",{attrs:{action:t.uploadUrl,"on-success":t.imgUploadSuuccess,"before-upload":t.beforeAvatarUpload,"on-remove":t.imgRomove,"file-list":t.file2,"list-type":"picture-card"}},[a("i",{staticClass:"el-icon-plus"})])],1)],1)],1):t._e(),t._v(" "),t.seeConfig.dialogVisible?a("toast",{staticClass:"upload-box",attrs:{config:t.seeConfig,width:"500px",isForm:!1},on:{cancel:function(e){t.seeConfig.dialogVisible=!1}}},[a("div",{staticStyle:{width:"90%",margin:"0 auto"}},[a("el-carousel",{attrs:{"indicator-position":"outside",autoplay:!1}},t._l(t.imgList,function(e){return a("el-carousel-item",{key:e},[a("div",{staticStyle:{width:"100%",height:"100%",position:"relative"}},[a("img",{class:t.ratio(e),staticStyle:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%,-50%)"},attrs:{src:e}})])])}))],1)]):t._e()],1)},staticRenderFns:[]};e.a=r},ej75:function(t,e){},fT0W:function(t,e,a){"use strict";var r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"myTable"},[a("el-table",{attrs:{data:t.data,border:"","row-style":t.showTr}},[t._l(t.columns,function(e,r){return a("el-table-column",{key:e.dataIndex,attrs:{align:e.align?e.align:"left",width:e.width,"show-overflow-tooltip":"",label:e.text},scopedSlots:t._u([{key:"default",fn:function(o){return[t._l(o.row._level,function(e,o){return t.spaceIconShow(r)?a("span",{staticClass:"ms-tree-space"}):t._e()}),t._v(" "),o.row.leaf||r!=t.expandIndex?r===t.expandIndex?a("span",{staticClass:"ms-tree-space"}):t._e():a("span",{staticClass:"button is-outlined is-primary is-small",on:{click:function(e){t.toggle(o.$index)}}},[o.row._loading?a("i",{staticClass:"el-icon-loading",attrs:{"aria-hidden":"true"}}):o.row._expanded?a("i",{staticClass:"el-icon-caret-bottom",attrs:{"aria-hidden":"true"}}):a("i",{staticClass:"el-icon-caret-right",attrs:{"aria-hidden":"true"}})]),t._v(" "),t.isShow(o.row,e)&&"number"==e.type?a("el-input-number",{staticStyle:{width:"100%"},attrs:{min:0,size:"mini",controls:!1},on:{change:function(a){t.handler(e.method,e,o.row)}},model:{value:o.row[e.dataIndex],callback:function(a){t.$set(o.row,e.dataIndex,a)},expression:"scope.row[column.dataIndex]"}}):t._e(),t._v(" "),!t.isShow(o.row,e)||"text"!=e.type&&"undefined"!=e.type?t._e():a("span",[t._v(t._s(o.row[e.dataIndex]))])]}}])})}),t._v(" "),t.treeType?a("el-table-column",{attrs:{label:"操作",width:"160",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._t("default",null,{row:e.row,index:e.$index})]}}])}):t._e()],2)],1)},staticRenderFns:[]};e.a=r},fqlY:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=a("Cs0b"),l=a("GSr8"),i=(r=l)&&r.__esModule?r:{default:r};e.default={data:function(){return{list:[{field:"typeDesc",label:"分类名称",status:[1,2,3]}],listUrl:"/prodType/pg",addUrl:"/prodType/add",delUrl:"/prodType/del",editUrl:"/prodType/upd",rules:{typeDesc:i.default.require("string","分类名称")}}},methods:{add:function(){this.list[0].disabled=!1,this.rules.typeNo=i.default.require("string","分类名称"),this.$refs.template.add()},handlerDel:function(t){this.$refs.template.del(t.id)},handlerEdit:function(t){this.list[0].disabled=!0,delete this.this.rules.typeNo,this.$refs.template.edit(t)}},components:{Template:o.Template}}},fuuz:function(t,e,a){"use strict";var r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"prodNode"},[a("Template",{ref:"template",attrs:{list:t.list,listUrl:t.listUrl,addUrl:t.addUrl,delUrl:t.delUrl,editUrl:t.editUrl,config:{isOperate:!0,isSelection:!0,isOrder:!1,isPage:!0,type:"mini",dataFromSever:!1},needSearch:!0,rules:t.rules},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.set(e.row.id)}}},[t._v("参数设置")])]}}])}),t._v(" "),a("toast",{attrs:{config:t.toastConfig,width:"440px"},on:{submit:t.submit,cancel:function(e){t.toastConfig.dialogVisible=!1,t.$refs.ruleForm.clearValidate()},handleClose:function(e){t.toastConfig.dialogVisible=!1,t.$refs.ruleForm.clearValidate()}}},[a("el-form",{ref:"ruleForm",attrs:{model:t.formData}},[a("el-form-item",{attrs:{label:"工艺参数名","label-width":"120px",size:"mini"}},[a("div",{staticClass:"list-group"},t._l(t.formData.list,function(e,r){return a("div",{staticClass:"list-item"},[a("div",{staticClass:"list-input"},[a("el-input",{model:{value:e.param,callback:function(a){t.$set(e,"param",a)},expression:"item.param"}})],1),t._v(" "),a("div",{staticClass:"list-btn-group"},[a("el-button",{attrs:{type:"text",icon:"el-icon-plus",disabled:""==e.param},on:{click:function(e){t.add(r)}}}),t._v(" "),a("el-button",{attrs:{type:"text",icon:"el-icon-delete",disabled:1==t.formData.list.length},on:{click:function(e){t.formData.list.splice(r,1)}}})],1)])}))])],1)],1)],1)},staticRenderFns:[]};e.a=r},gUC8:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["publicData"],data:function(){return{value:""}},methods:{sizeChange:function(){this.getData()},pageChange:function(){this.getData()},getData:function(){var t=this,e={pageNo:this.tableConfig.pageNo,pageSize:this.tableConfig.pageSize,type:this.typeName,macNo:this.macNo};selectMacMSg({Vue:this,params:e}).then(function(e){t.tableData=e.model.items,t.tableConfig.total=e.model.numRows,t.tableConfig.loadShow=!1})}}}},gqb3:function(t,e){},hNqL:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("Fx3k"),o=a.n(r);for(var l in r)"default"!==l&&function(t){a.d(e,t,function(){return r[t]})}(l);var i=a("Be8m");var n=function(t){a("/6E7")},s=a("C7Lr")(o.a,i.a,!1,n,null,null);e.default=s.exports},hSXF:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=c(a("aA9S")),o=c(a("hRKE")),l=c(a("HzJ8")),i=c(a("3cXf")),n=c(a("a3Yh")),s=a("vjT+"),d=a("mFIW");function c(t){return t&&t.__esModule?t:{default:t}}e.default={data:function(){var t;return t={dots:[],res:"",prodNo:"",operateType:"",voucherNo:"",bomStatus:"",leaf:""},(0,n.default)(t,"bomStatus",""),(0,n.default)(t,"mattersName",""),(0,n.default)(t,"mattersNo",""),(0,n.default)(t,"versions",""),(0,n.default)(t,"bomNo",""),(0,n.default)(t,"currentNode",{level:-1}),(0,n.default)(t,"changeToastConfig",{title:"修改产品BOM",width:"1000px",dialogVisible:!1,btnData:[{type:"primary",method:"changeSubmit",name:"保存"},{type:"primary",method:"changeCancel",name:"取消"}],btnStatus:[!0,!0,!0]}),(0,n.default)(t,"solution",!1),(0,n.default)(t,"selectData",[]),(0,n.default)(t,"currentRow",null),(0,n.default)(t,"backupMatterList",[]),(0,n.default)(t,"message",{}),(0,n.default)(t,"message1",{}),(0,n.default)(t,"materCode",""),(0,n.default)(t,"materName",""),(0,n.default)(t,"type",""),(0,n.default)(t,"rootNode",null),(0,n.default)(t,"searchConfig",[[{field:"bomCode",label:"BOM编号",type:"input"},{field:"productName",label:"产品信息",type:"input"}]]),(0,n.default)(t,"searchData",{productName:""}),(0,n.default)(t,"columns",[{text:"产品/半成品信息",dataIndex:"midProdName",type:"text",align:"left",width:200},{text:"物料编码/名称",type:"text",dataIndex:"mattersInfo"},{text:"规格/参数/型号",type:"text",dataIndex:"allInfo",width:120},{text:"物料版本号",type:"text",dataIndex:"versions"},{text:"用量",dataIndex:"amount",type:"number"},{text:"单位",type:"text",dataIndex:"unit"},{text:"物料要求",type:"text",dataIndex:"plmDesc"}]),(0,n.default)(t,"columns2",[{text:"产品/半成品信息",dataIndex:"midProdName",type:"text",align:"left",width:200},{text:"物料编码/名称",type:"text",dataIndex:"mattersInfo"},{text:"规格/参数/型号",type:"text",dataIndex:"allInfo",width:120},{text:"物料版本号",type:"text",dataIndex:"versions"},{text:"用量",dataIndex:"amount",type:"number"},{text:"单位",type:"text",dataIndex:"unit"},{text:"物料要求",type:"text",dataIndex:"plmDesc"}]),(0,n.default)(t,"dataSource",[]),(0,n.default)(t,"dataSource2",[]),(0,n.default)(t,"addToastConfig",{title:"添加物料",dialogVisible:!1,btnData:[{type:"primary",method:"sure",name:"保存"},{type:"",method:"cancel",name:"取消"}],btnStatus:[!0,!0,!0]}),(0,n.default)(t,"loading",!1),(0,n.default)(t,"list",[]),(0,n.default)(t,"materielMsg",{code:""}),(0,n.default)(t,"editToastConfig",{title:"编辑",dialogVisible:!1,btnData:[{type:"primary",method:"sure",name:"保存"},{type:"",method:"cancel",name:"取消"}],btnStatus:[!0,!0,!0]}),(0,n.default)(t,"formData",{allInfo:"",amount:"",backMattersInfo:"",deleted:"",id:-1,mattersInfo:"",unit:"",plmDesc:"",backupMatter:""}),(0,n.default)(t,"tableData",[]),t},components:{productTreeGrid:d.productTreeGrid},methods:{backupMatterChange:function(t){var e=this.backupMatterList.findIndex(function(e){return e.mattersNo==t});this.$set(this.formData,"backMattersInfo",this.backupMatterList[e].mattersName)},changeBom:function(){var t=this;this.dots=[],this.changeToastConfig.dialogVisible=!0,(0,s.beforeUpdateProductBom)({prodNo:this.prodNo,versions:this.versions,bomNo:this.bomNo,bomStatus:this.bomStatus,leaf:this.leaf,makeEmp:this.makeEmp,mattersName:this.mattersName,mattersNo:this.mattersNo}).then(function(e){t.message1={productName:e.productName,bomStatus:e.bomStatus,versions:e.versions,makeDate:e.makeDate,makeEmp:e.makeEmp,voucherStatus:e.voucherStatus,bomNo:e.bomNo};var a=JSON.parse((0,i.default)(t.currentNode.data));a._expanded=!0,a._loaded=!0,e.mattersStoreDtos.forEach(function(t){t.leaf=!0}),a.children=e.mattersStoreDtos.concat(e.productMidPlms),console.log(a,"child"),t.dataSource2=[a],console.log(t.dataSource2,"this.dataSource2")})},changeSubmit:function(){var t=this;this.dots=[],this.getDtos(this.dataSource2[0],this.dots);var e={bomNo:this.message1.bomNo,bomStatus:this.message1.bomStatus,versions:this.message1.versions,prodBomPlmDtos:this.dots};console.log(e),(0,s.upCommonBom)({prodBomPlmDto:e}).then(function(e){t.changeToastConfig.dialogVisible=!1,t.searchList(),t.$message.success("保存成功")})},getDtos:function(t,e){if(console.log(t),!t.leaf)if(t.children&&t.children.length>0){var a=[],r=!0,o=!1,i=void 0;try{for(var n,s=(0,l.default)(t.children);!(r=(n=s.next()).done);r=!0){var d=n.value;d.leaf&&a.push({amount:d.amount,backMattersInfo:d.backMattersInfo,backUpMatterNo:d.backUpMatterNo,isMidprod:d.isMidprod,leaf:d.leaf,mattersNo:d.mattersNo,plmDesc:d.plmDesc,serial:d.serial,unit:d.unit,prodMes:d.prodMes,versions:d.versions})}}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}e.push({mattersNo:t.prodNo?t.prodNo:t.midProdNo,mattersStoreDtos:a});var c=!0,u=!1,f=void 0;try{for(var m,p=(0,l.default)(t.children);!(c=(m=p.next()).done);c=!0){var h=m.value;if(!h.leaf){if(h.children&&h.children.length>0)return this.getDtos(h,e);e.push({mattersNo:h.prodNo?h.prodNo:h.midProdNo,mattersStoreDtos:[]})}}}catch(t){u=!0,f=t}finally{try{!c&&p.return&&p.return()}finally{if(u)throw f}}}else e.push({mattersNo:val.prodNo?val.prodNo:val.midProdNo,mattersStoreDtos:[]})},changeCancel:function(){this.changeToastConfig.dialogVisible=!1},colShow:function(t,e){return"amount"!=e.dataIndex||!t.prodNo},approve:function(){var t=this;(0,s.commit2Approve)({bomCode:this.message.bomNo}).then(function(e){t.$message.success("审核已提交")})},handleDelete:function(){var t=this,e=function(e){s=t.tableData.findIndex(function(t){return t===e}),t.tableData.splice(s,1)},a=!0,r=!1,o=void 0;try{for(var i,n=(0,l.default)(this.selectData);!(a=(i=n.next()).done);a=!0){var s;e(i.value)}}catch(t){r=!0,o=t}finally{try{!a&&n.return&&n.return()}finally{if(r)throw o}}this.selectData=[]},select:function(t){this.selectData=t},gridLoad:function(t,e){console.log(t,"zwjsjsjsk"),(0,s.findBomByPnoOrMpno)({mpno:t.midProdNo}).then(function(t){t.mattersStoreDtos.forEach(function(t){t.leaf=!0});var a=t.mattersStoreDtos.concat(t.productMidPlms);e(a)})},materielChange:function(t){this.tableData.push(JSON.parse(t)),this.list=[],this.materielMsg.code=""},addMater:function(t,e){this.operateType=e,this.currentRow=t,this.addToastConfig.dialogVisible=!0,this.materielMsg={code:""}},editMater:function(t,e){this.operateType=e,this.currentRow=t,this.formData={allInfo:t.allInfo,amount:t.amount,backMattersInfo:t.backMattersInfo,deleted:t.backMattersInfo,id:t.id,mattersInfo:t.mattersInfo,unit:t.unit,plmDesc:t.plmDesc,backupMatter:t.backUpMatterNo},this.editToastConfig.dialogVisible=!0},delMater:function(t){var e=this;this.currentRow=t,this.$confirm("此操作将永久删除该物料, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){(0,s.deleteMatters)({ids:t.id}).then(function(a){e.$refs.treeGrid.removeChild(t),e.$message({type:"success",message:"删除成功!"})})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},delMater2:function(t){this.$refs.treeGrid2.removeChild(t)},statusChange:function(t){var e=this;(0,s.startOrStopBom)({bomCode:this.message.bomNo}).then(function(t){e.$message.success("操作成功")})},handlerSearch:function(){var t=this;this.rootNode.childNodes=[],(0,s.getRootNode)(this.searchData).then(function(e){e.midProdName=e.prodName,t.rootNode.insertChild({data:e})})},remoteMethod:function(t){var e=this;console.log(t,"query"),(0,s.SearchBeforeAddMatters)({codeOrName:t,parentNo:this.currentNode.data.midProdNo?this.currentNode.data.midProdNo:this.currentNode.data.prodNo}).then(function(t){e.list=t})},addSure:function(){var t=this,e=function(e){if(!e.mattersNo||!e.amount||!e.backupMatter)return{v:t.$message.error("请填写完表格后再来提交")};e.backUpMatterNo=e.backupMatter,t.$set(e,"backMattersInfo",t.backupMatterList[t.backupMatterList.findIndex(function(t){return t.mattersNo==e.backupMatter})].mattersName),e.parentNo=t.mattersNo,e.leaf=!0,t.$refs.treeGrid.insertChild(t.currentRow,e),t.tableData=[],t.selectData=[],t.addToastConfig.dialogVisible=!1},a=!0,r=!1,i=void 0;try{for(var n,s=(0,l.default)(this.tableData);!(a=(n=s.next()).done);a=!0){var d=e(n.value);if("object"===(void 0===d?"undefined":(0,o.default)(d)))return d.v}}catch(t){r=!0,i=t}finally{try{!a&&s.return&&s.return()}finally{if(r)throw i}}},addCancel:function(){this.addToastConfig.dialogVisible=!1,"table2"==this.operateType&&(this.changeToastConfig.dialogVisible=!0),this.tableData=[],this.selectData=[]},editSure:function(){var t=this;this.$refs.materielForm.validate(function(e){if(!e)return console.log("error submit!!"),!1;if("table2"==t.operateType){var a={id:t.formData.id,mattersNo:t.formData.mattersNo,amount:t.formData.amount,plmDesc:t.formData.plmDesc,backupMatter:t.formData.backupMatter};t.editToastConfig.dialogVisible=!1,t.formData.backUpMatterNo=t.formData.backupMatter,t.$refs.treeGrid.updateNode(t.currentRow,t.formData),t.editToastConfig.dialogVisible=!1}else{a={id:t.formData.id,mattersNo:t.formData.mattersNo,amount:t.formData.amount,plmDesc:t.formData.plmDesc,backupMatter:t.formData.backupMatter};(0,s.updateMatter)(a).then(function(e){t.editToastConfig.dialogVisible=!1,t.formData.backUpMatterNo=t.formData.backupMatter;var a=t.backupMatterList.findIndex(function(e){return e.mattersNo==t.formData.backupMatter});t.formData.backMattersInfo=t.backupMatterList[a].mattersName,t.$refs.treeGrid.updateNode(t.currentRow,t.formData),t.$message.success("编辑成功"),t.editToastConfig.dialogVisible=!1})}})},editCancel:function(){this.editToastConfig.dialogVisible=!1},numberChange:function(t,e){var a=this;(0,s.changeNumber)({isMidProduct:!!e.midProdNo,id:e.id,number:e[t.dataIndex]}).then(function(t){a.$message.success("保存成功")})},init:function(t){this.currentNode=(0,r.default)({},t),this.rootNode=t},nodeChange:function(t){var e=this;this.currentNode=t,(0,s.findBomByPnoOrMpno)({pNo:t.data.prodNo,mpno:t.data.midProdNo}).then(function(a){e.prodNo=a.prodNo,e.mattersNo=a.mattersNo,e.mattersName=a.mattersName,e.bomNo=a.bomNo,e.bomStatus=a.bomStatus,e.leaf=a.leaf,e.versions=a.versions,e.makeEmp=a.makeEmp,""!==a.bomNo?(e.solution=!1,e.columns[4].type="text"):""!==a.bomNo&&""!==a.voucherNo&&(e.solution=!0,e.columns[4].type="number"),e.message={productName:a.productName,bomStatus:a.bomStatus,version:a.version,status:a.bomStatus,makeDate:a.makeDate,makeEmp:a.makeEmp,voucherStatus:a.voucherStatus,bomNo:a.bomNo};var r=JSON.parse((0,i.default)(t.data));console.log(t.data,"node.data"),r._expanded=!0,r._loaded=!0,(a.mattersStoreDtos.length>0||a.productMidPlms)&&(r.leaf=!1),a.mattersStoreDtos.forEach(function(t){t.leaf=!0}),r.children=a.mattersStoreDtos.concat(a.productMidPlms),console.log(r),e.dataSource=[r],console.log(e.dataSource,"dataSource1")}).catch(function(a){e.$prompt("设置产品BOM编号","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/^[\s\S]*.*[^\s][\s\S]*$/,inputErrorMessage:"请设置产品BOM编号"}).then(function(a){var r=a.value;(0,s.addBomNo)({bomNo:r,prodNo:t.data.prodNo}).then(function(a){e.nodeChange(t)})}).catch(function(){e.$message({type:"info",message:"取消输入"})})})},loadNode:function(t,e){var a=this;0==t.level?e([]):(console.log(t.data),(0,s.getNode)({parentNo:t.data.midProdNo?t.data.midProdNo:t.data.prodNo}).then(function(t){e(t)}).catch(function(e){a.$prompt("设置产品BOM编号","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/^[\s\S]*.*[^\s][\s\S]*$/,inputErrorMessage:"请设置产品BOM编号"}).then(function(e){var a=e.value;(0,s.addBomNo)({bomNo:a,prodNo:t.data.prodNo}).then(function(e){t.loading=!1,t.loaded=!1,t.isLeaf=!1})}).catch(function(){t.loading=!1,t.loaded=!1,t.isLeaf=!1,a.$message({type:"info",message:"取消输入"})})}))}},mounted:function(){var t=this;(0,s.optionBomCodeAndProdName)({}).then(function(e){t.backupMatterList=e})}}},hbd2:function(t,e,a){"use strict";var r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Template",{ref:"template",attrs:{list:t.list,listUrl:t.listUrl,addUrl:t.addUrl,delUrl:t.delUrl,editUrl:t.editUrl,rules:t.rules,config:{filterable:!0,isOperate:!0,isSelection:!0,isOrder:!1,isPage:!0,type:"big",dataFromSever:!1},needContinueBtn:!1,needSearch:!0,defaultBtn:[!0,!0,!0]},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.saveState(e.row,e.row.id)}}},[t._v("状态维护")]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){t.handlerdetail(e.row)}}},[t._v("查看详情")])]}}])}),t._v(" "),a("plmToast",{attrs:{config:t.toastConfig},on:{cancel:t.cancel,submit:t.submit}},[a("my-toast",{ref:"ruleForm",attrs:{publicData:t.publicData}})],1)],1)},staticRenderFns:[]};e.a=r},hjh6:function(t,e){},iPGf:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(a("HzJ8")),o=i(a("3cXf")),l=i(a("r2Hw"));function i(t){return t&&t.__esModule?t:{default:t}}e.default={data:function(){return{isShow:!1,initData:{}}},props:{data:{type:Object,default:{},required:!0},config:{type:Array,default:[],required:!0},defaultLabel:{type:String,default:"全部"}},created:function(){var t=!0,e=!1,a=void 0;try{for(var l,i=(0,r.default)(this.config);!(t=(l=i.next()).done);t=!0){var n=l.value,s=!0,d=!1,c=void 0;try{for(var u,f=(0,r.default)(n);!(s=(u=f.next()).done);s=!0){var m=u.value;"checkbox"!=m.type&&"cascader"!=m.type&&"numRange"!=m.type?this.data[m.field]||this.$set(this.data,m.field,null):"numRange"==m.type?this.data[m.field]||this.$set(this.data,m.field,[null,null]):this.data[m.field]||this.$set(this.data,m.field,[])}}catch(t){d=!0,c=t}finally{try{!s&&f.return&&f.return()}finally{if(d)throw c}}}}catch(t){e=!0,a=t}finally{try{!t&&i.return&&i.return()}finally{if(e)throw a}}this.initData=JSON.parse((0,o.default)(this.data))},components:{numRange:l.default},methods:{handler:function(t,e){t&&this.$emit(t,e)},search:function(){this.$emit("search",this.data)},init:function(){for(var t in console.log(this.initData),this.data)this.data[t]=JSON.parse((0,o.default)(this.initData))[t]},handleSelect:function(t){this.$emit("handleSelect",t)},getDate:function(t){var e=[],a=!0,o=!1,l=void 0;try{for(var i,n=(0,r.default)(t);!(a=(i=n.next()).done);a=!0){var s=i.value;s.constructor,Date,e.push(s)}}catch(t){o=!0,l=t}finally{try{!a&&n.return&&n.return()}finally{if(o)throw l}}return e.join("至")},getRange:function(t){return null==t[0]&&null==t[1]?this.defaultLabel:null==t[0]&&null!=t[1]?"小于"+t[1]:null!=t[0]&&null==t[1]?"大于"+t[0]:"大于"+t[0]+"且小于"+t[1]},getCascader:function(t,e){var a=[],r=e;if(t.length>0){for(var o=0;o<t.length;o++){var l=r.findIndex(function(e){return e.value==t[o]});l>=0&&(a.push(r[l].label),void 0!=r[l].children&&(r=r[l].children))}return a.join("/")}return this.defaultLabel},getSelectDate:function(t,e){console.log(t,e,"1111111111111");var a=e.findIndex(function(e){return e.value==t});return a>=0?e[a].label:this.defaultLabel}}}},ijpj:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=f(a("IHPB")),o=f(a("3cXf")),l=f(a("HzJ8")),i=f(a("aA9S")),n=f(a("4YfN")),s=a("sG+p"),d=f(a("1H3V")),c=f(a("GSr8")),u=a("9rMa");function f(t){return t&&t.__esModule?t:{default:t}}e.default={data:function(){return{imgList:[],rules:{resName:c.default.require("string","资源名称不能为空"),resPath:c.default.require("string","请上传工程文件"),images:c.default.require("array","请上传设计图稿")},macForm:[],value:[],file1:[],file2:[],data1:[],fileSelcts:[],selectMatters:[],selectCarftWorks:[],formData:{resName:"",fileName:"",resPath:"",images:[]},activeName:"first",materielList:[],RunTotalList:[],macList:[],carftWorkList:[],semiList:[],fileList:[],firstSave:!0,secondSave:!0,thirdSave:!0,fourthSave:!0,toastConfig:{title:"新增(工艺资料)",width:"600px",dialogVisible:!1,btnData:[{type:"primary",method:"sure",name:"保存"},{type:"primary",method:"sureAndContinue",name:"保存并继续"},{type:"",method:"cancel",name:"关闭"}],btnStatus:[!0,!0,!0]},seeConfig:{title:"设计图稿",dialogVisible:!1,btnData:[{type:"",method:"cancel",name:"取消"}],btnStatus:[!0,!0,!0]},prodDropDownList:[]}},computed:(0,n.default)({},(0,u.mapState)(["uploadUrl"])),props:["currentCarfWork","currentNode"],methods:{ratio:function(t){var e=document.createElement("img");return e.setAttribute("src",t),e.height/e.width>2/3?"height-100":"width-100"},beforeAvatarUpload:function(t){console.log(t);var e="image/jpeg"===t.type;return e||this.$message.error("上传头像图片只能是 JPG 格式!"),e},fileSelct:function(t){this.fileSelcts=t},selectMatter:function(t){this.selectMatters=t},selectCarftWork:function(t){this.selectCarftWorks=t},saveChange:function(t){console.log(t,"????????"),this[t]=!1},upload:function(){this.file1=[],this.file2=[],this.formData={resName:"",fileName:"",resPath:"",images:[],crafworkId:this.currentCarfWork.id,prodNo:this.currentNode.data.prodNo,midProdNo:this.currentNode.data.midProdNo},this.toastConfig.dialogVisible=!0,this.toastConfig.btnStatus=[!0,!0,!0]},editUpload:function(){this.toastConfig.btnStatus=[!0,!1,!0],this.file1=[{name:this.fileSelcts[0].fileName,url:this.fileSelcts[0].resPath}];var t=[];this.fileSelcts[0].images.forEach(function(e){t.push({name:"",url:e})}),this.file2=t,this.formData=(0,i.default)({},this.fileSelcts[0]),this.toastConfig.dialogVisible=!0},handlerModeProdNoChange:function(t){var e=this;this.firstSave=!1,(0,s.getMatter)({prodNo:this.currentNode.data.prodNo,midNo:this.currentNode.data.midNo,crafworkId:this.currentCarfWork.crafworkId,midProNo:t.midProNo}).then(function(a){e.$set(t,"matterDropDownList",a)}),t.materNo="",this.$set(t,"version",""),this.$set(t,"syntheticField",""),this.$set(t,"unit",""),this.$set(t,"status",""),this.$set(t,"typeName","")},saveChange1:function(t,e){this.secondSave=!1;var a=this.macList.findIndex(function(e){return e.macNo==t});console.log(t,e,"value,row"),e.macType=this.macList[a].macType,e.orgName=this.macList[a].orgName,e.spec=this.macList[a].spec,e.macStatus=this.macList[a].macStatus},handlerMattersNoChange:function(t){if(this.firstSave=!1,""!=t.materNo){console.log();var e=t.matterDropDownList.findIndex(function(e){return e.mattersNo==t.materNo});e>=0?(console.log(t.matterDropDownList[e]),this.$set(t,"version",t.matterDropDownList[e].matVersions),this.$set(t,"syntheticField",t.matterDropDownList[e].syntheticField),this.$set(t,"unit",t.matterDropDownList[e].unit),this.$set(t,"status",t.matterDropDownList[e].status),this.$set(t,"typeName",t.matterDropDownList[e].typeName)):(this.$set(t,"version",""),this.$set(t,"syntheticField",""),this.$set(t,"unit",""),this.$set(t,"status",""),this.$set(t,"typeName",""))}},addMateriel:function(){this.firstSave=!1,this.materielList.push({inProdNo:"",inputAmt:"",materNo:"",matterMsg:"",mattersName:"",midProdMsg:"",status:"",syntheticField:"",typeName:"",unit:"",version:""})},addCarftWork:function(){this.secondSave=!1,this.carftWorkList.push({})},deleteMateriel:function(){this.firstSave=!1;var t=!0,e=!1,a=void 0;try{for(var r,o=(0,l.default)(this.selectMatters);!(t=(r=o.next()).done);t=!0){var i=r.value;console.log(),this.materielList.splice(this.materielList.indexOf(i),1)}}catch(t){e=!0,a=t}finally{try{!t&&o.return&&o.return()}finally{if(e)throw a}}},deleteCarftWork:function(){this.secondSave=!1;var t=!0,e=!1,a=void 0;try{for(var r,o=(0,l.default)(this.selectCarftWorks);!(t=(r=o.next()).done);t=!0){var i=r.value;this.carftWorkList.splice(this.carftWorkList.indexOf(i),1)}}catch(t){e=!0,a=t}finally{try{!t&&o.return&&o.return()}finally{if(e)throw a}}},submitMatters:function(){var t=this;if(!this.firstSave){var e=JSON.parse((0,o.default)(this.materielList));e.forEach(function(t){delete t.matterDropDownList}),(0,s.addInput)({prodNo:this.currentNode.data.prodNo,midPordNo:this.currentNode.data.midProdNo,crafworkId:this.currentCarfWork.crafworkId,crafworkInputMaterPlmsDtos:e}).then(function(e){t.firstSave=!0,t.$message.success("保存成功")})}},submitCarftWork:function(){var t=this;if(!this.secondSave){var e=[].concat((0,r.default)(this.carftWorkList));console.log(e),(0,s.addMacPlm)({prodNo:this.currentNode.data.prodNo,midProdNo:this.currentNode.data.midProdNo,crafworkId:this.currentCarfWork.id,prodMacPlmDtos:e}).then(function(e){t.secondSave=!0,t.$message.success("保存成功")})}},submitSemi:function(){var t=this;(0,s.addOutput)((0,n.default)({},this.semiList[0],{prodNo:this.currentNode.data.prodNo,midProdNo:this.currentNode.data.midProdNo,crafworkNo:this.currentCarfWork.crafworkId})).then(function(e){t.thirdSave=!0,t.$message.success("保存成功")})},cancel:function(){this.$emit("handleClose")},fileUploadSuuccess:function(t,e,a){this.file1=[{name:e.name,url:t.fileUrl}],this.formData.resPath=t.fileUrl,this.formData.fileName=e.name,this.$refs.ruleForm.validateField("resPath")},fileRomove:function(t){this.formData.resPath="",this.file1=[],this.$refs.ruleForm.validateField("resPath")},imgRomove:function(t){var e=this.file2.findIndex(function(e){return e.url==t.url});this.file2.splice(e,1),this.formData.images.splice(e,1),this.$refs.ruleForm.validateField("images")},imgUploadSuuccess:function(t,e,a){this.formData.images.push(t.fileUrl),this.$refs.ruleForm.validateField("images")},sure:function(){var t=this;this.$refs.ruleForm.validate(function(e){if(!e)return console.log("error submit!!"),!1;t.formData.id?(delete t.formData.modifyTime,delete t.formData.createTime,(0,s.upd)((0,n.default)({},t.formData)).then(function(e){(0,s.carftWorkMac)({crafworkId:t.currentCarfWork.id,prodNo:t.currentNode.data.prodNo,midProdNo:t.currentNode.data.midProdNo}).then(function(e){t.fileList=e}),t.fileSelcts=[],t.$message.success("保存成功"),t.toastConfig.dialogVisible=!1})):(0,s.add)((0,n.default)({},t.formData)).then(function(e){(0,s.carftWorkMac)({crafworkId:t.currentCarfWork.id,prodNo:t.currentNode.data.prodNo,midProdNo:t.currentNode.data.midProdNo}).then(function(e){t.fileList=e}),t.$message.success("保存成功"),t.toastConfig.dialogVisible=!1})})},sureAndContinue:function(){var t=this;this.$refs.ruleForm.validate(function(e){if(!e)return console.log("error submit!!"),!1;(0,s.add)((0,n.default)({},t.formData)).then(function(e){(0,s.carftWorkMac)({crafworkId:t.currentCarfWork.id,prodNo:t.currentNode.data.prodNo,midProdNo:t.currentNode.data.midProdNo}).then(function(e){t.fileList=e}),t.$message.success("保存成功"),t.file1=[],t.file2=[],t.formData={resName:"",fileName:"",resPath:"",images:[],crafworkId:t.currentCarfWork.id,prodNo:t.currentNode.data.prodNo,midProdNo:t.currentNode.data.midProdNo}})})},delUpload:function(){var t=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e=[];t.fileSelcts.forEach(function(t){e.push(t.id)}),(0,s.del)({ids:e.join(",")}).then(function(e){t.$message({type:"success",message:"删除成功!"}),(0,s.carftWorkMac)({crafworkId:t.currentCarfWork.id,prodNo:t.currentNode.data.prodNo,midProdNo:t.currentNode.data.midProdNo}).then(function(e){t.fileList=e})})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},downLoad:function(t){if(void 0===this.downLoad.iframe){var e=document.createElement("iframe");this.downLoad.iframe=e,document.body.appendChild(this.downLoad.iframe)}this.downLoad.iframe.src=t,this.downLoad.iframe.style.display="none"},see:function(t){this.imgList=t,this.seeConfig.dialogVisible=!0}},mounted:function(){var t=this;(0,s.prodDropDown)({prodNo:this.currentNode.data.prodNo,midProdNo:this.currentNode.data.midProdNo}).then(function(e){t.prodDropDownList=e}),(0,s.findInput)({prodNo:this.currentNode.data.prodNo,midPordNo:this.currentNode.data.midProdNo,crafworkId:this.currentCarfWork.crafworkId}).then(function(e){t.materielList=e,t.data1=d.default.setMaterielList(t.materielList,t.currentNode,t.currentCarfWork)}),(0,s.getRunTotal)().then(function(e){console.log(e,"pppppppppppppp"),t.RunTotalList=e}),(0,s.getMac)({crafworkId:this.currentCarfWork.crafworkId}).then(function(e){t.macList=e}),(0,s.findMacPlm)({prodNo:this.currentNode.data.prodNo,midProdNo:this.currentNode.data.midProdNo,crafworkId:this.currentCarfWork.id}).then(function(e){t.carftWorkList=e}),(0,s.findOutput)({prodNo:this.currentNode.data.prodNo,midProdNo:this.currentNode.data.midProdNo,crafworkNo:this.currentCarfWork.crafworkId}).then(function(e){t.$set(t.semiList,0,e)}),(0,s.carftWorkMac)({crafworkId:this.currentCarfWork.id,prodNo:this.currentNode.data.prodNo,midProdNo:this.currentNode.data.midProdNo}).then(function(e){console.log(e,"==="),t.fileList=e})}}},jpMZ:function(t,e,a){"use strict";var r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"routerList"},[a("h3",{staticClass:"title"},[t._v(t._s(t.router.prodName))]),t._v(" "),a("div",{staticStyle:{position:"relative"}},[a("div",{staticClass:"form",staticStyle:{"margin-top":"20px"}},[a("el-form",{staticClass:"h_28",staticStyle:{overflow:"hidden"},attrs:{size:"mini"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:t.router.prodNo?"产品编码：":"半成品编码："}},[t._v("\n                            "+t._s(t.router.prodNo?t.router.prodNo:t.router.midProdNo)+"\n                        ")])],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:t.router.prodNo?"产品名称：":"半成品名称："}},[t._v("\n                            "+t._s(t.router.prodName?t.router.prodName:t.router.midProdName)+"\n                        ")])],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"工艺路线号："}},[t._v("\n                            "+t._s(t.router.pathNo)+"\n                        ")])],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"单据号："}},[t._v("\n                            "+t._s(t.router.voucherNo)+"\n                        ")])],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"申请日期："}},[t._v("\n                            "+t._s(t.router.raiseDate)+"\n                        ")])],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"部门："}},[t._v("\n                            "+t._s(t.router.orgName)+"\n                        ")])],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"单据状态："}},[t._v("\n                            "+t._s(t.router.label)+"\n                        ")])],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"申请人："}},[t._v("\n                            "+t._s(t.router.raiseUser)+"\n                        ")])],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"版本号:"}},[t._v("\n                            "+t._s(t.router.versions)+"\n                        ")])],1)],1)],1),t._v(" "),a("el-switch",{staticStyle:{position:"absolute",right:"10px",bottom:"25px"},attrs:{"active-text":"启用","active-value":"true","inactive-text":"停用","inactive-value":"false","active-color":"#13ce66"},on:{change:t.handlerChange},model:{value:t.router.enDis,callback:function(e){t.$set(t.router,"enDis",e)},expression:"router.enDis"}})],1)]),t._v(" "),a("el-table",{staticStyle:{width:"100%","text-align":"center"},attrs:{"header-cell-style":t.rowClass,data:t.router.prodCrafworkPathPlmDtos}},[a("el-table-column",{attrs:{prop:"crafworkName",label:"工艺名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"quartersDesc",label:"工艺岗位"}}),t._v(" "),a("el-table-column",{attrs:{prop:"carfSeq",label:"工艺顺序"}}),t._v(" "),a("el-table-column",{attrs:{prop:"unit",label:"计量单位"}}),t._v(" "),a("el-table-column",{attrs:{prop:"crafworkDesc",label:"工艺要求"}}),t._v(" "),a("el-table-column",{attrs:{prop:"macMinutes",label:"设备单耗标准工时",width:"150px;"}}),t._v(" "),a("el-table-column",{attrs:{prop:"empMinutes",label:"人员单耗标准工时",width:"150px;"}}),t._v(" "),a("el-table-column",{attrs:{prop:"dayAmount",label:"每班标准产量",width:"150px;"}}),t._v(" "),a("el-table-column",{attrs:{label:"是否品检",width:"150px;"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(1==e.row.isCheck?"是":"否")+"\n            ")]}}])})],1)],1)},staticRenderFns:[]};e.a=r},kVss:function(t,e,a){"use strict";var r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"constituteBom"},[a("show-search",{attrs:{config:t.searchConfig,data:t.searchData},on:{search:t.searchList,path:t.pathChange}}),t._v(" "),t.bind?a("el-button",{staticStyle:{margin:"9px 10px"},attrs:{slot:"l_rSlot",type:"primary",size:"small"},on:{click:t.check},slot:"l_rSlot"},[t._v("\n     提交审核\n     ")]):t._e(),t._v(" "),t.binds?a("el-button",{staticStyle:{margin:"9px 10px"},attrs:{slot:"l_rSlot",type:"primary",size:"small"},on:{click:t.toExamine},slot:"l_rSlot"},[t._v("\n     审批\n     ")]):t._e(),t._v(" "),a("tree-grid",{ref:"treeGrid",attrs:{columns:t.columns,"tree-structure":!0,"default-expand-all":!0,"data-source":t.dataSource,expandIndex:2,colShow:t.colShow},on:{loadNode:t.loadNode},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.crafworkName?a("div",[a("el-button",{attrs:{size:"small",type:"text"},on:{click:function(a){t.update(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{staticStyle:{color:"#F6463B"},attrs:{type:"text",size:"small"},on:{click:function(a){t.del(e.row)}}},[t._v("删除")])],1):a("div",[a("el-button",{attrs:{size:"small",type:"text"},on:{click:function(a){t.insert(e.row)}}},[t._v("新增")])],1)]}}])}),t._v(" "),a("plmToast",{attrs:{config:t.toastConfig},on:{cancel:t.cancel,submit:t.submit,handleClose:t.cancel}},[a("myToast",{ref:"toast",attrs:{publicData:t.publicData,selectRow:t.selectRow,type:t.toastConfig.title}})],1),t._v(" "),a("plmToast",{attrs:{config:t.examineConfig}},[a("div",{staticStyle:{width:"300px","margin-left":"80px"}},[a("el-button",{staticStyle:{width:"110px"},attrs:{type:"primary"},on:{click:t.pass}},[t._v(" 通过")]),t._v(" "),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:t.fail}},[t._v("不通过")])],1)])],1)},staticRenderFns:[]};e.a=r},lHdJ:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("yG6I"),o=a.n(r);for(var l in r)"default"!==l&&function(t){a.d(e,t,function(){return r[t]})}(l);var i=a("xhUu");var n=function(t){a("aGFE")},s=a("C7Lr")(o.a,i.a,!1,n,null,null);e.default=s.exports},lLys:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=d(a("3cXf")),o=d(a("HzJ8")),l=d(a("aA9S")),i=a("mFIW"),n=d(a("nuTF")),s=a("Bfue");function d(t){return t&&t.__esModule?t:{default:t}}e.default={data:function(){return{operateList:[],voucherNo:"",daSource:{},isFinished:"",bind:!1,binds:!1,selectRow:null,publicData:{form:{},options:[]},searchData:{},searchConfig:[[{label:"工艺路线号",field:"pathNo",type:"select",filterable:!0,clearable:!1,placeholder:"请选择或者输入",method:"path",childrens:[]},{label:"产品信息",field:"prodNo",type:"select",filterable:!0,placeholder:"请选择或者输入",childrens:[]}]],columns:[{text:"工艺路线号",dataIndex:"pathNo",width:"120px"},{text:"版本号",dataIndex:"versions",width:"80px"},{text:"产品/半成品信息",dataIndex:"midProdMsg",width:"200px",align:"left"},{text:"工艺名称",dataIndex:"crafworkName",width:"95px"},{text:"工艺顺序",dataIndex:"carfSeq",width:"95px"},{text:"设备单耗标准工时",dataIndex:"macMinutes"},{text:"人员单耗标准工时",dataIndex:"empMinutes"},{text:"每班标准产量",dataIndex:"dayAmount"}],dataSource:[],examineConfig:{title:"审核",dialogVisible:!1,width:"440px"},toastConfig:{title:"新增",dialogVisible:!1,width:"440px",btnData:[{name:"保存",type:"primary",method:"submit"},{name:"取消",method:"cancel",bgColor:"dialog-deep-blue"}],btnStatus:[!0,!0,!0]}}},methods:{toExamine:function(){this.examineConfig.dialogVisible=!0},pass:function(t){var e=this;this.examineConfig.dialogVisible=!1,(0,s.examine)({voucherNo:this.voucherNo,isPass:!0}).then(function(t){e.$message({message:"审批成功",type:"success"}),e.searchList()})},fail:function(t){var e=this;this.examineConfig.dialogVisible=!1,(0,s.examine)({voucherNo:this.voucherNo,isPass:!1}).then(function(t){e.$message({message:"审批成功",type:"success"}),e.searchList()})},colShow:function(t,e){return!(t._level>0&&"pathNo"==e.dataIndex)},check:function(){var t=this;console.log(this.operateList),(0,s.audit)({pathNo:this.searchData.pathNo,prodCrafworkPathPlmDtos:this.operateList}).then(function(e){t.$message({message:"审核已提交",type:"success"})})},pathChange:function(t){var e=this;this.searchData.prodNo="",(0,s.getProdMsg)({pathNo:t}).then(function(t){t.forEach(function(t){t.label=t.prodMsg,t.value=t.prodNo}),e.searchConfig[0][1].childrens=t})},searchList:function(t,e){var a=this;(0,s.findMainMess)({prodNo:this.searchData.prodNo,pathNo:this.searchData.pathNo}).then(function(t){a.operateList=[],a.dataSource=t,t.forEach(function(t){a.isFinished=t.isFinished,a.voucherNo=t.voucherNo}),"AS001"==a.isFinished?(a.bind=!0,a.binds=!1):(a.binds=!0,a.bind=!1)})},cancel:function(){this.$refs.toast.$refs.ruleForm1.clearValidate(),this.toastConfig.dialogVisible=!1},sizeChange:function(){this.getDate(this.searchData)},pageChange:function(){this.getDate(this.searchData)},insert:function(t){var e=this;this.toastConfig.title="新增",(0,s.findCraf)({midProdNo:t.midProdNo,pathNo:t.pathNo}).then(function(a){e.selectRow=t,e.publicData.options=a,e.toastConfig.dialogVisible=!0,e.publicData.form={crafworkId:"",pathNo:e.searchData.pathNo,prodNo:t.prodNo,midProdNo:t.midProdNo,unit:"",macMinutes:"",empMinutes:"",dayAmount:"",carfSeq:0,auditMethod:"新增",id:0}})},update:function(t){var e=this;this.toastConfig.title="编辑",(0,s.findCraf)({midProdNo:t.midProdNo,pathNo:t.pathNo}).then(function(a){console.log(t),t.auditMethod="编辑",e.selectRow=t,e.publicData.options=a,e.publicData.form=(0,l.default)({},t),e.publicData.pathNo=e.searchData.pathNo,e.publicData.prodNo=t._parent.prodNo,delete e.publicData.form.children,delete e.publicData.form._parent,delete e.publicData.form._level,delete e.publicData.form._loaded,delete e.publicData.form._loading,delete e.publicData.form._expanded,delete e.publicData.form._show,console.log(e.publicData.form,"&&&&&&&&"),e.toastConfig.dialogVisible=!0})},del:function(t){var e=(0,l.default)({},t);if(e.auditMethod="删除",delete e.children,delete e._parent,delete e._level,delete e._loaded,delete e._loading,delete e._expanded,delete e._show,0==e.id){var a=this.operateList.findIndex(function(t){return t==e});a>0?this.operateList.splice(a,1):this.operateList.push(e)}else this.operateList.push(e);this.$refs.treeGrid.removeChild(t)},getProdMsg:function(){var t=this;(0,s.getProdMsg)({pathNo:this.searchData.pathNo},this).then(function(e){e.forEach(function(e){t.searchConfig[0][1].childrens.push({label:e.prodMsg,value:e.prodNo})})})},getPathMsg:function(){var t=this;(0,s.getPathMsg)({},this).then(function(e){e.length>0&&(t.searchData.pathNo=e[0].pathNo);var a=!0,r=!1,l=void 0;try{for(var i,n=(0,o.default)(e);!(a=(i=n.next()).done);a=!0){var s=i.value;t.searchConfig[0][0].childrens.push({label:s.pathNo,value:s.pathNo})}}catch(t){r=!0,l=t}finally{try{!a&&n.return&&n.return()}finally{if(r)throw l}}t.searchList(),t.getProdMsg()})},loadNode:function(t,e){var a=[];(0,s.prodDown)({midProdNo:t.midProdNo,prodNo:t.prodNo}).then(function(r){a=a.concat(r),(0,s.pathCraf)({midProdNo:t.midProdNo,pathNo:t.pathNo}).then(function(t){t.forEach(function(t){t.leaf=!0}),a=t.concat(a),e(a)})})},submit:function(){var t=this;this.$refs.toast.$refs.ruleForm1.validate(function(e){if(!e)return console.log("error submit!!"),!1;if("新增"==t.toastConfig.title)if(t.publicData.form.leaf=!0,console.log(t.selectRow),t.selectRow._loaded){if((a=t.selectRow.children.findIndex(function(e){return e.carfSeq==t.publicData.form.carfSeq}))>=0)return t.$message.error("工艺顺序不可重复");t.operateList.push(JSON.parse((0,r.default)(t.publicData.form))),t.$refs.treeGrid.insertChild(t.selectRow,t.publicData.form),t.toastConfig.dialogVisible=!1,t.$refs.toast.$refs.ruleForm1.clearValidate()}else t.$refs.treeGrid.expand(t.selectRow,function(){if(t.selectRow.children.findIndex(function(e){return e.carfSeq==t.publicData.form.carfSeq})>=0)return t.$message.error("工艺顺序不可重复");t.operateList.push(JSON.parse((0,r.default)(t.publicData.form))),t.$refs.treeGrid.insertChild(t.selectRow,t.publicData.form),t.toastConfig.dialogVisible=!1,t.$refs.toast.$refs.ruleForm1.clearValidate()});else{var a,o=t.selectRow._parent.children.findIndex(function(e){return e==t.selectRow});if((a=t.selectRow._parent.children.findIndex(function(e){return e.carfSeq==t.publicData.form.carfSeq}))>=0&&o!=a)return t.$message.error("工艺顺序不可重复");t.$refs.treeGrid.updateNode(t.selectRow,t.publicData.form),t.operateList.push(JSON.parse((0,r.default)(t.publicData.form))),t.toastConfig.dialogVisible=!1,t.$refs.toast.$refs.ruleForm1.clearValidate()}})}},mounted:function(){this.getPathMsg()},components:{TreeGrid:i.TreeGrid,myToast:n.default}}},lQZO:function(t,e,a){"use strict";var r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"myTable"},[a("el-table",{attrs:{data:t.data,border:"","row-style":t.showTr}},[t._l(t.columns,function(e,r){return a("el-table-column",{key:e.dataIndex,attrs:{align:e.align?e.align:"left",width:e.width,"show-overflow-tooltip":"",label:e.text},scopedSlots:t._u([{key:"default",fn:function(o){return[t._l(o.row._level,function(e,o){return t.spaceIconShow(r)?a("span",{staticClass:"ms-tree-space"}):t._e()}),t._v(" "),o.row.leaf||r!=t.expandIndex?r===t.expandIndex?a("span",{staticClass:"ms-tree-space"}):t._e():a("span",{staticClass:"button is-outlined is-primary is-small",on:{click:function(e){t.toggle(o.$index)}}},[o.row._loading?a("i",{staticClass:"el-icon-loading",attrs:{"aria-hidden":"true"}}):o.row._expanded?a("i",{staticClass:"el-icon-caret-bottom",attrs:{"aria-hidden":"true"}}):a("i",{staticClass:"el-icon-caret-right",attrs:{"aria-hidden":"true"}})]),t._v(" "),t.isShow(o.row,e)?a("span",[t._v(t._s(o.row[e.dataIndex]))]):t._e()]}}])})}),t._v(" "),"normal"===t.treeType?a("el-table-column",{attrs:{label:"操作",width:"160",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._t("default",null,{row:e.row,index:e.$index})]}}])}):t._e()],2)],1)},staticRenderFns:[]};e.a=r},ln3n:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("NgTn"),o=a.n(r);for(var l in r)"default"!==l&&function(t){a.d(e,t,function(){return r[t]})}(l);var i=a("34zY"),n=a("C7Lr")(o.a,i.a,!1,null,null,null);e.default=n.exports},lzRY:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("zeWI"),o=a.n(r);for(var l in r)"default"!==l&&function(t){a.d(e,t,function(){return r[t]})}(l);var i=a("Dj6a");var n=function(t){a("ElPP")},s=a("C7Lr")(o.a,i.a,!1,n,null,null);e.default=s.exports},mDfN:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.examine=e.getRecordDetail=e.crafworkQuarter=e.findCraf=e.optionPathNo=e.getDetail=e.getMidMess=e.getOrg=e.findVoucher=void 0;var r,o=a("Dod7"),l=(r=o)&&r.__esModule?r:{default:r};e.findVoucher=function(t){return l.default.postFormData("changeMain/findVoucher",t)},e.getOrg=function(t){return l.default.postFormData("/changeMain/getOrg",t)},e.getMidMess=function(t){return l.default.postFormData("prodMid/getMidMess",t)},e.getDetail=function(t){return l.default.postFormData("changeRe/getDetail",t)},e.optionPathNo=function(t){return l.default.postFormData("prodCrafPath/optionPathNo",t)},e.findCraf=function(t){return l.default.postFormData("crafMain/findCraf",t)},e.crafworkQuarter=function(t){return l.default.postFormData("carfwork/crafworkQuarter",t)},e.getRecordDetail=function(t){return l.default.postFormData("changeRe/getRecordDetail",t)},e.examine=function(t){return l.default.postFormData("/voucher/changeExamine",t)}},mFIW:function(t,e,a){"use strict";var r=l(a("YTf7")),o=l(a("7AfA"));function l(t){return t&&t.__esModule?t:{default:t}}t.exports={TreeGrid:r.default,productTreeGrid:o.default}},mMD0:function(t,e,a){"use strict";var r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"processRoute"},[a("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("div",{staticClass:"trerBox no-scroll"},[a("tree",{ref:"myTree",attrs:{"need-root":!1,props:{label:"midMsg",isLeaf:"leaf"}},on:{loadNode:t.loadNode,nodeChange:t.nodeChange,filterTree:t.filterTree,init:t.init}})],1),t._v(" "),a("div",{staticStyle:{"padding-left":"320px","max-height":"850px","box-sizing":"border-box"}},[a("el-tab-pane",{attrs:{label:"变更记录",name:"third"}},[t.currentNode.level>0&&t.currentNode.data.pathNo&&"已通过"==t.currentNode.data.status?a("change-record",{attrs:{currentNode:t.currentNode,request:t.request},on:{"update:request":function(e){t.request=e}}}):a("div",{staticClass:"main-con"},[a("h2",[t._v("请检查是否已选择产品、半成品、是否已输入工艺路线号或者该工艺路线是否已审批")])])],1),t._v(" "),a("el-tab-pane",{attrs:{label:"路线设置",name:"first"}},[t.currentNode.level>0&&t.currentNode.data.pathNo?a("router-set",{ref:"routerSet",attrs:{currentNode:t.currentNode,tags:t.tags},on:{"update:tags":function(e){t.tags=e}}}):a("div",{staticClass:"main-con"},[a("h2",[t._v("请检查是否已选择产品、半成品、是否已输入工艺路线号")])])],1),t._v(" "),a("el-tab-pane",{attrs:{label:"路线列表",name:"second"}},[t.currentNode.level>0&&t.currentNode.data.pathNo&&"已通过"==t.currentNode.data.status?a("router-list",{attrs:{currentNode:t.currentNode,router:t.router},on:{"update:router":function(e){t.router=e}}}):a("div",{staticClass:"main-con"},[a("h2",[t._v("请检查是否已选择产品、半成品、是否已输入工艺路线号或者该工艺路线是否已审批")])])],1)],1)])],1)},staticRenderFns:[]};e.a=r},mOHT:function(t,e){},n1Vn:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{pageData:{pocHeaderData:[],sidebarData:[{visible:!0,title:"PLM管理系统",path:"./processNode",data:[{name:"工艺节点",router:"./processNode"},{name:"产品分类",router:"./productClassification"},{name:"产品库",router:"./product"},{name:"半成品信息",router:"./semi-manufactures"},{name:"产品工艺",router:"./cpgy",chlid:[{name:"工艺路线",router:"./processRoute"},{name:"路线审核",router:"/routeReview"},{name:"变更审批",router:"/requestChange"}]},{name:"物料分类",router:"./materialClass"},{name:"物料库",router:"./material"},{name:"产品Bom",router:"./Bom",chlid:[{name:"构成",router:"/constitute"},{name:"变更申请",router:"/requestChange2"}]}]}]}}}}},n1qX:function(t,e,a){"use strict";var r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"public-set"},[a("show-search",{attrs:{config:t.searchConfig,data:t.searchData},on:{search:t.searchList}}),t._v(" "),a("plmToast",{attrs:{config:t.toastConfig,data:t.formData1,model:t.formData1},on:{cancel:t.cancel,submit:t.submit}},[a("div",[a("el-form",{attrs:{"label-width":"120px"}},[a("el-form-item",{attrs:{label:"物料信息"}},[t._v("\n           "+t._s(t.currentMatterNo)+"\n        ")]),t._v(" "),a("el-form-item",{attrs:{label:"Bom编码"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:t.formData1.mattersName,callback:function(e){t.$set(t.formData1,"mattersName",e)},expression:"formData1.mattersName"}})],1)],1)],1)]),t._v(" "),t.currentMatterNo?a("div",{staticClass:"Bom-content"},[a("div",{staticClass:"clearfix",staticStyle:{position:"relative"}},[a("div",{staticClass:"form"},[a("el-form",{attrs:{"label-width":"90px",model:t.ruleForm}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"BOM编号"}},[t._v("\n                "+t._s(t.ruleForm.bomNo)+"\n              ")])],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"物料信息"}},[t._v("\n                "+t._s(t.ruleForm.mattersName)+"\n              ")])],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"版本号"}},[t._v("\n              "+t._s(t.ruleForm.versions)+"\n              ")])],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"BOM状态"}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":"启用中","inactive-value":"停用"},on:{change:t.statusChange},model:{value:t.ruleForm.bomStatus,callback:function(e){t.$set(t.ruleForm,"bomStatus",e)},expression:"ruleForm.bomStatus"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"制定日期"}},[t._v("\n                "+t._s(t.ruleForm.makeDate)+"\n              ")])],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"制定人"}},[t._v("\n                "+t._s(t.ruleForm.makeEmp)+"\n              ")])],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"审核状态"}},[t._v("\n                "+t._s(t.ruleForm.voucherStatus)+"\n              ")])],1)],1)],1)],1)]),t._v(" "),a("div",{staticClass:"formedit"},[t.needOperate?a("div",{staticClass:"clearfix",staticStyle:{"margin-bottom":"5px"}},[a("el-button",{staticClass:"submit-btn",attrs:{type:"primary",size:"small"},on:{click:t.approve}},[t._v("提交审核")]),t._v(" "),a("el-button",{staticClass:"add-btn",attrs:{type:"primary",size:"small"},on:{click:function(e){t.addMater("table1")}}},[t._v("添加物料")])],1):a("div",{staticClass:"clearfix",staticStyle:{"margin-bottom":"5px"}},[a("el-button",{staticClass:"submit-btn",attrs:{type:"primary",size:"small"},on:{click:t.changeBom}},[t._v("修改公用组件BOM")])],1),t._v(" "),a("product-tree-grid",{ref:"treeGrid",attrs:{treeType:t.needOperate,columns:t.columns,"tree-structure":!0,"data-source":t.dataSource,expandIndex:0},on:{handlerDelete:t.del,loadNode:t.loadNode,change:t.numberChange},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small",type:"text"},on:{click:function(a){t.editMater(e.row,"table1")}}},[t._v("编辑物料")]),t._v(" "),a("el-button",{staticStyle:{color:"#F6463B"},attrs:{type:"text",size:"small"},on:{click:function(a){t.delMater(e.row)}}},[t._v("删除物料")])]}}])})],1),t._v(" "),a("plm-toast",{attrs:{config:t.changeToastConfig,width:"1200px"},on:{changeSubmit:t.changeSubmit,changeCancel:t.changeCancel}},[a("div",{staticClass:"bomToast"},[a("div",{staticClass:"clearfix",staticStyle:{position:"relative"}},[a("div",{staticClass:"form"},[a("el-form",{attrs:{"label-width":"90px",model:t.ruleForm}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"BOM编号"}},[t._v("\n                    "+t._s(t.ruleForm2.bomNo)+"\n                  ")])],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"物料信息"}},[t._v("\n                    "+t._s(t.ruleForm2.mattersName)+"\n                  ")])],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"版本号"}},[t._v("\n                    "+t._s(t.ruleForm2.versions)+"\n                  ")])],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"BOM状态"}},[t._v("\n                    "+t._s(t.ruleForm2.bomStatus)+"\n                  ")])],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"制定日期"}},[t._v("\n                    "+t._s(t.ruleForm2.makeDate)+"\n                  ")])],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"制定人"}},[t._v("\n                    "+t._s(t.ruleForm2.makeEmp)+"\n                  ")])],1)],1)],1)],1)]),t._v(" "),a("div",[a("div",{staticClass:"formedit"},[a("div",{staticClass:"clearfix",staticStyle:{"margin-bottom":"5px"}},[a("el-button",{staticClass:"add-btn",attrs:{type:"primary",size:"small"},on:{click:function(e){t.addMater("table2")}}},[t._v("添加物料")])],1),t._v(" "),a("product-tree-grid",{ref:"treeGrid2",attrs:{columns:t.columns2,"tree-structure":!0,"data-source":t.dataSource2,expandIndex:0},on:{handlerDelete:t.del,loadNode:t.loadNode},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small",type:"text"},on:{click:function(a){t.editMater(e.row,"table2")}}},[t._v("编辑物料")]),t._v(" "),a("el-button",{staticStyle:{color:"#F6463B"},attrs:{type:"text",size:"small"},on:{click:function(a){t.delMater2(e.row)}}},[t._v("删除物料")])]}}])})],1)])])])],1):t._e(),t._v(" "),a("toast",{staticClass:"dialog-box",attrs:{config:t.addToastConfig,width:"1200px",isForm:!1},on:{sure:t.addSure,cancel:t.addCancel,handleClose:t.addCancel}},[a("span",{staticStyle:{"margin-left":"25px"}},[t._v("物料编码/物料名称：")]),t._v(" "),a("el-select",{attrs:{size:"medium",filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入关键词查询","remote-method":t.remoteMethod,loading:t.loading},on:{change:t.materielChange},model:{value:t.materielMsg.code,callback:function(e){t.$set(t.materielMsg,"code",e)},expression:"materielMsg.code"}},t._l(t.list,function(t){return a("el-option",{key:t.id,attrs:{label:t.mattersInfo,value:JSON.stringify(t)}})})),t._v(" "),a("div",{staticClass:"myTable",staticStyle:{padding:"10px 20px 0"}},[a("el-button",{attrs:{size:"medium",disabled:0==t.selectData.length},on:{click:t.handleDelete}},[t._v("删除")]),t._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"10px"},attrs:{data:t.tableData},on:{select:t.select}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"mattersInfo",label:"物料信息",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"allInfo",label:"规格/参数/型号",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{width:"200",label:"单份半成品所需用量"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input-number",{staticStyle:{width:"100%"},attrs:{placeholder:"",size:"mini",controls:!1},model:{value:e.row.amount,callback:function(a){t.$set(e.row,"amount",a)},expression:"scope.row.amount"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"unit",label:"单位"}}),t._v(" "),a("el-table-column",{attrs:{prop:"weight",label:"理论重量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"typeName",label:"物料类型"}}),t._v(" "),a("el-table-column",{attrs:{label:"物料要求"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{staticStyle:{width:"100%"},attrs:{size:"mini"},model:{value:e.row.plmDesc,callback:function(a){t.$set(e.row,"plmDesc",a)},expression:"scope.row.plmDesc"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"备用物料"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"",size:"mini"},model:{value:e.row.backupMatter,callback:function(a){t.$set(e.row,"backupMatter",a)},expression:"scope.row.backupMatter"}},t._l(t.backupMatterList,function(t){return a("el-option",{key:t.mattersNo,attrs:{label:t.mattersName,value:t.mattersNo}})}))]}}])})],1)],1)],1),t._v(" "),a("toast",{staticClass:"dialog-box",attrs:{config:t.editToastConfig,width:"480px"},on:{sure:t.editSure,cancel:t.editCancel,handleClose:t.editCancel}},[a("el-form",{ref:"materielForm",attrs:{model:t.formData,size:"small","label-position":"right","label-width":"140px"}},[a("el-form-item",{attrs:{label:"物料信息"}},[t._v(t._s(t.formData.mattersInfo))]),t._v(" "),a("el-form-item",{attrs:{label:"规格/参数/型号"}},[t._v(t._s(t.formData.allInfo))]),t._v(" "),a("el-form-item",{attrs:{label:"单位"}},[t._v(t._s(t.formData.unit))]),t._v(" "),a("el-form-item",{attrs:{label:"物料要求"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.formData.plmDesc,callback:function(e){t.$set(t.formData,"plmDesc",e)},expression:"formData.plmDesc"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"备用物料",prop:"backupMatter",rules:[{required:!0,message:"请选择物料要求"}]}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"",size:"mini"},on:{change:t.backupMatterChange},model:{value:t.formData.backupMatter,callback:function(e){t.$set(t.formData,"backupMatter",e)},expression:"formData.backupMatter"}},t._l(t.backupMatterList,function(t){return a("el-option",{key:t.mattersNo,attrs:{label:t.mattersName,value:t.mattersNo}})}))],1)],1)],1)],1)},staticRenderFns:[]};e.a=r},nmP2:function(t,e){},nmk2:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=a("Cs0b"),l=a("JCMk"),i=(r=l)&&r.__esModule?r:{default:r};e.default={data:function(){return{tableData:[{date:"2016",name:"王小虎",address:"上海市"}],options:[{value:"选项1",label:"缺货"},{value:"选项2",label:"正常供货"},{value:"选项3",label:"停产"},{value:"选项4",label:"关闭"}],value:"",toastConfig:{title:"新增",dialogVisible:!1,width:"1000px",btnData:[{name:"保存",type:"primary",method:"submit"},{name:"取消",method:"cancel",bgColor:"dialog-deep-blue"}],btnStatus:[!0,!0,!0]}}},methods:{add1:function(){this.toastConfig.dialogVisible=!0},cancel:function(){this.toastConfig.dialogVisible=!1},submit:function(){this.toastConfig.dialogVisible=!1,this.$refs.ruleForm.submit(row)},rowClass:function(t){t.row;var e=t.rowIndex;return console.log(e),"background:#E5E5E5"},deleteRow:function(t,e){e.splice(t,1)}},components:{Template:o.Template,myToast:i.default}}},nmtp:function(t,e,a){"use strict";var r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"myToast"},[a("el-form",{ref:"ruleForm",attrs:{size:"small"},on:{submit:t.submit,cancel:t.cancel}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"BOM编号"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)],1),t._v(" "),a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:12}},[a("el-form-item",{attrs:{label:"产品信息"}},[t._v("\n                "+t._s(t.form)+"\n             ")])],1)],1),t._v(" "),a("el-row",[a("el-col",[a("el-form-item",[a("el-button",{attrs:{size:"mini",icon:"el-icon-plus",type:"primary"},on:{click:t.add1}},[t._v("新增\n                       ")])],1)],1)],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%","text-align":"center"},attrs:{"header-cell-style":t.rowClass,data:t.tableData,"show-header:true":""}},[a("el-table-column",{attrs:{prop:"address",label:"半成品信息"}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"物料信息"}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"修改类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"新值"}}),t._v(" "),a("el-table-column",{attrs:{prop:"date",label:"旧值"}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){a.preventDefault(),t.deleteRow(e.$index,t.tableData)}}},[t._v("\n        删除\n      ")])]}}])})],1),t._v(" "),a("plmToast",{attrs:{config:t.toastConfig,width:"1000px"},on:{cancel:t.cancel,submit:t.submit}},[a("my-toast",{ref:"ruleForm"})],1)],1)},staticRenderFns:[]};e.a=r},nuTF:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("aHpZ"),o=a.n(r);for(var l in r)"default"!==l&&function(t){a.d(e,t,function(){return r[t]})}(l);var i=a("deDj");var n=function(t){a("SuJ5")},s=a("C7Lr")(o.a,i.a,!1,n,null,null);e.default=s.exports},oAkv:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(a("aA9S")),o=n(a("4YfN")),l=a("vjT+"),i=n(a("GSr8"));function n(t){return t&&t.__esModule?t:{default:t}}e.default={data:function(){return{multipleSelection:[],rules:{unit:i.default.require("string","请输入单位"),norms:i.default.require("string","规格/参数/型号为必填项"),matterNo:i.default.require("string","请选择物料信息"),formulaNo:i.default.require("string","请输入配方编码"),amount:i.default.require("string","请输入用量"),formulaName:i.default.require("string","请输入配方名称")},tableData:[],ruleForm:{bomNo:"",mattersName:"",versions:"",bomStatus:""},ruleForm1:"",bind:!0,binds:!0,addData:[],addConfig:{title:"新增",dialogVisible:!1,width:"1000px",btnData:[{name:"保存",type:"primary",method:"checkSubmit"},{name:"取消",method:"checkCancel",bgColor:"dialog-deep-blue"}],btnStatus:[!0,!0,!1]},form:{norms:"",bomNo:"",matterNo:"",formulaNo:"",formulaName:"",amount:"",unit:""},form1:{norms:"",bomNo:"",matterNo:"",formulaNo:"",formulaName:"",amount:"",unit:""},value:"",basicData:{},basicConfig:[],bomStatus:!0,searchData:{},toastList1:[],searchConfig:[[{field:"productName",label:"产品信息",type:"select",filterable:!0,clearable:!0,placeholder:"请选择或者输入",method:"path",childrens:[]}]]}},methods:{handleSelectionChange:function(t){this.multipleSelection=t},checkCancel:function(){this.addConfig.dialogVisible=!1,this.$refs.ruleForm2.clearValidate()},checkSubmit:function(){var t=this;this.$refs.ruleForm2.validate(function(e){if(!e)return console.log("error submit!!"),!1;t.form.id?(0,l.addOrUpdateFormula)((0,o.default)({},t.form),t).then(function(e){t.addConfig.dialogVisible=!1,t.$message.success("编辑成功"),t.multipleSelection=[],t.getList()}):(0,l.addOrUpdateFormula)((0,o.default)({},t.form),t).then(function(e){t.addConfig.dialogVisible=!1,t.$message.success("保存成功"),t.multipleSelection=[],t.getList()})})},optionBomCodeAndProdName:function(){var t=this;(0,l.optionBomCodeAndProdName)({}).then(function(e){t.addData=e})},searchList:function(){""!==this.value&&this.getList()},getList:function(){var t=this;(0,l.findBomByPno)({pNo:this.value}).then(function(e){console.log("data:",e),t.ruleForm.bomNo=e.bomNo,t.ruleForm.mattersName=e.productName,t.ruleForm.versions=e.versions,t.ruleForm.bomStatus=e.bomStatus,t.form.unit=e.unit,t.form.norms=e.norms,t.tableData=e.formulaBomPlms})},pathChange:function(t,e){this.toastList1.findIndex(function(e){return e.prodNo==t});this.value=t},optionProduct:function(){var t=this;(0,l.optionProduct)({}).then(function(e){t.toastList1=e,e.forEach(function(e){t.searchConfig[0][0].childrens.push({label:e.prodName,value:e.prodNo})})})},add:function(){this.addConfig.dialogVisible=!0,this.form.bomNo=this.ruleForm.bomNo,this.form.unit="",this.form.norms="",this.form.formulaNo="",this.form.formulaName="",this.form.matterNo="",this.form.amount=""},edit:function(){this.addConfig.dialogVisible=!0,this.form=(0,r.default)({},this.multipleSelection[0]),this.form.bomNo=this.ruleForm.bomNo},del:function(){var t=this,e=[];this.multipleSelection.forEach(function(t){e.push(t.id)}),this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){(0,l.deleteFormulaItems)({ids:e.join()}).then(function(e){t.$message.success("删除成功"),t.getList(),t.multipleSelection=[]})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})}},mounted:function(){this.optionBomCodeAndProdName(),this.optionProduct()},components:{}}},oD9S:function(t,e,a){"use strict";var r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search"},[t.isShow?a("div",{staticClass:"content"},[a("el-form",{ref:"form",staticStyle:{overflow:"hidden",width:"100%"},attrs:{model:t.data,"label-width":"110px"}},t._l(t.config,function(e,r){return a("el-col",{key:r,attrs:{span:6}},[a("el-form-item",{staticStyle:{height:"46px"},attrs:{label:e.label,size:"mini"}},["radioButton"==e.type?a("el-radio-group",{staticStyle:{width:"100%"},on:{change:function(a){t.handler(e.field,t.data[e.field])}},model:{value:t.data[e.field],callback:function(a){t.$set(t.data,e.field,a)},expression:"data[item.field]"}},t._l(e.childrens,function(e,r){return a("el-radio-button",{key:e.value,attrs:{label:e.value}},[t._v(t._s(e.name))])})):t._e(),t._v(" "),"input"!=e.type&&e.type?t._e():a("el-input",{staticStyle:{width:"100%"},model:{value:t.data[e.field],callback:function(a){t.$set(t.data,e.field,a)},expression:"data[item.field]"}}),t._v(" "),"searchInput"==e.type?a("el-autocomplete",{staticStyle:{width:"100%"},attrs:{"fetch-suggestions":e.searchMethod},on:{select:t.handleSelect},model:{value:t.data[e.field],callback:function(a){t.$set(t.data,e.field,a)},expression:"data[item.field]"}}):t._e(),t._v(" "),"year"==e.type?a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:e.type,"value-format":"yyyy"},model:{value:t.data[e.field],callback:function(a){t.$set(t.data,e.field,a)},expression:"data[item.field]"}}):t._e(),t._v(" "),"month"==e.type?a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:e.type,"value-format":"yyyy-MM"},model:{value:t.data[e.field],callback:function(a){t.$set(t.data,e.field,a)},expression:"data[item.field]"}}):t._e(),t._v(" "),"daterange"==e.type||"date"==e.type?a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:e.type,"value-format":"yyyy-MM-dd"},model:{value:t.data[e.field],callback:function(a){t.$set(t.data,e.field,a)},expression:"data[item.field]"}}):t._e(),t._v(" "),"datetimerange"==e.type||"datetime"==e.type?a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:e.type,"value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:t.data[e.field],callback:function(a){t.$set(t.data,e.field,a)},expression:"data[item.field]"}}):t._e(),t._v(" "),"radio"==e.type?a("el-radio-group",{staticStyle:{width:"100%"},model:{value:t.data[e.field],callback:function(a){t.$set(t.data,e.field,a)},expression:"data[item.field]"}},t._l(e.childrens,function(r,o){return a("el-radio",{key:o,style:{color:r.color},attrs:{border:"",label:e.prop?r[e.prop.value]:r.value}},[t._v(t._s(e.prop?r[e.prop.label]:r.label))])})):t._e(),t._v(" "),"checkbox"==e.type?a("el-checkbox-group",{staticStyle:{width:"100%"},attrs:{max:e.max},model:{value:t.data[e.field],callback:function(a){t.$set(t.data,e.field,a)},expression:"data[item.field]"}},t._l(e.childrens,function(r,o){return a("el-checkbox",{key:e.prop?r[e.prop.value]:r.value,style:{color:r.color},attrs:{border:"",label:e.prop?r[e.prop.value]:r.value}},[t._v(t._s(e.prop?r[e.prop.label]:r.label))])})):t._e(),t._v(" "),"number"==e.type?a("el-input-number",{staticStyle:{width:"100%"},attrs:{min:e.min,max:e.max,controls:e.isControls,"controls-position":e.controlPos},model:{value:t.data[e.field],callback:function(a){t.$set(t.data,e.field,a)},expression:"data[item.field]"}}):t._e(),t._v(" "),"select"==e.type?a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",filterable:e.filterable},model:{value:t.data[e.field],callback:function(a){t.$set(t.data,e.field,a)},expression:"data[item.field]"}},t._l(e.childrens,function(t,r){return a("el-option",{key:r,attrs:{label:e.prop?t[e.prop.label]:t.label,value:e.prop?t[e.prop.value]:t.value}})})):t._e(),t._v(" "),"cascader"==e.type?a("el-cascader",{staticStyle:{width:"100%"},attrs:{clearable:"","change-on-select":"",options:e.childrens,props:e.prop},model:{value:t.data[e.field],callback:function(a){t.$set(t.data,e.field,a)},expression:"data[item.field]"}}):t._e()],1)],1)})),t._v(" "),a("div",{staticClass:"search-btns",staticStyle:{"font-size":"14px","line-height":"34px"}},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:t.search}},[t._v("查询")])],1)],1):t._e()])},staticRenderFns:[]};e.a=r},oWPS:function(t,e){},oeNB:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=a("Cs0b"),l=a("pP8n"),i=(r=l)&&r.__esModule?r:{default:r},n=a("xNeC");e.default={data:function(){return{form:{bomNo:"",prodMess:""},tableData:[],list:[{field:"voucherNo",label:"单据号",status:[1,3]},{field:"bomNo",label:"BOM编号",status:[1,3]},{field:"productName",label:"产品信息",status:[1,2,3],type:"select",childrens:[]},{field:"mattersName",label:"物料信息",status:[1,2,3]},{field:"makeEmp",label:"申请人",status:[1,2]},{field:"makeDate",label:"申请日期",status:[1,2]},{field:"voucherStatus",label:"单据状态",status:[1,2]}],row:"",listUrl:"/bomChangeApply/page",addUrl:"/productStore/add",delUrl:"/productStore/del",editUrl:"/productStore/upd",detailConfig:{title:"查看详情",dialogVisible:!1,width:"1000px",btnData:[{name:"保存",type:"primary",method:"checkSubmit"},{name:"取消",method:"checkCancel",bgColor:"dialog-deep-blue"}],btnStatus:[!0,!0,!0]},toastConfig:{title:"变更申请",dialogVisible:!1,width:"400px",btnData:[{name:"保存",type:"primary",method:"submit"},{name:"取消",method:"cancel",bgColor:"dialog-deep-blue"}],btnStatus:[!0,!0,!0]}}},methods:{rowClass:function(t){t.row;var e=t.rowIndex;return console.log(e),"background:#E5E5E5"},optionProduct:function(){var t=this;(0,n.optionProduct)({}).then(function(e){t.toastList1=e,e.forEach(function(e){t.list[2].childrens.push({label:e.prodName,value:e.prodNo})})})},request:function(){this.toastConfig.dialogVisible=!0},submit:function(t){this.toastConfig.dialogVisible=!1,this.$refs.ruleForm.submit(t)},cancel:function(){this.toastConfig.dialogVisible=!1},checkCancel:function(){this.detailConfig.dialogVisible=!1},checkSubmit:function(){this.detailConfig.dialogVisible=!1},detailView:function(t){this.detailConfig.dialogVisible=!0,console.log(t,"00000000000000"),this.row=t},check:function(t){var e=this;(0,n.approve)({voucherNo:t.voucherNo}).then(function(a){t.voucherStatus="已通过",e.$message({message:"审核成功",type:"success"})})}},mounted:function(){this.optionProduct()},components:{Template:o.Template,myToast:i.default}}},p7fw:function(t,e){},pP8n:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("nmk2"),o=a.n(r);for(var l in r)"default"!==l&&function(t){a.d(e,t,function(){return r[t]})}(l);var i=a("nmtp");var n=function(t){a("Z45v")},s=a("C7Lr")(o.a,i.a,!1,n,null,null);e.default=s.exports},"pZd+":function(t,e){},pk0m:function(t,e,a){"use strict";var r={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"loading",style:this.isFixed?"position:fixed":"position:absolute"},[this._m(0)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loading-icon"},[e("span",{staticClass:"loading_1"}),this._v(" "),e("span",{staticClass:"loading_2"}),this._v(" "),e("span",{staticClass:"loading_3"}),this._v(" "),e("span",{staticClass:"loading_4"})])}]};e.a=r},puPY:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("oAkv"),o=a.n(r);for(var l in r)"default"!==l&&function(t){a.d(e,t,function(){return r[t]})}(l);var i=a("uR0c");var n=function(t){a("ylsJ")},s=a("C7Lr")(o.a,i.a,!1,n,null,null);e.default=s.exports},qL1G:function(t,e){},qTUf:function(t,e){},qiKs:function(t,e){},r2Hw:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("yrxU"),o=a.n(r);for(var l in r)"default"!==l&&function(t){a.d(e,t,function(){return r[t]})}(l);var i=a("tQb0");var n=function(t){a("GgIh")},s=a("C7Lr")(o.a,i.a,!1,n,"data-v-6c1e4d16",null);e.default=s.exports},r4QK:function(t,e,a){"use strict";var r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"myTemplate"},[!t.needSearch||1!=t.config.searchType&&t.config.searchType?t._e():a("search",{attrs:{config:t.searchList,data:t.searchForm},on:{search:t.search}}),t._v(" "),t.needSearch&&2==t.config.searchType?a("show-search",{attrs:{config:t.searchList,data:t.searchForm},on:{search:t.search}}):t._e(),t._v(" "),t._t("other"),t._v(" "),a("div",{class:t.tableClass},[a("div",{staticClass:"clear toolbar"},[a("div",{staticClass:"toolright"},[a("span",[t._t("rSlot")],2)]),t._v(" "),a("div",{staticClass:"toolleft"},[t._t("l_rSlot"),t._v(" "),1==t.defaultBtn[0]?a("el-button",{attrs:{loading:t.loading,size:"mini",icon:"el-icon-plus",type:"primary"},on:{click:t.add}},[t._v("新增")]):t._e(),t._v(" "),1==t.defaultBtn[1]?a("el-button",{attrs:{loading:t.loading,size:"mini",icon:"el-icon-edit",disabled:1!=t.selectData.length},on:{click:function(e){t.edit(t.selectData[0])}}},[t._v("编辑")]):t._e(),t._v(" "),1==t.defaultBtn[2]?a("el-button",{attrs:{loading:t.loading,size:"mini",icon:"el-icon-delete",disabled:t.selectData.length<1},on:{click:t.handlerDel}},[t._v("批量删除")]):t._e(),t._v(" "),t._t("lSlot")],2)]),t._v(" "),a("div",{staticStyle:{padding:"0 20px"}},[a("my-table",{attrs:{col:t.tableList,tableConfig:t.config,tableData:t.tableData,pageConfig:t.pageConfig},on:{select:t.select,pageChange:t.getList},scopedSlots:t._u([{key:"default",fn:function(e){return[t._t("default",[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.detail(e.row)}}},[t._v("查看详情")])],{row:e.row})]}}])})],1)]),t._v(" "),t.toastConfig.dialogVisible?a("toast",{attrs:{config:t.toastConfig,type:t.type},on:{saveAagin:t.saveAagin,submit:t.submit,cancel:t.cancel,handleClose:t.close}},[a("el-form",{ref:"ruleForm",attrs:{model:t.formData,rules:t.rules,"label-width":"120px",size:"small"}},[a("el-row",t._l(t.dialogList,function(e,r){return a("el-col",{key:e.field,attrs:{span:t.type}},[a("el-form-item",{staticStyle:{height:"42px"},attrs:{label:e.label+" :",prop:e.field}},["detail"==t.currentOperate?a("div",[a("span",["select"==e.type||"radio"==e.type?a("small",[t._v(t._s(t.getSelectDate(t.formData[e.field],e)))]):""==t.formData[e.field]||void 0==t.formData[e.field]?a("small",[t._v(t._s(t.formData[e.field]))]):t.formData[e.field].constructor==Array&&"numRange"!=e.type&&"cascader"!=e.type?a("small",[t._v(t._s(t.getDate(t.data[e.field])))]):t.formData[e.field].constructor==Array&&"cascader"==e.type?a("small",[t._v(t._s(t.getCascader(t.formData[e.field],e.childrens)))]):(t.formData[e.field].constructor,Date,a("small",[t._v(t._s(t.formData[e.field]))]))])]):a("div",["textarea"==e.type?a("el-input",{attrs:{type:"textarea",resize:"none",placeholder:e.placeholder,disabled:e.disabled},on:{change:function(a){t.handlerChange(e.field,e.changeEvent)}},model:{value:t.formData[e.field],callback:function(a){t.$set(t.formData,e.field,a)},expression:"formData[item.field]"}}):t._e(),t._v(" "),"input"!=e.type&&e.type?t._e():a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:e.placeholder,disabled:e.disabled},on:{change:function(a){t.handlerChange(e.field,e.changeEvent)}},model:{value:t.formData[e.field],callback:function(a){t.$set(t.formData,e.field,a)},expression:"formData[item.field]"}}),t._v(" "),"searchInput"==e.type?a("el-autocomplete",{staticStyle:{width:"100%"},attrs:{placeholder:e.placeholder,disabled:e.disabled,"fetch-suggestions":e.searchMethod},on:{change:function(a){t.handlerChange(e.field,e.changeEvent)},select:t.handleSelect},model:{value:t.formData[e.field],callback:function(a){t.$set(t.formData,e.field,a)},expression:"formData[item.field]"}}):t._e(),t._v(" "),"year"==e.type?a("el-date-picker",{staticStyle:{width:"100%"},attrs:{placeholder:e.placeholder,disabled:e.disabled,type:e.type,"value-format":"yyyy"},on:{change:function(a){t.handlerChange(e.field,e.changeEvent)}},model:{value:t.formData[e.field],callback:function(a){t.$set(t.formData,e.field,a)},expression:"formData[item.field]"}}):t._e(),t._v(" "),"month"==e.type?a("el-date-picker",{staticStyle:{width:"100%"},attrs:{placeholder:e.placeholder,disabled:e.disabled,type:e.type,"value-format":"yyyy-MM"},on:{change:function(a){t.handlerChange(e.field,e.changeEvent)}},model:{value:t.formData[e.field],callback:function(a){t.$set(t.formData,e.field,a)},expression:"formData[item.field]"}}):t._e(),t._v(" "),"daterange"==e.type||"date"==e.type?a("el-date-picker",{staticStyle:{width:"100%"},attrs:{placeholder:e.placeholder,disabled:e.disabled,type:e.type,"value-format":"yyyy-MM-dd"},on:{change:function(a){t.handlerChange(e.field,e.changeEvent)}},model:{value:t.formData[e.field],callback:function(a){t.$set(t.formData,e.field,a)},expression:"formData[item.field]"}}):t._e(),t._v(" "),"datetimerange"==e.type||"datetime"==e.type?a("el-date-picker",{staticStyle:{width:"100%"},attrs:{placeholder:e.placeholder,disabled:e.disabled,type:e.type,"value-format":"yyyy-MM-dd HH:mm:ss"},on:{change:function(a){t.handlerChange(e.field,e.changeEvent)}},model:{value:t.formData[e.field],callback:function(a){t.$set(t.formData,e.field,a)},expression:"formData[item.field]"}}):t._e(),t._v(" "),"radio"==e.type?a("el-radio-group",{staticStyle:{width:"100%"},attrs:{disabled:e.disabled},on:{change:function(a){t.handlerChange(e.field,e.changeEvent)}},model:{value:t.formData[e.field],callback:function(a){t.$set(t.formData,e.field,a)},expression:"formData[item.field]"}},t._l(e.childrens,function(r,o){return a("el-radio",{key:o,style:{color:r.color},attrs:{label:e.prop?r[e.prop.value]:r.value}},[t._v(t._s(e.prop?r[e.prop.label]:r.label))])})):t._e(),t._v(" "),"checkbox"==e.type?a("el-checkbox-group",{staticStyle:{width:"100%"},attrs:{max:e.max,disabled:e.disabled},on:{change:function(a){t.handlerChange(e.field,e.changeEvent)}},model:{value:t.formData[e.field],callback:function(a){t.$set(t.formData,e.field,a)},expression:"formData[item.field]"}},t._l(e.childrens,function(r,o){return a("el-checkbox",{key:e.prop?r[e.prop.value]:r.value,style:{color:r.color},attrs:{label:e.prop?r[e.prop.value]:r.value}},[t._v(t._s(e.prop?r[e.prop.label]:r.label))])})):t._e(),t._v(" "),"number"==e.type?a("el-input-number",{staticStyle:{width:"100%"},attrs:{disabled:e.disabled,min:e.min,max:e.max,controls:!1,"controls-position":e.controlPos},on:{change:function(a){t.handlerChange(e.field,e.changeEvent)}},model:{value:t.formData[e.field],callback:function(a){t.$set(t.formData,e.field,a)},expression:"formData[item.field]"}}):t._e(),t._v(" "),"select"==e.type?a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:e.placeholder,disabled:e.disabled,clearable:"",filterable:e.filterable},on:{change:function(a){t.handlerChange(e.field,e.changeEvent)}},model:{value:t.formData[e.field],callback:function(a){t.$set(t.formData,e.field,a)},expression:"formData[item.field]"}},t._l(e.childrens,function(t,r){return a("el-option",{key:r,attrs:{label:e.prop?t[e.prop.label]:t.label,value:e.prop?t[e.prop.value]:t.value}})})):t._e(),t._v(" "),"cascader"==e.type?a("el-cascader",{staticStyle:{width:"100%"},attrs:{placeholder:e.placeholder,disabled:e.disabled,clearable:"","change-on-select":"",options:e.childrens,props:e.prop},on:{change:function(a){t.handlerChange(e.field,e.changeEvent)}},model:{value:t.formData[e.field],callback:function(a){t.$set(t.formData,e.field,a)},expression:"formData[item.field]"}}):t._e()],1)])],1)}))],1)],1):t._e()],2)},staticRenderFns:[]};e.a=r},rQ5q:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("Blki"),o=a.n(r);for(var l in r)"default"!==l&&function(t){a.d(e,t,function(){return r[t]})}(l);var i=a("xVsk");var n=function(t){a("1tkQ")},s=a("C7Lr")(o.a,i.a,!1,n,null,null);e.default=s.exports},rbjw:function(t,e,a){"use strict";var r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Template",{ref:"template",attrs:{list:t.list,listUrl:t.listUrl,addUrl:t.addUrl,detailUrl:t.detailUrl,delUrl:t.delUrl,editUrl:t.editUrl,config:{isOperate:!0,isSelection:!1,isOrder:!1,isPage:!0,dataFromSever:!1},needSearch:!0,searchData:{intype:"123123"},defaultBtn:[!1,!1,!1]},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticStyle:{margin:"0 auto",width:"120px"}},[a("div",{staticStyle:{float:"left"}},[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.detail(e.row)}}},[t._v("查看详情")])],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"已通过"!==e.row.label&&"已驳回"!==e.row.label,expression:"scope.row.label!=='已通过'&&scope.row.label!=='已驳回'"}],staticStyle:{float:"right"}},[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.approval(e.row)}}},[t._v("审批")])],1)])]}}])}),t._v(" "),a("plmToast",{attrs:{config:t.detailConfig,width:"900px"},on:{checkCancel:t.checkCancel}},[a("div",{staticClass:"myToast1"},[a("el-table",{staticStyle:{width:"100%","text-align":"center"},attrs:{"header-cell-style":t.rowClass,data:t.detailData,"show-header:true":""}},[a("el-table-column",{attrs:{prop:"prodNo",label:"产品编码",width:"80"},model:{value:t.detailData.prodNo,callback:function(e){t.$set(t.detailData,"prodNo",e)},expression:"detailData.prodNo"}}),t._v(" "),a("el-table-column",{attrs:{prop:"midProdMsg",label:"半成品信息",width:"160"},model:{value:t.detailData.prodNo,callback:function(e){t.$set(t.detailData,"prodNo",e)},expression:"detailData.prodNo"}}),t._v(" "),a("el-table-column",{attrs:{prop:"crafworkName",label:"工艺名称",width:"80"},model:{value:t.detailData.crafworkName,callback:function(e){t.$set(t.detailData,"crafworkName",e)},expression:"detailData.crafworkName"}}),t._v(" "),a("el-table-column",{attrs:{prop:"changeFlag",label:"修改类型",width:"150"},model:{value:t.detailData.changeFlag,callback:function(e){t.$set(t.detailData,"changeFlag",e)},expression:"detailData.changeFlag"}}),t._v(" "),a("el-table-column",{attrs:{prop:"changeItem",label:"修改项目",width:"90"},model:{value:t.detailData.changeItem,callback:function(e){t.$set(t.detailData,"changeItem",e)},expression:"detailData.changeItem"}}),t._v(" "),a("el-table-column",{attrs:{prop:"oldValue",label:"旧值",width:"70"},model:{value:t.detailData.oldValue,callback:function(e){t.$set(t.detailData,"oldValue",e)},expression:"detailData.oldValue"}}),t._v(" "),a("el-table-column",{attrs:{prop:"newValue",label:"新值",width:"70"},model:{value:t.detailData.newValue,callback:function(e){t.$set(t.detailData,"newValue",e)},expression:"detailData.newValue"}}),t._v(" "),a("el-table-column",{attrs:{prop:"changeEmp",label:"修改人",width:"150"},model:{value:t.detailData.changeEmp,callback:function(e){t.$set(t.detailData,"changeEmp",e)},expression:"detailData.changeEmp"}})],1)],1)]),t._v(" "),a("plmToast",{attrs:{config:t.approlConfig}},[a("div",{staticStyle:{width:"300px","margin-left":"80px"}},[a("el-button",{staticStyle:{width:"90px"},attrs:{type:"primary"},on:{click:t.isPass}},[t._v(" 通过")]),t._v(" "),a("el-button",{staticStyle:{"margin-left":"45px"},attrs:{type:"primary"},on:{click:t.failPass}},[t._v("不通过")])],1)])],1)},staticRenderFns:[]};e.a=r},rpGh:function(t,e,a){"use strict";var r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"poc-page"},[a("poc-header",{ref:"headMenu",attrs:{pocHeaderData:t.pageData.pocHeaderData},on:{headerBack:t.headerBack}}),t._v(" "),a("div",{staticClass:"poc-page-main clearfix"},[t.isSidebar?a("sidebar",{ref:"sidebar",attrs:{config:t.sidebarData},on:{slideBack:t.slideBack}}):t._e(),t._v(" "),a("div",{staticClass:"poc-page-body",class:t.sidebarData.visible?"left-go":"left-back"},[a("div",{staticClass:"bread-crumbs"},[a("p",[t._v(t._s(t.setTitle))]),t._v(" "),a("h1",[t._v(t._s(t.h1))])]),t._v(" "),a("div",{staticClass:"page-content"},[a("router-view")],1)])],1)],1)},staticRenderFns:[]};e.a=r},s44Q:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("uqnR"),o=a.n(r);for(var l in r)"default"!==l&&function(t){a.d(e,t,function(){return r[t]})}(l);var i=a("oD9S");var n=function(t){a("72BU")},s=a("C7Lr")(o.a,i.a,!1,n,"data-v-2eaa37b0",null);e.default=s.exports},"sB+8":function(t,e,a){"use strict";var r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.sidebar,staticStyle:{height:"100%",width:"260px",position:"relative",transition:"all .5s"}},[a("div",{staticClass:"menu_nav_collapse"},[a("div",{staticClass:"menu-slide-header"},[a("span",[t._v(t._s(t.config.title))])]),t._v(" "),a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":t.config.path,"background-color":"#001529","text-color":"#fff",router:"","active-text-color":"white"}},[t._l(t.config.data,function(e,r){return[e.chlid?a("el-submenu",{attrs:{index:e.router}},[a("template",{slot:"title"},[a("span",[t._v(t._s(e.name))])]),t._v(" "),a("el-menu-item-group",t._l(e.chlid,function(r,o){return a("el-menu-item",{key:o,attrs:{index:r.router},on:{click:function(a){t.router(e,r)}}},[t._v(t._s(r.name))])}))],2):a("el-menu-item",{attrs:{index:e.router},on:{click:function(a){t.router(e)}}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.name))])])]})],2)],1),t._v(" "),a("span",{staticClass:"el-icon-d-arrow-left",class:t.menuDrag,on:{click:t.goback}})])},staticRenderFns:[]};e.a=r},sEFh:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=a("4YfN"),l=(r=o)&&r.__esModule?r:{default:r},i=a("9rMa");e.default={name:"app",data:function(){return{msg:"Welcome to Your Vue.js App"}},props:["userName","userImg","companyName","companyEnglish","companyLogo","uploadUrl"],computed:(0,l.default)({},(0,i.mapGetters)(["getIsLoading"])),methods:(0,l.default)({},(0,i.mapMutations)(["setUserImg","setUserName","setCompanyName","setCompanyEnglish","setCompanyLogo","setPorts","setUploadUrl"])),mounted:function(){this.setUserImg(this.userImg),this.setUserName(this.userName),this.setCompanyName(this.companyName),this.setCompanyEnglish(this.companyEnglish),this.setCompanyLogo(this.companyLogo),this.setUploadUrl(this.uploadUrl),this.$router.push({path:"/index"})}}},"sG+p":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getRecord=e.enDis=e.getMsg=e.review=e.del=e.upd=e.add=e.carftWorkMac=e.addOutput=e.findOutput=e.addMacPlm=e.findMacPlm=e.getMac=e.getRunTotal=e.addInput=e.getMatter=e.findInput=e.prodDropDown=e.upStruct=e.editParams=e.addParam=e.delParam=e.addParamGet=e.getParam=e.addStruct=e.addCrafwor=e.crafworkQuarter=e.optionDevType=e.addCraGet=e.delStruct=e.getPoolList=e.setRouter=e.getNode=e.getRootNode=void 0;var r,o=a("Dod7"),l=(r=o)&&r.__esModule?r:{default:r};e.getRootNode=function(t){return l.default.post("prodCrafPath/prodDrop",t)},e.getNode=function(t){return l.default.post("prodCrafPath/prodDropDown",t)},e.setRouter=function(t){return l.default.post("prodCrafPath/addPathNo",t)},e.getPoolList=function(t){return l.default.post("prodCrafPath/crafworkStruct",t)},e.delStruct=function(t){return l.default.post("prodCrafPath/delStruct",t)},e.addCraGet=function(t){return l.default.post("prodCrafPath/addCraGet",t)},e.optionDevType=function(){return l.default.post("carfwork/optionDevType",{})},e.crafworkQuarter=function(){return l.default.post("carfwork/crafworkQuarter",{})},e.addCrafwor=function(t){return l.default.post("carfwork/addCrafwork",t)},e.addStruct=function(t){return l.default.postJson("prodCrafPath/addStruct",t)},e.getParam=function(t){return l.default.postJson("prodCrafPath/crafworkParam",t)},e.addParamGet=function(t){return l.default.postJson("prodCrafPath/addParamGet",t)},e.delParam=function(t){return l.default.postJson("prodCrafPath/delParam",t)},e.addParam=function(t){return l.default.postJson("carfwork/addParam",t)},e.editParams=function(t){return l.default.postJson("prodCrafPath/addParam",t)},e.upStruct=function(t){return l.default.postJson("prodCrafPath/upStruct",t)},e.prodDropDown=function(t){return l.default.post("prodCrafPath/prodDropDown",t)},e.findInput=function(t){return l.default.postJson("input/findInput",t)},e.getMatter=function(t){return l.default.postJson("bomDetail/getMatter",t)},e.addInput=function(t){return l.default.postJson("input/addInput",t)},e.getRunTotal=function(){return l.default.postJson("prodMac/getRunTotal",{})},e.getMac=function(t){return l.default.postJson("prodMac/getMac",t)},e.findMacPlm=function(t){return l.default.postJson("prodMac/findMacPlm",t)},e.addMacPlm=function(t){return l.default.postJson("prodMac/addMacPlm",t)},e.findOutput=function(t){return l.default.postJson("output/findOutput",t)},e.addOutput=function(t){return l.default.postJson("output/addOutput",t)},e.carftWorkMac=function(t){return l.default.postJson("resource/get",t)},e.add=function(t){return l.default.postJson("resource/add",t)},e.upd=function(t){return l.default.postJson("resource/upd",t)},e.del=function(t){return l.default.postJson("resource/del",t)},e.review=function(t){return l.default.postJson("voucher/submit",t)},e.getMsg=function(t){return l.default.postJson("voucher/getMsg",t)},e.enDis=function(t){return l.default.postJson("voucher/enDis",t)},e.getRecord=function(t){return l.default.postJson("changeRe/getRecord",t)}},sLGZ:function(t,e){},t5Fe:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=c(a("hRKE")),o=c(a("HzJ8")),l=c(a("4YfN")),i=c(a("aA9S")),n=c(a("a3Yh")),s=a("mFIW"),d=a("vjT+");function c(t){return t&&t.__esModule?t:{default:t}}e.default={data:function(){var t;return t={operateType:"",needOperate:!0,voucherNo:"",bomStatus:"",leaf:""},(0,n.default)(t,"bomStatus",""),(0,n.default)(t,"mattersName",""),(0,n.default)(t,"mattersNo",""),(0,n.default)(t,"versions",""),(0,n.default)(t,"bomNo",""),(0,n.default)(t,"page",!1),(0,n.default)(t,"mattersNo",null),(0,n.default)(t,"formData",{allInfo:"",amount:"",backMattersInfo:"",deleted:"",id:-1,mattersInfo:"",unit:"",plmDesc:"",backupMatter:""}),(0,n.default)(t,"formData1",{}),(0,n.default)(t,"tableData",[]),(0,n.default)(t,"ruleForm",{bomStatus:"",bomNo:"",materielMsg:"",versions:"",makeDate:"",makeEmp:"",prodMes:"",voucherStatus:"",mattersName:""}),(0,n.default)(t,"currentMatterNo",""),(0,n.default)(t,"backupMatterList",[]),(0,n.default)(t,"bomStatus",!0),(0,n.default)(t,"selectData",[]),(0,n.default)(t,"searchData",{}),(0,n.default)(t,"searchConfig",[[{label:"物料信息",field:"mattersName",type:"select",filterable:!0,clearable:!1,placeholder:"请选择或者输入",method:"path",childrens:[]}]]),(0,n.default)(t,"toastConfig",{title:"新增",dialogVisible:!1,width:"440px",btnData:[{name:"保存",type:"primary",method:"submit"},{name:"取消",method:"cancel",bgColor:"dialog-deep-blue"}],btnStatus:[!0,!0,!0]}),(0,n.default)(t,"addToastConfig",{title:"添加物料",dialogVisible:!1,btnData:[{type:"primary",method:"sure",name:"保存"},{type:"",method:"cancel",name:"取消"}],btnStatus:[!0,!0,!0]}),(0,n.default)(t,"changeToastConfig",{title:"修改公共组件BOM",width:"1000px",dialogVisible:!1,btnData:[{type:"primary",method:"changeSubmit",name:"保存"},{type:"primary",method:"changeCancel",name:"取消"}],btnStatus:[!0,!0,!0]}),(0,n.default)(t,"editToastConfig",{title:"编辑",dialogVisible:!1,btnData:[{type:"primary",method:"sure",name:"保存"},{type:"",method:"cancel",name:"取消"}],btnStatus:[!0,!0,!0]}),(0,n.default)(t,"loading",!1),(0,n.default)(t,"list",[]),(0,n.default)(t,"materielMsg",{code:""}),(0,n.default)(t,"columns",[{text:"物料编码/名称",dataIndex:"mattersInfo",type:"text",align:"left",width:"300px"},{text:"规格/型号/参数",dataIndex:"allInfo",align:"left",type:"text",width:"160px"},{text:"物料版本号",align:"left",dataIndex:"versions",type:"text",width:"130px"},{text:"用量",align:"left",type:"number",dataIndex:"amount",method:"change"},{text:"单位",align:"left",dataIndex:"unit",type:"text"},{text:"物料要求",dataIndex:"plmDesc",align:"left",type:"text"},{text:"备用物料",type:"text",align:"left",dataIndex:"backMattersInfo"}]),(0,n.default)(t,"columns2",[{text:"物料编码/名称",dataIndex:"mattersInfo",type:"text",width:"200px"},{text:"规格/型号/参数",dataIndex:"allInfo",type:"text",width:"160px"},{text:"物料版本号",dataIndex:"versions",type:"text",width:"130px"},{text:"用量",type:"number",dataIndex:"amount"},{text:"单位",dataIndex:"unit",type:"text"},{text:"物料要求",dataIndex:"plmDesc",type:"text"},{text:"备用物料",type:"text",dataIndex:"backMattersInfo"}]),(0,n.default)(t,"dataSource",[]),(0,n.default)(t,"ruleForm2",{}),(0,n.default)(t,"dataSource2",[]),t},methods:{changeSubmit:function(){var t=this;console.log(this.$refs.treeGrid2.data);var e=(0,i.default)([],this.$refs.treeGrid2.data),a=(0,i.default)({},this.ruleForm);delete a.makeDate,console.log(a,"form");var r=!0,n=!1,s=void 0;try{for(var c,u=(0,o.default)(e);!(r=(c=u.next()).done);r=!0){var f=c.value;delete f._expanded,delete f._loaded,delete f._loading,delete f._show,delete f.children,delete f._level,delete f._parent}}catch(t){n=!0,s=t}finally{try{!r&&u.return&&u.return()}finally{if(n)throw s}}(0,d.upGradeCommonBom)((0,l.default)({},a,{mattersNo:this.mattersNo,mattersStoreDtos:e})).then(function(e){t.changeToastConfig.dialogVisible=!1,t.searchList(),t.$message.success("保存成功")}),this.changeToastConfig.dialogVisible=!1},changeCancel:function(){this.changeToastConfig.dialogVisible=!1},changeBom:function(){var t=this;(0,d.beforeUpDateBom)({versions:this.versions,bomNo:this.bomNo,bomStatus:this.bomStatus,leaf:this.leaf,makeEmp:this.makeEmp,mattersName:this.mattersName,mattersNo:this.mattersNo}).then(function(e){t.ruleForm2.bomNo=e.bomNo,t.ruleForm2.mattersName=e.mattersName,t.ruleForm2.makeDate=e.makeDate,t.ruleForm2.makeEmp=e.makeEmp,t.ruleForm2.versions=e.versions,t.ruleForm2.bomStatus=e.bomStatus,t.ruleForm2.voucherStatus=e.voucherStatus,t.dataSource2=e.mattersStoreDtos,t.changeToastConfig.dialogVisible=!0})},backupMatterChange:function(t){var e=this.backupMatterList.findIndex(function(e){return e.mattersNo==t});this.$set(this.formData,"backMattersInfo",this.backupMatterList[e].mattersName)},editSure:function(){var t=this;this.$refs.materielForm.validate(function(e){if(!e)return console.log("error submit!!"),!1;if("table2"==t.operateType)t.editToastConfig.dialogVisible=!1,t.formData.backUpMatterNo=t.formData.backupMatter,t.$refs.treeGrid.updateNode(t.currentRow,t.formData),t.editToastConfig.dialogVisible=!1;else{var a={id:t.formData.id,mattersNo:t.formData.mattersNo,amount:t.formData.amount,plmDesc:t.formData.plmDesc,backupMatter:t.formData.backupMatter};(0,d.updateMatter)(a).then(function(e){t.editToastConfig.dialogVisible=!1,t.formData.backUpMatterNo=t.formData.backupMatter;var a=t.backupMatterList.findIndex(function(e){return e.mattersNo==t.formData.backupMatter});t.formData.backMattersInfo=t.backupMatterList[a].mattersName,t.$refs.treeGrid.updateNode(t.currentRow,t.formData),t.$message.success("编辑成功"),t.editToastConfig.dialogVisible=!1})}})},editCancel:function(){this.editToastConfig.dialogVisible=!1},select:function(t){this.selectData=t},materielChange:function(t){this.tableData.push(JSON.parse(t)),this.list=[],this.materielMsg.code=""},addSure:function(){var t=this,e=[],a=function(a){if(!a.mattersNo||!a.amount||!a.backupMatter)return{v:t.$message.error("请填写完表格后再来提交")};a.backUpMatterNo=a.backupMatter,t.$set(a,"backMattersInfo",t.backupMatterList[t.backupMatterList.findIndex(function(t){return t.mattersNo==a.backupMatter})].mattersName),a.parentNo=t.mattersNo,e.push(a)},l=!0,i=!1,n=void 0;try{for(var s,c=(0,o.default)(this.tableData);!(l=(s=c.next()).done);l=!0){var u=a(s.value);if("object"===(void 0===u?"undefined":(0,r.default)(u)))return u.v}}catch(t){i=!0,n=t}finally{try{!l&&c.return&&c.return()}finally{if(i)throw n}}"table2"==this.operateType?(this.addToastConfig.dialogVisible=!1,this.changeToastConfig.dialogVisible=!0,e.forEach(function(e){e.leaf=!0,VAL.versions=t.ruleForm.versions,t.dataSource2.push(e)}),this.tableData=[],this.selectData=[]):(0,d.addMatters)(e).then(function(e){t.addToastConfig.dialogVisible=!1,e.forEach(function(e){e.leaf=!0,t.dataSource.push(e),t.tableData=[],t.selectData=[]}),t.$message.success("新增成功")})},handleDelete:function(){var t=this,e=function(e){s=t.tableData.findIndex(function(t){return t===e}),t.tableData.splice(s,1)},a=!0,r=!1,l=void 0;try{for(var i,n=(0,o.default)(this.selectData);!(a=(i=n.next()).done);a=!0){var s;e(i.value)}}catch(t){r=!0,l=t}finally{try{!a&&n.return&&n.return()}finally{if(r)throw l}}this.selectData=[]},addCancel:function(){this.addToastConfig.dialogVisible=!1,"table2"==this.operateType&&(this.changeToastConfig.dialogVisible=!0),this.tableData=[],this.selectData=[]},remoteMethod:function(t){var e=this;(0,d.SearchBeforeAddMatters)({codeOrName:t,parentNo:this.mattersNo}).then(function(t){e.list=t})},addMater:function(t){this.operateType=t,this.addToastConfig.dialogVisible=!0,this.changeToastConfig.dialogVisible=!1,this.materielMsg={code:""}},editMater:function(t,e){this.operateType=e,this.currentRow=t,this.formData={allInfo:t.allInfo,amount:t.amount,backMattersInfo:t.backMattersInfo,deleted:t.backMattersInfo,id:t.id,mattersInfo:t.mattersInfo,unit:t.unit,plmDesc:t.plmDesc,backupMatter:t.backUpMatterNo},this.editToastConfig.dialogVisible=!0},delMater:function(t){var e=this;this.currentRow=t,this.$confirm("此操作将永久删除该物料, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){(0,d.deleteMatters)({ids:t.id}).then(function(a){e.$refs.treeGrid.removeChild(t),e.$message({type:"success",message:"删除成功!"})})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},delMater2:function(t){this.$refs.treeGrid2.removeChild(t)},submit:function(t){var e=this;this.toastConfig.dialogVisible=!1,(0,d.addBom)({prodNo:this.currentMatterNo,bomNo:this.formData1.mattersName}).then(function(t){console.log,e.ruleForm.bomNo=t.bomNo,e.ruleForm.mattersName=t.mattersName,e.ruleForm.makeDate=t.makeDate,e.ruleForm.makeEmp=t.makeEmp,e.ruleForm.versions=t.versions,e.ruleForm.bomStatus=t.bomStatus,e.ruleForm.voucherStatus=t.voucherStatus,e.dataSource=t.mattersStoreDtos}),this.formData1.mattersName=""},approve:function(){var t=this;(0,d.commit2Approve)({bomCode:this.ruleForm.bomNo}).then(function(e){t.$message.success("审核已提交")})},cancel:function(){this.toastConfig.dialogVisible=!1},numberChange:function(t,e){var a=this;(0,d.changeNumber)({isMidProduct:!!e.midProdNo,id:e.id,number:e[t.dataIndex]}).then(function(t){a.$message.success("保存成功")})},searchList:function(t){var e=this;this.searchData.mattersName&&(0,d.findCommonBom)({mattersNo:this.searchData.mattersName}).then(function(t){e.currentMatterNo=e.searchData.mattersName,e.ruleForm.bomNo=t.bomNo,e.ruleForm.mattersName=t.mattersName,e.ruleForm.makeDate=t.makeDate,e.ruleForm.makeEmp=t.makeEmp,e.ruleForm.versions=t.versions,e.ruleForm.bomStatus=t.bomStatus,e.ruleForm.voucherStatus=t.voucherStatus,e.dataSource=t.mattersStoreDtos,e.versions=t.versions,e.bomNo=t.bomNo,e.bomStatus=t.bomStatus,e.leaf=t.leaf,e.makeEmp=t.bomStatus,e.mattersName=t.mattersName,e.mattersNo=t.mattersNo,e.voucherNo=t.voucherNo,""!==e.bomNo&&e.voucherNo?(e.needOperate=!1,e.columns[3].type="text"):""===e.bomNo||e.voucherNo||(e.needOperate=!0,e.columns[3].type="number")}).catch(function(t){e.toastConfig.dialogVisible=!0})},optionComponent:function(){var t=this;(0,d.optionComponent)({}).then(function(e){e.forEach(function(e){t.searchConfig[0][0].childrens.push({label:e.mattersName,value:e.mattersNo})})})},statusChange:function(t){var e=this;(0,d.startOrStopBom)({versions:this.ruleForm.versions,bomCode:this.ruleForm.bomNo}).then(function(t){e.$message.success("操作成功")})},add:function(t){t._loaded?t.children&&t.children.length>0?t.children.push({id:711,parentId:t.id,name:"测试71",age:27,sex:"男",leaf:!0}):(t.leaf=!1,this.$set(t,"children",[{id:227,parentId:t.id,name:"测试72",age:27,sex:"男",leaf:!0}])):(t._loaded=!1,t.leaf=!1)},edit:function(t){var e=this;findCraf({midProdNo:t.midProdNo,pathNo:t.pathNo}).then(function(a){e.selectRow=t,e.publicData.options=a,e.publicData.form=(0,i.default)({},t),console.log(e.publicData.form,"&&&&&&&&"),e.toastConfig.dialogVisible=!0})},del:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){var e=this;this.$confirm("此操作将永久删除该工艺, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){del({id:t.id}).then(function(a){e.$refs.productTreeGrid.removeChild(t),e.$message({type:"success",message:"删除成功!"})})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})}),loadNode:function(t,e){console.log(t),(0,d.findBomByPnoOrMpno2)({mpno:t.mattersNo,pNo:""}).then(function(t){e(t.mattersStoreDtos)})}},mounted:function(){var t=this;this.optionComponent(),(0,d.optionBomCodeAndProdName)({}).then(function(e){t.backupMatterList=e})},components:{productTreeGrid:s.productTreeGrid}}},tQb0:function(t,e,a){"use strict";var r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box"},[a("div",{staticClass:"minNum"},[a("el-input",{staticStyle:{width:"100%"},attrs:{size:"mini"},on:{change:t.handleMinChange},model:{value:t.value[0],callback:function(e){t.$set(t.value,0,e)},expression:"value[0]"}})],1),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"maxNum"},[a("el-input",{staticStyle:{width:"100%"},attrs:{size:"mini"},on:{change:t.handleMaxChange},model:{value:t.value[1],callback:function(e){t.$set(t.value,1,e)},expression:"value[1]"}})],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"center"},[e("span",[this._v("至")])])}]};e.a=r},tYqp:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(a("HzJ8")),o=a("Cs0b"),l=a("utiS"),i=s(a("yDZp")),n=s(a("GSr8"));function s(t){return t&&t.__esModule?t:{default:t}}e.default={data:function(){return{id:"",prodStatus:"",publicData:{prodStatus:"",options:[{label:"缺货",value:"缺货"},{label:"正常供货",value:"正常供货"},{label:"停产",value:"停产"},{label:"关闭",value:"关闭"}]},state1:"",list:[{field:"prodMsg",label:"产品信息",status:[1,3]},{field:"prodMess",label:"规格/参数/型号",status:[1]},{field:"prodNo",label:"产品编码",status:[2]},{field:"prodName",label:"产品名称",status:[2]},{field:"typeDesc",label:"所属分类",status:[1]},{field:"typeId",label:"所属分类",status:[2,3],type:"select",childrens:[]},{field:"param",label:"参数",status:[2]},{field:"modelDesc",label:"型号",status:[2]},{field:"norms",label:"规格",status:[2]},{field:"unit",label:"计量单位",status:[1,2]},{field:"patentNo",label:"专利号",status:[2]},{field:"versionNo",label:"版本号",status:[2]},{field:"level",label:"等级",status:[2]},{field:"material",label:"材质",status:[2]},{field:"factoryId",label:"生产场地",status:[2],type:"select",childrens:[]},{field:"prodStatus",label:"产品状态",status:[1,2,3],type:"select",childrens:[{label:"缺货",value:"缺货"},{label:"正常供货",value:"正常供货"},{label:"停产",value:"停产"},{label:"关闭",value:"关闭"}]},{field:"remark",label:"备注",status:[2]}],listUrl:"/productStore/pg",addUrl:"/productStore/add",delUrl:"/productStore/del",editUrl:"/productStore/upd",rules:{prodName:n.default.require("string","产品信息"),prodMess:n.default.require("string","规格/参数/型号"),prodNo:n.default.require("string","产品编码"),typeId:n.default.require("string","所属分类"),param:n.default.require("string","参数"),modelDesc:n.default.require("string","型号"),norms:n.default.require("string","规格"),unit:n.default.require("string","计量单位"),factoryId:n.default.require("string","生产场地"),prodStatus:n.default.require("string","产品状态")},toastConfig:{title:"状态维护",dialogVisible:!1,width:"440px",btnData:[{name:"保存",type:"primary",method:"submit"},{name:"取消",method:"cancel",bgColor:"dialog-deep-blue"}],btnStatus:[!0,!0,!0]}}},methods:{saveState:function(t,e){this.id=e,this.publicData.prodStatus=t.prodStatus,this.toastConfig.dialogVisible=!0},submit:function(t,e){var a=this;(0,l.state)({id:this.id,prodStatus:this.publicData.prodStatus},this).then(function(t){a.list[14].childrens.push({label:t.prodStatus,value:t.prodStatus})}),this.toastConfig.dialogVisible=!1,this.$refs.template.getList(t)},cancel:function(){this.toastConfig.dialogVisible=!1},handlerdetail:function(t){console.log(t),this.$refs.template.detail(t)},sefrty:function(){var t=this;(0,l.sefrty)({},this).then(function(e){var a=!0,o=!1,l=void 0;try{for(var i,n=(0,r.default)(e);!(a=(i=n.next()).done);a=!0){var s=i.value;t.list[5].childrens.push({label:s.label,value:s.value})}}catch(t){o=!0,l=t}finally{try{!a&&n.return&&n.return()}finally{if(o)throw l}}})},factory:function(){var t=this;(0,l.factory)({},this).then(function(e){console.log(e,"11111111111111");var a=!0,o=!1,l=void 0;try{for(var i,n=(0,r.default)(e);!(a=(i=n.next()).done);a=!0){var s=i.value;t.list[14].childrens.push({label:s.label,value:s.value})}}catch(t){o=!0,l=t}finally{try{!a&&n.return&&n.return()}finally{if(o)throw l}}})}},mounted:function(){this.sefrty(),this.factory()},components:{Template:o.Template,myToast:i.default}}},uR0c:function(t,e,a){"use strict";var r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"constituteBom"},[a("show-search",{attrs:{config:t.searchConfig,data:t.searchData},on:{path:t.pathChange,search:t.searchList}}),t._v(" "),a("div",{staticStyle:{margin:"40px 0 0"}},[a("h1",[t._v("基本信息")]),t._v(" "),a("el-form",{staticStyle:{"margin-top":"20px"},attrs:{"label-width":"120px",data:t.basicData,config:t.basicConfig,model:t.ruleForm}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"BOM编号 :"}},[t._v("\n            "+t._s(t.ruleForm.bomNo)+"\n          ")])],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"物料信息 :"}},[t._v("\n            "+t._s(t.ruleForm.mattersName)+"\n          ")])],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"版本号 :"}},[t._v("\n            "+t._s(t.ruleForm.versions)+"\n          ")])],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"BOM状态 :"}},[t._v("\n            "+t._s(t.ruleForm.bomStatus)+"\n          ")])],1)],1),t._v(" "),a("el-button",{staticStyle:{margin:"9px 10px"},attrs:{slot:"l_rSlot",type:"primary",size:"small"},slot:"l_rSlot"},[t._v(" 提交审核")])],1)],1),t._v(" "),a("div",[a("el-button",{attrs:{size:"mini",icon:"el-icon-plus",type:"primary",disabled:!t.ruleForm.bomNo},on:{click:t.add}},[t._v("新增")]),t._v(" "),a("el-button",{attrs:{size:"mini",icon:"el-icon-edit",disabled:!t.ruleForm.bomNo||1!=t.multipleSelection.length},on:{click:t.edit}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{size:"mini",icon:"el-icon-edit",disabled:!t.ruleForm.bomNo||t.multipleSelection.length<=0},on:{click:t.del}},[t._v("删除")])],1),t._v(" "),a("div",{staticClass:"myTable",staticStyle:{"margin-top":"5px","margin-bottom":"20px"}},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"tooltip-effect":"dark"},on:{select:t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"formulaNo",label:"配方编码"},model:{value:t.tableData.formulaNo,callback:function(e){t.$set(t.tableData,"formulaNo",e)},expression:"tableData.formulaNo"}}),t._v(" "),a("el-table-column",{attrs:{prop:"formulaName",label:"配方名称"},model:{value:t.tableData.formulaName,callback:function(e){t.$set(t.tableData,"formulaName",e)},expression:"tableData.formulaName"}}),t._v(" "),a("el-table-column",{attrs:{prop:"matterNo",label:"物料编码"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amount",label:"用量"},model:{value:t.tableData.amount,callback:function(e){t.$set(t.tableData,"amount",e)},expression:"tableData.amount"}}),t._v(" "),a("el-table-column",{attrs:{prop:"unit",label:"单位"},model:{value:t.tableData.unit,callback:function(e){t.$set(t.tableData,"unit",e)},expression:"tableData.unit"}}),t._v(" "),a("el-table-column",{attrs:{prop:"norms",label:"规格/参数/型号"},model:{value:t.tableData.norms,callback:function(e){t.$set(t.tableData,"norms",e)},expression:"tableData.norms"}})],1)],1),t._v(" "),a("plmToast",{attrs:{config:t.addConfig,width:"900px"},on:{checkCancel:t.checkCancel,checkSubmit:t.checkSubmit}},[a("div",[a("el-form",{ref:"ruleForm2",attrs:{"label-width":"120px",model:t.form,rules:t.rules}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"BOM编码"}},[t._v("\n              "+t._s(t.form.bomNo)+"\n            ")])],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"单位",prop:"unit"}},[a("el-input",{attrs:{size:"mini"},model:{value:t.form.unit,callback:function(e){t.$set(t.form,"unit",e)},expression:"form.unit"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"规格/参数/型号",prop:"norms"}},[a("el-input",{attrs:{size:"mini"},model:{value:t.form.norms,callback:function(e){t.$set(t.form,"norms",e)},expression:"form.norms"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"物料信息",prop:"matterNo"}},[a("el-select",{attrs:{placeholder:"请选择",size:"mini"},model:{value:t.form.matterNo,callback:function(e){t.$set(t.form,"matterNo",e)},expression:"form.matterNo"}},t._l(t.addData,function(t,e){return a("el-option",{key:e,attrs:{label:t.mattersName,value:t.mattersNo}})}))],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"配方编码",prop:"formulaNo"}},[a("el-input",{attrs:{size:"mini"},model:{value:t.form.formulaNo,callback:function(e){t.$set(t.form,"formulaNo",e)},expression:"form.formulaNo"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"用量",prop:"amount"}},[a("el-input",{attrs:{size:"mini"},model:{value:t.form.amount,callback:function(e){t.$set(t.form,"amount",e)},expression:"form.amount"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"配方名称",prop:"formulaName"}},[a("el-input",{attrs:{size:"mini"},model:{value:t.form.formulaName,callback:function(e){t.$set(t.form,"formulaName",e)},expression:"form.formulaName"}})],1)],1)],1)],1)],1)])],1)},staticRenderFns:[]};e.a=r},ukYY:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={setIsLoading:function(t,e){t.isLoading=e},setUserName:function(t,e){t.userName=e},setUserImg:function(t,e){t.userImg=e},setCompanyName:function(t,e){t.companyName=e},setCompanyEnglish:function(t,e){t.companyEnglish=e},setCompanyLogo:function(t,e){t.companyLogo=e},setUploadUrl:function(t,e){t.uploadUrl=e}}},uqnR:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=l(a("HzJ8")),o=l(a("3cXf"));function l(t){return t&&t.__esModule?t:{default:t}}e.default={data:function(){return{isShow:!0,initData:{}}},props:{data:{type:Object,default:{},required:!0},config:{type:Array,default:[],required:!0},defaultLabel:{type:String,default:"全部"}},created:function(){var t=!0,e=!1,a=void 0;try{for(var l,i=(0,r.default)(this.config);!(t=(l=i.next()).done);t=!0){var n=l.value,s=!0,d=!1,c=void 0;try{for(var u,f=(0,r.default)(n);!(s=(u=f.next()).done);s=!0){var m=u.value;"checkbox"!=m.type&&"cascader"!=m.type&&"numRange"!=m.type?this.data[m.field]||this.$set(this.data,m.field,null):"numRange"==m.type?this.data[m.field]||this.$set(this.data,m.field,[null,null]):this.data[m.field]||this.$set(this.data,m.field,[])}}catch(t){d=!0,c=t}finally{try{!s&&f.return&&f.return()}finally{if(d)throw c}}}}catch(t){e=!0,a=t}finally{try{!t&&i.return&&i.return()}finally{if(e)throw a}}this.initData=JSON.parse((0,o.default)(this.data))},components:{},methods:{handler:function(t,e){t&&this.$emit(t,e)},search:function(){this.$emit("search",this.data)},init:function(){for(var t in console.log(this.initData),this.data)this.data[t]=JSON.parse((0,o.default)(this.initData))[t]},handleSelect:function(t){this.$emit("handleSelect",t)},getDate:function(t){var e=[],a=!0,o=!1,l=void 0;try{for(var i,n=(0,r.default)(t);!(a=(i=n.next()).done);a=!0){var s=i.value;s.constructor,Date,e.push(s)}}catch(t){o=!0,l=t}finally{try{!a&&n.return&&n.return()}finally{if(o)throw l}}return e.join("至")},getRange:function(t){return null==t[0]&&null==t[1]?this.defaultLabel:null==t[0]&&null!=t[1]?"小于"+t[1]:null!=t[0]&&null==t[1]?"大于"+t[0]:"大于"+t[0]+"且小于"+t[1]},getCascader:function(t,e){var a=[],r=e;if(t.length>0){for(var o=0;o<t.length;o++){var l=r.findIndex(function(e){return e.value==t[o]});l>=0&&(a.push(r[l].label),void 0!=r[l].children&&(r=r[l].children))}return a.join("/")}return this.defaultLabel},getSelectDate:function(t,e){console.log(t,e,"1111111111111");var a=e.findIndex(function(e){return e.value==t});return a>=0?e[a].label:this.defaultLabel}}}},utiS:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.state=e.factory=e.sefrty=void 0;var r,o=a("Dod7"),l=(r=o)&&r.__esModule?r:{default:r};e.sefrty=function(t,e){return l.default.postFormData("/prodType/gt",t,e)},e.factory=function(t,e){return l.default.postFormData("/prodType/factoryList",t,e)},e.state=function(t,e){return l.default.postFormData("/productStore/upd",t,e)}},"vM/X":function(t,e,a){"use strict";var r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"poc-toast",attrs:{"append-to-body":!0,title:t.config.title,visible:t.config.dialogVisible,"close-on-click-modal":!1,width:t.width},on:{"update:visible":function(e){t.$set(t.config,"dialogVisible",e)},close:function(e){t.callBack("handleClose")}}},[a("div",{staticStyle:{padding:"20px 40px 0 0"}},[t._t("default")],2),t._v(" "),a("div",{staticClass:"btn-group"},t._l(t.config.btnData,function(e,r){return a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.config.btnStatus[r],expression:"config.btnStatus[index]"}],key:r,attrs:{disabled:e.disabled,type:e.type},on:{click:function(a){t.callBack(e.method)}}},[t._v(t._s(e.name))])}))])},staticRenderFns:[]};e.a=r},vPEu:function(t,e){},vh7S:function(t,e){},"vjT+":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.upCommonBom=e.beforeUpdateProductBom=e.upGradeCommonBom=e.beforeUpDateBom=e.deleteFormulaItems=e.findBomByPno=e.addOrUpdateFormula=e.findBomByPnoOrMpno2=e.optionProduct=e.addBom=e.findCommonBom=e.optionComponent=e.changeNumber=e.commit2Approve=e.deleteMatters=e.updateMatter=e.addMatters=e.optionBomCodeAndProdName=e.SearchBeforeAddMatters=e.startOrStopBom=e.findBomByPnoOrMpno=e.addBomNo=e.getNode=e.getRootNode=void 0;var r,o=a("Dod7"),l=(r=o)&&r.__esModule?r:{default:r};e.getRootNode=function(t){return l.default.post("/bomPlm/searchForProduct",t)},e.getNode=function(t){return l.default.postNoToast("/bomPlm/findMidProduct",t)},e.addBomNo=function(t){return l.default.post("/bomPlm/addBomNo",t)},e.findBomByPnoOrMpno=function(t){return l.default.post("/bomPlm/findBomByPnoOrMpno",t)},e.startOrStopBom=function(t){return l.default.post("/bomPlm/startOrStopBom",t)},e.SearchBeforeAddMatters=function(t){return l.default.post("/bomPlm/SearchBeforeAddMatters",t)},e.optionBomCodeAndProdName=function(t){return l.default.get("/bomPlm/optionBomCodeAndProdName",t)},e.addMatters=function(t){return l.default.postJson("/bomPlm/addMatters",t)},e.updateMatter=function(t){return l.default.postJson("/bomPlm/updateMatter",t)},e.deleteMatters=function(t){return l.default.post("/bomPlm/deleteMatters",t)},e.commit2Approve=function(t){return l.default.post("/bomPlm/commit2Approve",t)},e.changeNumber=function(t){return l.default.post("/bomPlm/changeNumber",t)},e.optionComponent=function(t){return l.default.get("/commonBom/optionComponent",t)},e.findCommonBom=function(t){return l.default.postNoToast("/commonBom/findCommonBom",t)},e.addBom=function(t){return l.default.post("/commonBom/addBomNo",t)},e.optionProduct=function(t){return l.default.get("/productStore/optionProduct",t)},e.findBomByPnoOrMpno2=function(t){return l.default.post("/bomPlm/findBomByPnoOrMpno",t)},e.addOrUpdateFormula=function(t){return l.default.post("/formulaBom/addOrUpdateFormula",t)},e.findBomByPno=function(t){return l.default.post("/formulaBom/findBomByPno",t)},e.deleteFormulaItems=function(t){return l.default.post("/formulaBom/deleteFormulaItems",t)},e.beforeUpDateBom=function(t){return l.default.postJson("/commonBom/beforeUpDateBom",t)},e.upGradeCommonBom=function(t){return l.default.postJson("/commonBom/upGradeCommonBom",t)},e.beforeUpdateProductBom=function(t){return l.default.post("/bomPlm/beforeUpdateProductBom",t)},e.upCommonBom=function(t){return l.default.postJson("/commonBom/upCommonBom",t)}},w0NT:function(t,e,a){"use strict";var r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"routerSet"},[a("div",{staticClass:"router-main clearfix"},[a("h3",{staticClass:"title"},[t._v("产品名称")]),t._v(" "),a("div",{staticClass:"clearfix",staticStyle:{height:"80px",position:"relative"}},[a("div",{staticClass:"form"},[a("el-form",{staticClass:"h_28",attrs:{model:t.currentNode.data,size:"mini","label-position":"left"}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"工艺路线号:","label-width":"90px"}},[t._v("\n                                "+t._s(t.currentNode.data.pathNo)+"\n                            ")])],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"产品信息:","label-width":"80px"}},[t._v("\n                                "+t._s(t.currentNode.data.prodMess)+"\n                            ")])],1),t._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:t.currentNode.level>1,expression:"currentNode.level>1"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"半产品信息:","label-width":"100px"}},[t._v("\n                                "+t._s(t.currentNode.data.midMsg)+"\n                            ")])],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"状态:","label-width":"50px"}},[t._v("\n                                "+t._s(t.currentNode.data.status)+"\n                            ")])],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"版本号:","label-width":"60px"}},[t._v("\n                                "+t._s(t.currentNode.data.versions)+"\n                            ")])],1)],1)],1)],1),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"已通过"!=t.currentNode.data.status&&"审批中"!=t.currentNode.data.status,expression:"currentNode.data.status!='已通过'&&currentNode.data.status!='审批中'"}],staticClass:"submit-btn",attrs:{type:"primary",size:"small"},on:{click:t.submitReview}},[t._v("提交审核")])],1),t._v(" "),a("div",{staticClass:"box"},[a("el-row",{staticStyle:{height:"250px"},attrs:{gutter:20}},[a("el-col",{staticClass:"pool-content",attrs:{span:12}},[a("el-card",{attrs:{shadow:"never","body-style":"height:150px;"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"title"},[t._v("工艺池")])]),t._v(" "),t._l(t.selfTags,function(e){return a("span",{class:{"is-active":t.currentPool.id==e.id},staticStyle:{cursor:"pointer"},on:{click:function(a){a.stopPropagation(),t.detailParam(e)}}},[a("el-tag",{key:e.name,attrs:{size:"medium",closable:"已通过"!=t.currentNode.data.status&&"审批中"!=t.currentNode.data.status,"disable-transitions":!1},on:{close:function(a){t.handleClose(e)}}},[t._v("\n                                "+t._s(e.crafworkName)+"\n                            ")])],1)}),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"已通过"!=t.currentNode.data.status&&"审批中"!=t.currentNode.data.status,expression:"currentNode.data.status!='已通过'&&currentNode.data.status!='审批中'"}],staticClass:"button-new-tag",attrs:{size:"small"},on:{click:t.beforeCarftworkAdd}},[t._v("+ 新增")])],2)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-card",{attrs:{shadow:"never","body-style":"height:150px;"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"title"},[t._v("工艺参数")])]),t._v(" "),t._l(t.params,function(e){return a("el-tag",{key:e.id,attrs:{size:"medium",closable:"已通过"!=t.currentNode.data.status&&"审批中"!=t.currentNode.data.status,"disable-transitions":!1},on:{close:function(a){a.stopPropagation(),t.paramClose(e)}}},[t._v("\n                                "+t._s(e.paramName)+"\n                            ")])}),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"已通过"!=t.currentNode.data.status&&"审批中"!=t.currentNode.data.status,expression:"currentNode.data.status!='已通过'&&currentNode.data.status!='审批中'"}],staticClass:"button-new-tag",attrs:{size:"small"},on:{click:t.beforeParamAdd}},[t._v("+ 新增")])],2)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"40px","margin-bottom":"20px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-card",{attrs:{shadow:"never","body-style":"min-height:150px;"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"title"},[t._v("工艺路线")])]),t._v(" "),a("drag-box",{attrs:{tags:t.tags,currentNode:t.currentNode}})],1)],1)],1)],1)]),t._v(" "),t.addPoolConfig.dialogVisible?a("toast",{staticClass:"dialog-box",attrs:{config:t.addPoolConfig,width:"570px",isForm:!1},on:{handleClose:function(e){t.$refs.currentCraftworkForm.clearValidate()},submit:t.submit,cancel:function(e){t.addPoolConfig.dialogVisible=!1}}},[a("div",{staticClass:"checkBox"},[a("el-checkbox-group",{model:{value:t.checkedcraftworks,callback:function(e){t.checkedcraftworks=e},expression:"checkedcraftworks"}},[t._l(t.craftworks,function(e){return a("el-checkbox",{key:e.id,attrs:{label:e},on:{change:function(a){t.selectChange(e)}}},[t._v(t._s(e.crafworkName))])}),t._v(" "),a("el-button",{staticClass:"default-btn",attrs:{size:"mini"},on:{click:t.addCraftwork}},[t._v("新增工艺")])],2)],1),t._v(" "),a("div",{staticClass:"tags clearfix"},t._l(t.checkedcraftworks,function(e,r){return a("div",{key:e.id,staticClass:"tag",class:{active:e.id==t.currentCraftwork.id},on:{click:function(a){t.currentCraftwork=e}}},[t._v("\n                 "+t._s(e.crafworkName)),a("i",{staticClass:"el-icon-close",on:{click:function(a){a.stopPropagation(),t.closeTag(e,r)}}})])})),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.currentCraftwork.id>0,expression:"currentCraftwork.id>0"}],staticClass:"form-box"},[a("el-form",{ref:"currentCraftworkForm",attrs:{model:t.currentCraftwork,size:"small","label-position":"left",rules:t.currentCraftworkFormRule}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"工艺岗位","label-width":"75px"}},[t._v("\n                            "+t._s(t.getJob(t.currentCraftwork.quartersEmp))+"\n                        ")])],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"计量单位","label-width":"75px"}},[t._v("\n                            "+t._s(t.currentCraftwork.unit)+"\n                        ")])],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"工艺要求","label-width":"80px",prop:"crafworkDesc"}},[a("el-input",{staticStyle:{width:"90%"},model:{value:t.currentCraftwork.crafworkDesc,callback:function(e){t.$set(t.currentCraftwork,"crafworkDesc",e)},expression:"currentCraftwork.crafworkDesc"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"设备单耗标准工时","label-width":"135px",prop:"macMinutes"}},[a("el-input-number",{attrs:{precision:0,controls:!1},model:{value:t.currentCraftwork.macMinutes,callback:function(e){t.$set(t.currentCraftwork,"macMinutes",e)},expression:"currentCraftwork.macMinutes"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"人员单耗标准工时","label-width":"135px",prop:"empMinutes"}},[a("el-input-number",{staticStyle:{width:"90%"},attrs:{precision:0,controls:!1},model:{value:t.currentCraftwork.empMinutes,callback:function(e){t.$set(t.currentCraftwork,"empMinutes",e)},expression:"currentCraftwork.empMinutes"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"每单标准产量","label-width":"110px",prop:"dayAmount"}},[a("el-input-number",{attrs:{precision:2,controls:!1},model:{value:t.currentCraftwork.dayAmount,callback:function(e){t.$set(t.currentCraftwork,"dayAmount",e)},expression:"currentCraftwork.dayAmount"}})],1)],1)],1)],1)],1)]):t._e(),t._v(" "),t.addCraftworkConfig.dialogVisible?a("toast",{staticClass:"dialog-box",attrs:{config:t.addCraftworkConfig,width:"570px"},on:{handleClose:function(e){t.addCraftworkConfig.dialogVisible=!1,t.addPoolConfig.dialogVisible=!0,t.$refs.craftworkForm.clearValidate()},sure:t.sure,cancel:function(e){t.addCraftworkConfig.dialogVisible=!1,t.addPoolConfig.dialogVisible=!0}}},[a("el-form",{ref:"craftworkForm",attrs:{model:t.newCraftwork,size:"small",rules:t.craftworkRules,"label-position":"right","label-width":"140px"}},[a("el-form-item",{attrs:{label:"工艺名称",prop:"crafworkName"}},[a("el-input",{model:{value:t.newCraftwork.crafworkName,callback:function(e){t.$set(t.newCraftwork,"crafworkName",e)},expression:"newCraftwork.crafworkName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"主生产设备",prop:"macType"}},[a("el-select",{staticStyle:{width:"100%"},model:{value:t.newCraftwork.macType,callback:function(e){t.$set(t.newCraftwork,"macType",e)},expression:"newCraftwork.macType"}},t._l(t.devs,function(t){return a("el-option",{key:t.modelName,attrs:{label:t.modelName,value:t.modelName}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"是否需要品检",prop:"isCheck"}},[a("el-radio-group",{model:{value:t.newCraftwork.isCheck,callback:function(e){t.$set(t.newCraftwork,"isCheck",e)},expression:"newCraftwork.isCheck"}},[a("el-radio",{attrs:{label:1}},[t._v("是")]),t._v(" "),a("el-radio",{attrs:{label:0}},[t._v("否")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"工艺岗位",prop:"quartersEmp"}},[a("el-select",{staticStyle:{width:"100%"},model:{value:t.newCraftwork.quartersEmp,callback:function(e){t.$set(t.newCraftwork,"quartersEmp",e)},expression:"newCraftwork.quartersEmp"}},t._l(t.jobs,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"计量单位",prop:"unit"}},[a("el-input",{model:{value:t.newCraftwork.unit,callback:function(e){t.$set(t.newCraftwork,"unit",e)},expression:"newCraftwork.unit"}})],1)],1)],1):t._e(),t._v(" "),t.paramSet.dialogVisible?a("toast",{attrs:{config:t.paramSet,width:"440px"},on:{submit:t.sureParam,handleClose:function(e){t.paramSet.dialogVisible=!1,t.addParamsConfig.dialogVisible=!0},cancel:function(e){t.paramSet.dialogVisible=!1,t.$refs.ruleForm.clearValidate()}}},[a("el-form",{ref:"ruleForm",attrs:{model:t.formData}},[a("el-form-item",{attrs:{label:"工艺参数名","label-width":"120px",size:"mini"}},[a("div",{staticClass:"list-group"},t._l(t.formData.list,function(e,r){return a("div",{staticClass:"list-item"},[a("div",{staticClass:"list-input"},[a("el-input",{model:{value:e.param,callback:function(a){t.$set(e,"param",a)},expression:"item.param"}})],1),t._v(" "),a("div",{staticClass:"list-btn-group"},[a("el-button",{attrs:{type:"text",icon:"el-icon-plus"},on:{click:function(e){t.newAdd(r)}}}),t._v(" "),a("el-button",{attrs:{type:"text",icon:"el-icon-delete",disabled:1==t.formData.list.length},on:{click:function(e){t.formData.list.splice(r,1)}}})],1)])}))])],1)],1):t._e(),t._v(" "),t.addParamsConfig.dialogVisible?a("toast",{staticClass:"dialog-box",attrs:{config:t.addParamsConfig,width:"570px",isForm:!1},on:{submit:t.paramSubmit,cancel:function(e){t.addParamsConfig.dialogVisible=!1}}},[a("div",{staticClass:"checkBox"},[a("el-checkbox-group",{model:{value:t.checkedParams,callback:function(e){t.checkedParams=e},expression:"checkedParams"}},[t._l(t.paramList,function(e){return a("el-checkbox",{key:e.id,attrs:{label:e}},[t._v(t._s(e.param))])}),t._v(" "),a("el-button",{staticClass:"default-btn",attrs:{size:"mini"},on:{click:t.addParam}},[t._v("新增参数")])],2)],1),t._v(" "),a("div",{staticClass:"tags clearfix"},t._l(t.checkedParams,function(e,r){return a("div",{key:e.id,staticClass:"tag",class:{active:e.id==t.currentParam.id},on:{click:function(a){t.setCurrentParam(e)}}},[a("span",[t._v(t._s(e.param))]),t._v(" "),a("i",{staticClass:"el-icon-close",on:{click:function(a){a.stopPropagation(),t.closeTag(e,r)}}})])})),t._v(" "),t.currentParam.id>0?a("div",{staticClass:"form-box"},[a("el-form",{ref:"paramForm",attrs:{model:t.currentParam,rules:t.paramRule,size:"small","label-position":"left","label-width":"70px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"产品信息"}},[t._v("\n                            "+t._s(t.currentNode.data.prodNo)+"\n                        ")])],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"半产品信息","label-width":"90px"}},[t._v("\n                            "+t._s(t.currentNode.data.midProdNo)+"\n                        ")])],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"工艺名称"}},[t._v("\n                            "+t._s(t.currentPool.crafworkName)+"\n                        ")])],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"参数名"}},[t._v("\n                            "+t._s(t.currentParam.param)+"\n                        ")])],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"参数值",prop:"values1"}},[a("el-input",{staticStyle:{width:"80%"},model:{value:t.currentParam.values1,callback:function(e){t.$set(t.currentParam,"values1",e)},expression:"currentParam.values1"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"值级",prop:"values3"}},[a("el-input",{staticStyle:{width:"80%"},model:{value:t.currentParam.values3,callback:function(e){t.$set(t.currentParam,"values3",e)},expression:"currentParam.values3"}})],1)],1)],1)],1)],1):t._e()]):t._e()],1)},staticRenderFns:[]};e.a=r},xNeC:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.optionProduct=e.approve=void 0;var r,o=a("Dod7"),l=(r=o)&&r.__esModule?r:{default:r};e.approve=function(t){return l.default.post("bomChangeApply/approve",t)},e.optionProduct=function(t){return l.default.get("/productStore/optionProduct",t)}},xVsk:function(t,e,a){"use strict";var r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"myToast3"},[a("el-form",{ref:"ruleForm5",attrs:{size:"small","label-position":t.labelPosition,"label-width":"150px",model:t.formLabelAlign},on:{submit:t.submit,cancel:t.cancel}},[a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"半成品信息"}},[a("el-select",{attrs:{placeholder:"请输入或选择",prop:"midMsg"},on:{change:t.findCraf},model:{value:t.getMessList.midMsg,callback:function(e){t.$set(t.getMessList,"midMsg",e)},expression:"getMessList.midMsg"}},t._l(t.getMessList.ops,function(t){return a("el-option",{key:t.value,attrs:{label:t.midMsg,value:t.midMsg}})}))],1)],1)],1)],1),t._v(" "),a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{staticStyle:{"font-size":"36px"},attrs:{label:"新增工艺",name:"first"}},[a("el-form",{ref:"ruleForm1",staticStyle:{"margin-top":"45px"},attrs:{size:"small","label-position":t.labelPosition,"label-width":"150px",model:t.formLabelAlign}},[a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"工艺名称"}},[a("el-select",{attrs:{placeholder:"请选择",prop:"crafworkName"},model:{value:t.crafworkList.crafworkName,callback:function(e){t.$set(t.crafworkList,"crafworkName",e)},expression:"crafworkList.crafworkName"}},t._l(t.crafworkList,function(t){return a("el-option",{key:t.value,attrs:{label:t.crafworkName,value:t.crafworkName}})}))],1)],1),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"工艺要求",prop:"number"}},[a("el-input",{attrs:{placeholder:"请输入内容"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"工艺岗位"}},[a("el-select",{attrs:{placeholder:"请选择",prop:"label"},on:{click:t.crafworkQuarter},model:{value:t.QuarterList.label,callback:function(e){t.$set(t.QuarterList,"label",e)},expression:"QuarterList.label"}},t._l(t.QuarterList,function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})}))],1)],1),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"计量单位"}},[a("el-input",{attrs:{placeholder:"请输入内容"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"工艺顺序"}},[a("el-input",{attrs:{placeholder:"请输入内容"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"人员单耗标准工时"}},[a("el-input",{attrs:{placeholder:"请输入内容"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"设备单耗标准工时"}},[a("el-input",{attrs:{placeholder:"请输入内容"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"每班标准产量"}},[a("el-input",{attrs:{placeholder:"请输入内容"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"是否需要品检"}},[a("el-radio",{attrs:{label:"1"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("是")]),t._v(" "),a("el-radio",{attrs:{label:"2"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("否")])],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"备注",prop:"number"}},[a("el-input",{attrs:{placeholder:"至少五个字",type:"textarea"}})],1)],1)],1)],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"删除工艺",name:"second"}},[a("el-table",{staticStyle:{width:"100%","text-align":"center"},attrs:{"header-cell-style":t.rowClass,data:t.tableData1,"show-header:true":""}},[a("el-table-column",{attrs:{prop:"address",label:"工艺名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"工艺顺序"}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"构成数量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"计量单位"}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticStyle:{color:"#F6463B"},attrs:{type:"text",size:"small"},nativeOn:{click:function(a){a.preventDefault(),t.deleteRow(e.$index,t.tableData1)}}},[t._v(" 删除")])]}}])})],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"调整工艺",name:"third"}},[a("el-table",{staticStyle:{width:"100%","text-align":"center"},attrs:{"header-cell-style":t.rowClass,"default-sort":{prop:"address",order:"descending"},data:t.tableData1,"show-header:true":""}},[a("el-table-column",{attrs:{prop:"date",label:"工艺名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"工艺顺序"}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"构成数量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"age",label:"计量单位"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":" 100%"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"sanjiao",staticStyle:{}},[a("i",{staticClass:"el-icon-caret-top",attrs:{disabled:0===e.$index},on:{click:function(a){t.moveUp(e.$index,e.row)}}}),t._v(" "),a("i",{staticClass:"el-icon-caret-bottom",attrs:{disabled:e.$index===t.tableData1.length-1},on:{click:function(a){t.moveDown(e.$index,e.row)}}})])]}}])})],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"编辑工艺",name:"four"}},[a("el-table",{staticStyle:{width:"100%","text-align":"center"},attrs:{"header-cell-style":t.rowClass,data:t.tableData1,"show-header:true":""}},[a("el-table-column",{attrs:{prop:"crafworkName",label:"工艺名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"前置工艺"}}),t._v(" "),a("el-table-column",{attrs:{prop:"carfSeq",label:"工艺顺序"}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"构成数量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"unit",label:"计量单位"}}),t._v(" "),a("el-table-column",{attrs:{prop:"macMinutes",label:"设备单耗标准工时"}}),t._v(" "),a("el-table-column",{attrs:{prop:"empMinutes",label:"人员单耗标准工时"}}),t._v(" "),a("el-table-column",{attrs:{prop:"dayAmount",label:"每班标准产量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:t.xiugai}},[t._v("编辑")])]}}])})],1)],1)],1),t._v(" "),a("plmToast",{attrs:{config:t.changeConfig,width:"900px"},on:{cancel:t.cancel,submit:t.submit}},[a("div",{staticClass:"myToast"},[a("el-form",{ref:"ruleForm2",attrs:{size:"small","label-width":"120px;"}},[a("el-col",[a("el-form-item",{attrs:{label:"修改项目"}},[a("el-select",{attrs:{placeholder:"请选择",prop:"bonNo"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.opsz,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%","text-align":"center"},attrs:{"header-cell-style":t.rowClass,data:t.tableData1,"show-header:true":""}},[a("el-table-column",{attrs:{prop:"address",label:"工艺名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"工艺顺序"}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"计量单位"}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"设备单耗标准工时"}}),t._v(" "),a("el-table-column",{attrs:{prop:"date",label:"人员单耗标准工时"}}),t._v(" "),a("el-table-column",{attrs:{prop:"date",label:"每班标准产量"}})],1)],1)])],1)},staticRenderFns:[]};e.a=r},xhUu:function(t,e,a){"use strict";var r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.currentNode.level>0&&t.currentNode.data.pathNo?a("div",{staticClass:"router-main clearfix"},[a("h3",{staticClass:"title"},[t._v(t._s(t.request.nowChoice))]),t._v(" "),a("div",{staticClass:"clearfix",staticStyle:{height:"35px",position:"relative"}},[a("div",{staticClass:"form",staticStyle:{"margin-top":"20px"}},[a("el-form",{staticClass:"h_28",attrs:{size:"mini","label-position":"left"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:t.request.prodMsg?"产品信息：":"半成品信息："}},[t._v("\n                            "+t._s(t.request.prodMsg?t.request.prodMsg:t.request.midProdMsg)+"\n                        ")])],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"工艺路线号："}},[t._v("\n                            "+t._s(t.request.pathNo)+"\n                        ")])],1)],1)],1)],1)]),t._v(" "),a("el-table",{staticStyle:{width:"100%","text-align":"center","margin-top":"20px"},attrs:{"header-cell-style":t.rowClass,data:t.request.crafworkChangeRecordPlmDtos,"show-header:true":""}},[a("el-table-column",{attrs:{prop:"voucherNo",label:"单据号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"midProdMsg",label:"半成品信息"}}),t._v(" "),a("el-table-column",{attrs:{prop:"changeFlag",label:"修改类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"changeItem",label:"修改项目"}}),t._v(" "),a("el-table-column",{attrs:{prop:"oldValue",label:"旧值"}}),t._v(" "),a("el-table-column",{attrs:{prop:"newValue",label:"新值"}}),t._v(" "),a("el-table-column",{attrs:{prop:"changeEmp",label:"修改人"}}),t._v(" "),a("el-table-column",{attrs:{prop:"updDate",label:"修改日期",width:"200px;"}})],1)],1):t._e()},staticRenderFns:[]};e.a=r},yDZp:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("gUC8"),o=a.n(r);for(var l in r)"default"!==l&&function(t){a.d(e,t,function(){return r[t]})}(l);var i=a("AzUM");var n=function(t){a("a1/Z")},s=a("C7Lr")(o.a,i.a,!1,n,null,null);e.default=s.exports},yG6I:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{}},props:{currentNode:{default:function(){return{level:-1}},type:Object},request:{type:Object}},methods:{rowClass:function(t){t.row;var e=t.rowIndex;return console.log(e),"background:#E5E5E5"}}}},ylsJ:function(t,e){},yrxU:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{minValue:-1/0,maxValue:1/0}},props:["value"],methods:{handleMinChange:function(t){/^(-?\d+)(\.\d+)?$/.test(t)?(this.$set(this.value,0,parseInt(this.value[0])),parseInt(this.value[0])>=parseInt(this.value[1])&&this.$set(this.value,1,parseInt(this.value[0])+1)):this.$set(this.value,0,null)},handleMaxChange:function(t){this.$set(this.value,1,parseInt(this.value[1])),/^(-?\d+)(\.\d+)?$/.test(t)?parseInt(this.value[1])<=parseInt(this.value[0])&&this.$set(this.value,0,parseInt(this.value[1])-1):this.$set(this.value,1,null)}}}},z5Z5:function(t,e,a){"use strict";var r={render:function(){var t=this.$createElement;return(this._self._c||t)("page",{attrs:{pageData:this.pageData}})},staticRenderFns:[]};e.a=r},z7HP:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{config:{type:Object,required:!0}},computed:{menuDrag:function(){return this.config.visible?"el-icon-d-arrow-left menu-drag-go":"el-icon-d-arrow-right menu-drag-back"},sidebar:function(){return this.config.visible?"menu-slide-enter-active":"menu-slide-enter"}},methods:{router:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=" / "+t.name+(e.name?" / "+e.name:""),r=e.name?e.name:t.name;this.$emit("slideBack",a,r)},goback:function(){this.config.visible=!this.config.visible}}}},z9Jm:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(a("HzJ8")),o=a("Cs0b"),l=n(a("ZIPS")),i=a("mDfN");function n(t){return t&&t.__esModule?t:{default:t}}e.default={data:function(){return{bind:!0,row:"",detailData:[],tableData:[],publicData:{prodMsg:"",pathNo:"",options:[]},list:[{field:"voucherNo",label:"单据号",status:[1,3],type:"select",childrens:[]},{field:"raiseDate",label:"申请日期",status:[1]},{field:"raiseUser",label:"申请人",status:[1,2]},{field:"pathNo",label:"工艺路线号",status:[1,2]},{field:"orgName",label:"变更部门",status:[1,2,3],type:"select",childrens:[]},{field:"label",label:"单据状态",status:[1,2]}],listUrl:"/changeMain/page",addUrl:"/productStore/add",delUrl:"/productStore/del",editUrl:"/productStore/upd",detailUrl:"changeRe/getDetail",labelPosition:"right",formLabelAlign:{name:"",region:"",type:""},detailConfig:{title:"查看详情",dialogVisible:!1,width:"1000px",btnData:[{name:"取消",method:"checkCancel",bgColor:"dialog-deep-blue"}],btnStatus:[!0,!0,!0]},toastConfig:{title:"变更申请",dialogVisible:!1,width:"400px",btnData:[{name:"保存",type:"primary",method:"submit"},{name:"取消",method:"cancel",bgColor:"dialog-deep-blue"}],btnStatus:[!0,!0,!0]},approlConfig:{title:"审批",dialogVisible:!1,width:"200px"}}},methods:{failPass:function(){var t=this;this.approlConfig.dialogVisible=!1,(0,i.examine)({voucherNo:this.row.voucherNo,isPass:!1}).then(function(e){t.$message({message:"审批成功",type:"success"}),t.$refs.template.getList()})},approval:function(t){this.row=t,console.log(t,"uigdgsdlgl"),this.approlConfig.dialogVisible=!0},isPass:function(){var t=this;this.approlConfig.dialogVisible=!1,(0,i.examine)({voucherNo:this.row.voucherNo,isPass:!0}).then(function(e){t.$message({message:"审批成功",type:"success"}),t.$refs.template.getList()})},rowClass:function(t){t.row,t.rowIndex;return"background:#E5E5E5"},detail:function(t){var e=this;this.detailConfig.dialogVisible=!0,(0,i.getDetail)({voucherNo:t.voucherNo}).then(function(t){e.detailData=t})},findVoucher:function(){var t=this;(0,i.findVoucher)({},this).then(function(e){var a=!0,o=!1,l=void 0;try{for(var i,n=(0,r.default)(e);!(a=(i=n.next()).done);a=!0){var s=i.value;s.voucherNo;t.list[0].childrens.push({label:s.voucherNo,value:s.voucherNo})}}catch(t){o=!0,l=t}finally{try{!a&&n.return&&n.return()}finally{if(o)throw l}}})},optionPathNo:function(){var t=this;this.publicData.pathNo="",this.publicData.prodMsg="",this.toastConfig.dialogVisible=!0;(0,i.optionPathNo)({},this).then(function(e){t.publicData.options=e})},getOrg:function(){var t=this;(0,i.getOrg)({}).then(function(e){var a=!0,o=!1,l=void 0;try{for(var i,n=(0,r.default)(e);!(a=(i=n.next()).done);a=!0){var s=i.value;t.list[4].childrens.push({label:s.orgName,value:s.orgName})}}catch(t){o=!0,l=t}finally{try{!a&&n.return&&n.return()}finally{if(o)throw l}}})},add:function(){this.list[0].disabled=!1,this.$refs.template.add()},detailView:function(){this.detailConfig.dialogVisible=!0},submit:function(){this.toastConfig.dialogVisible=!1},cancel:function(){this.toastConfig.dialogVisible=!1},checkCancel:function(){this.detailConfig.dialogVisible=!1}},mounted:function(){this.findVoucher(),this.getOrg()},components:{Template:o.Template,myToast:l.default}}},zAgK:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("RbPh"),o=a.n(r);for(var l in r)"default"!==l&&function(t){a.d(e,t,function(){return r[t]})}(l);var i=a("AHSy");var n=function(t){a("5gZZ")},s=a("C7Lr")(o.a,i.a,!1,n,null,null);e.default=s.exports},zeWI:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(a("IHPB")),o=a("Cs0b"),l=a("17pD"),i=n(a("GSr8"));function n(t){return t&&t.__esModule?t:{default:t}}e.default={data:function(){return{addAry:[],editAry:[],selectData:[],formData:{status:"",id:-1},statusList:[],select:[],list:[{field:"mattersInfo",label:"物料信息",status:[1]},{field:"mattersNo",label:"物料编码",status:[2]},{field:"mattersName",label:"物料名称",status:[2]},{field:"typeName",label:"物料分类",status:[1,3]},{field:"typeId",label:"物料分类",status:[2],type:"select",childrens:[]},{field:"factory",label:"生产厂商",status:[2]},{field:"allInfo",label:"规格/参数/型号",status:[1]},{field:"unit",label:"单位",status:[1,2]},{field:"brand",label:"品牌",status:[2]},{field:"weight",label:"单位重量",status:[1,2],type:"number",max:1e10},{field:"isMidprod",label:"物料类型",status:[2],type:"select",childrens:[]},{field:"versions",label:"版本号",status:[1,2]},{field:"norms",label:"规格",status:[2]},{field:"material",label:"材质",status:[2]},{field:"modelDesc",label:"型号",status:[2]},{field:"level",label:"等级",status:[2]},{field:"param",label:"参数",status:[2]},{field:"status",label:"状态",status:[1]},{field:"statusId",label:"状态",status:[2],type:"select",childrens:[]},{field:"iosDesc",label:"描述",status:[2]}],listUrl:"matters/selectStore",addUrl:"matters/insetStore",delUrl:"matters/deletedStore",editUrl:"matters/updateStore",rules:{mattersNo:[{required:!0,message:"请输入物料编码",trigger:"blur"}].concat((0,r.default)(i.default.length1(20,"不能超过20位字符"))),mattersName:[{required:!0,message:"请输入物料名称",trigger:"blur"}].concat((0,r.default)(i.default.length1(30,"不能超过30位字符"))),typeId:i.default.require("string","请选择物料分类"),factory:i.default.require("string","生产厂家不能为空"),weight:[{required:!0,message:"请输入单位重量",trigger:"blur"}].concat((0,r.default)(i.default.length1(11,"不能超过11位字符"))),unit:[{required:!0,message:"请输入单位",trigger:"blur"}].concat((0,r.default)(i.default.length1(8,"不能超过8位字符"))),isMidprod:i.default.require("string","请选择物料类型"),statusId:i.default.require("string","请选择状态"),norms:[{required:!0,message:"请输入规格",trigger:"blur"}].concat((0,r.default)(i.default.length1(40,"不能超过40位字符"))),param:[{required:!0,message:"请输入参数",trigger:"blur"}].concat((0,r.default)(i.default.length1(40,"不能超过40位字符"))),modelDesc:[{required:!0,message:"请输入型号",trigger:"blur"}].concat((0,r.default)(i.default.length1(30,"不能超过30位字符"))),level:i.default.length1(30,"不能超过30位字符"),brand:i.default.length1(30,"不能超过30位字符"),material:i.default.length1(20,"不能超过20位字符"),versions:i.default.length1(18,"不能超过18位字符"),iosDesc:i.default.length1(250,"不能超过250位字符")},toastConfig:{title:"状态维护",width:"600px",dialogVisible:!1,btnData:[{type:"primary",method:"submit",name:"保存"},{type:"",method:"cancel",name:"取消"}],btnStatus:[!0,!0,!0]}}},methods:{handlerselect:function(t){this.selectData=t},add:function(){this.list[10].childrens=this.addAry,this.list[1].disabled=!1,this.$refs.template.add()},edit:function(){this.list[10].childrens=this.editAry,this.list[1].disabled=!0,console.log(this.selectData[0]),this.$refs.template.edit(this.selectData[0])},maintenance:function(t){this.formData.id=t.id,this.formData.status=t.statusId,this.toastConfig.dialogVisible=!0},submit:function(){var t=this;(0,l.changeStatus)(this.formData,this).then(function(e){t.$message.success("状态修改成功"),t.toastConfig.dialogVisible=!1,t.$refs.template.getList(),t.rules.mattersNo=i.default.length1(2,"不能超过20位字符")})}},mounted:function(){var t=this;(0,l.getTypeList)(this).then(function(e){e.forEach(function(t){t.value=parseInt(t.value)}),t.list[4].childrens=e}),(0,l.getWuliaoList)(this).then(function(e){for(var a in e)t.addAry.push({label:e[a],value:a.toString()})}),(0,l.getWuliaoEditAry)(this).then(function(e){for(var a in e)t.editAry.push({label:e[a],value:a})}),(0,l.getStatus)(this).then(function(e){for(var a in e)t.list[18].childrens.push({label:e[a],value:parseInt(a)}),t.statusList.push({label:e[a],value:parseInt(a)}),console.log(a)})},components:{Template:o.Template}}}},[0]);
//# sourceMappingURL=main.24e0619d5946e7113b99.js.map